{"ast":null,"code":"var _jsxFileName = \"/home/saharsh/digital-twins-explorer/client/src/components/OutputComponent/OutputComponent.js\";\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport React from \"react\";\nimport { eventService } from \"../../services/EventService\";\nimport { print } from \"../../services/LoggingService\";\nimport \"./OutputComponent.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class OutputComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.update = (newdata, newtype) => {\n      let newdataWithFallback = newdata;\n      if (!newdata) {\n        newdataWithFallback = \"\";\n      }\n      let newtypeWithFallback = newtype;\n      if (newtype !== \"error\" && newtype !== \"info\" && newtype !== \"warning\" && newtype !== \"ok\") {\n        newtypeWithFallback = \"info\";\n      }\n      const lines = newdataWithFallback.split(/\\r\\n|\\r|\\n/);\n      if (lines.length > 1) {\n        const nlog = lines.map(line => ({\n          data: line,\n          method: newtypeWithFallback\n        }));\n        this.setState(prevState => ({\n          logs: [...prevState.logs, ...nlog]\n        }));\n      } else {\n        const nlog = {\n          data: newdataWithFallback,\n          method: newtypeWithFallback\n        };\n        this.setState(prevState => ({\n          logs: [...prevState.logs, nlog]\n        }));\n      }\n    };\n    this.state = {\n      logs: []\n    };\n  }\n  componentDidMount() {\n    eventService.subscribeLog(data => this.update(data.data, data.type));\n    print(\"**********************************************************\", \"ok\");\n    print(\"*** Welcome to the Azure Digital Twins Demo Playground ***\", \"ok\");\n    print(\"**********************************************************\", \"ok\");\n  }\n  componentDidUpdate() {\n    const objDiv = document.getElementById(\"oc-scroll\");\n    if (objDiv) {\n      objDiv.scrollTop = objDiv.scrollHeight;\n    }\n  }\n  render() {\n    const {\n      logs\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"oc-scroll\",\n      className: \"oc-output\",\n      children: logs.map((log, i) => /*#__PURE__*/_jsxDEV(\"pre\", {\n        className: `oc-${log.method}`,\n        children: log.data\n      }, `log-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","eventService","print","jsxDEV","_jsxDEV","OutputComponent","Component","constructor","props","update","newdata","newtype","newdataWithFallback","newtypeWithFallback","lines","split","length","nlog","map","line","data","method","setState","prevState","logs","state","componentDidMount","subscribeLog","type","componentDidUpdate","objDiv","document","getElementById","scrollTop","scrollHeight","render","id","className","children","log","i","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/home/saharsh/digital-twins-explorer/client/src/components/OutputComponent/OutputComponent.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport React from \"react\";\nimport { eventService } from \"../../services/EventService\";\nimport { print } from \"../../services/LoggingService\";\nimport \"./OutputComponent.scss\";\n\nexport class OutputComponent extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { logs: [] };\n  }\n\n  componentDidMount() {\n    eventService.subscribeLog(data => this.update(data.data, data.type));\n    print(\"**********************************************************\", \"ok\");\n    print(\"*** Welcome to the Azure Digital Twins Demo Playground ***\", \"ok\");\n    print(\"**********************************************************\", \"ok\");\n  }\n\n  update = (newdata, newtype) => {\n    let newdataWithFallback = newdata;\n    if (!newdata) {\n      newdataWithFallback = \"\";\n    }\n    let newtypeWithFallback = newtype;\n    if (newtype !== \"error\"\n      && newtype !== \"info\"\n      && newtype !== \"warning\"\n      && newtype !== \"ok\") {\n      newtypeWithFallback = \"info\";\n    }\n    const lines = newdataWithFallback.split(/\\r\\n|\\r|\\n/);\n    if (lines.length > 1) {\n      const nlog = lines.map(line => ({ data: line, method: newtypeWithFallback }));\n      this.setState(prevState => ({ logs: [ ...prevState.logs, ...nlog ] }));\n    } else {\n      const nlog = {\n        data: newdataWithFallback,\n        method: newtypeWithFallback\n      };\n      this.setState(prevState => ({ logs: [ ...prevState.logs, nlog ] }));\n    }\n  }\n\n  componentDidUpdate() {\n    const objDiv = document.getElementById(\"oc-scroll\");\n    if (objDiv) {\n      objDiv.scrollTop = objDiv.scrollHeight;\n    }\n  }\n\n  render() {\n    const { logs } = this.state;\n    return (\n      <div id=\"oc-scroll\" className=\"oc-output\">\n        {logs.map((log, i) =>\n          <pre key={`log-${i}`} className={`oc-${log.method}`}>{log.data}</pre>\n        )}\n      </div>\n    );\n  }\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}