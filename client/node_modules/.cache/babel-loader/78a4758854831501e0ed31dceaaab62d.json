{"ast":null,"code":"var _jsxFileName = \"/home/saharsh/digital-twins-explorer/client/src/components/PreferencesFormComponent/PreferencesFormComponent.js\";\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport React, { Component } from \"react\";\nimport { FocusZone, FocusZoneTabbableElements, Toggle, IconButton } from \"office-ui-fabric-react\";\nimport { eventService } from \"../../services/EventService\";\nimport { settingsService } from \"../../services/SettingsService\";\nimport { capitalizeName } from \"../../utils/utilities\";\nimport ModalComponent from \"../ModalComponent/ModalComponent\";\nimport \"./PreferencesFormComponent.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ENTER_KEY_CODE = 13;\nconst SPACE_KEY_CODE = 32;\nexport class PreferencesFormComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.loadExistingSettings = () => {\n      this.setState({\n        showModal: true,\n        eagerLoading: settingsService.eagerLoading,\n        caching: settingsService.caching\n      });\n    };\n    this.closeSettings = e => {\n      e.preventDefault();\n      if (this.hasOpenedConsole) {\n        eventService.publishFocusConsole();\n      }\n      this.resetModalState();\n    };\n    this.resetModalState = () => {\n      this.setState({\n        showModal: false,\n        eagerLoading: false,\n        caching: false\n      });\n      this.hasOpenedConsole = false;\n    };\n    this.getStyles = () => ({\n      root: {\n        width: 250\n      }\n    });\n    this.onEagerLoadingChange = (evt, checked) => {\n      this.setState({\n        eagerLoading: checked\n      });\n      settingsService.eagerLoading = checked;\n    };\n    this.onCachingChange = (evt, checked) => {\n      this.setState({\n        caching: checked\n      });\n      settingsService.caching = checked;\n    };\n    this.toggleHighContrastMode = (evt, checked) => {\n      this.props.toggleHighContrastMode(checked);\n    };\n    this.onToggleOptionalComponentChange = id => this.props.toggleOptionalComponent(id);\n    this.handleToggleKeypress = (e, component) => {\n      if ((e.keyCode === ENTER_KEY_CODE || e.keyCode === SPACE_KEY_CODE) && component === \"console\") {\n        this.hasOpenedConsole = true;\n      }\n    };\n    this.state = {\n      showModal: false,\n      eagerLoading: false,\n      caching: false\n    };\n    this.hasOpenedConsole = false;\n  }\n  componentDidMount() {\n    eventService.subscribePreferences(this.loadExistingSettings);\n  }\n  render() {\n    const {\n      optionalComponentsState,\n      contrast\n    } = this.props;\n    const {\n      showModal,\n      eagerLoading,\n      caching\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(ModalComponent, {\n      isVisible: showModal,\n      className: \"preference-settings\",\n      children: /*#__PURE__*/_jsxDEV(FocusZone, {\n        handleTabKey: FocusZoneTabbableElements.all,\n        isCircularNavigation: true,\n        defaultActiveElement: \"#eagerLoadingField\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            iconProps: {\n              iconName: \"Clear\"\n            },\n            ariaLabel: this.props.t(\"preferencesFormComponent.ariaLabel\"),\n            className: \"pr-close-icon\",\n            onClick: this.closeSettings\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"heading-2\",\n            children: this.props.t(\"preferencesFormComponent.heading1\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n            id: \"eagerLoadingField\",\n            className: \"configuration-input\",\n            checked: eagerLoading,\n            onChange: this.onEagerLoadingChange,\n            label: this.props.t(\"preferencesFormComponent.eagerLoadingField\"),\n            inlineLabel: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n            id: \"cachingField\",\n            className: \"configuration-input\",\n            checked: caching,\n            onChange: this.onCachingChange,\n            label: this.props.t(\"preferencesFormComponent.cachingField\"),\n            inlineLabel: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"heading-2\",\n            children: this.props.t(\"preferencesFormComponent.heading2\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), optionalComponentsState.map(comp => /*#__PURE__*/_jsxDEV(Toggle, {\n            id: `show${capitalizeName(comp.id)}Field`,\n            className: \"configuration-input\",\n            checked: comp.show,\n            onChange: () => this.onToggleOptionalComponentChange(comp.id),\n            label: capitalizeName(comp.name),\n            inlineLabel: true,\n            onKeyDown: e => this.handleToggleKeypress(e, comp.id)\n          }, comp.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"heading-2\",\n            children: this.props.t(\"preferencesFormComponent.heading3\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n            id: \"highContrastField\",\n            className: \"configuration-input\",\n            checked: contrast === \"high-contrast\",\n            onChange: this.toggleHighContrastMode,\n            label: this.props.t(\"preferencesFormComponent.highContrastField\"),\n            inlineLabel: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","FocusZone","FocusZoneTabbableElements","Toggle","IconButton","eventService","settingsService","capitalizeName","ModalComponent","jsxDEV","_jsxDEV","ENTER_KEY_CODE","SPACE_KEY_CODE","PreferencesFormComponent","constructor","props","loadExistingSettings","setState","showModal","eagerLoading","caching","closeSettings","e","preventDefault","hasOpenedConsole","publishFocusConsole","resetModalState","getStyles","root","width","onEagerLoadingChange","evt","checked","onCachingChange","toggleHighContrastMode","onToggleOptionalComponentChange","id","toggleOptionalComponent","handleToggleKeypress","component","keyCode","state","componentDidMount","subscribePreferences","render","optionalComponentsState","contrast","isVisible","className","children","handleTabKey","all","isCircularNavigation","defaultActiveElement","iconProps","iconName","ariaLabel","t","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onChange","label","inlineLabel","map","comp","show","name","onKeyDown"],"sources":["/home/saharsh/digital-twins-explorer/client/src/components/PreferencesFormComponent/PreferencesFormComponent.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport React, { Component } from \"react\";\nimport { FocusZone, FocusZoneTabbableElements, Toggle, IconButton } from \"office-ui-fabric-react\";\n\nimport { eventService } from \"../../services/EventService\";\nimport { settingsService } from \"../../services/SettingsService\";\nimport { capitalizeName } from \"../../utils/utilities\";\nimport ModalComponent from \"../ModalComponent/ModalComponent\";\n\nimport \"./PreferencesFormComponent.scss\";\n\nconst ENTER_KEY_CODE = 13;\nconst SPACE_KEY_CODE = 32;\n\nexport class PreferencesFormComponent extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showModal: false,\n      eagerLoading: false,\n      caching: false\n    };\n    this.hasOpenedConsole = false;\n  }\n\n  componentDidMount() {\n    eventService.subscribePreferences(this.loadExistingSettings);\n  }\n\n  loadExistingSettings = () => {\n    this.setState({\n      showModal: true,\n      eagerLoading: settingsService.eagerLoading,\n      caching: settingsService.caching\n    });\n  }\n\n  closeSettings = e => {\n    e.preventDefault();\n    if (this.hasOpenedConsole) {\n      eventService.publishFocusConsole();\n    }\n    this.resetModalState();\n  }\n\n  resetModalState = () => {\n    this.setState({\n      showModal: false,\n      eagerLoading: false,\n      caching: false\n    });\n    this.hasOpenedConsole = false;\n  }\n\n  getStyles = () => ({\n    root: {\n      width: 250\n    }\n  })\n\n  onEagerLoadingChange = (evt, checked) => {\n    this.setState({ eagerLoading: checked });\n    settingsService.eagerLoading = checked;\n  }\n\n  onCachingChange = (evt, checked) => {\n    this.setState({ caching: checked });\n    settingsService.caching = checked;\n  }\n\n  toggleHighContrastMode = (evt, checked) => {\n    this.props.toggleHighContrastMode(checked);\n  }\n\n  onToggleOptionalComponentChange = id => this.props.toggleOptionalComponent(id)\n\n  handleToggleKeypress = (e, component) => {\n    if ((e.keyCode === ENTER_KEY_CODE || e.keyCode === SPACE_KEY_CODE) && component === \"console\") {\n      this.hasOpenedConsole = true;\n    }\n  }\n\n  render() {\n    const { optionalComponentsState, contrast } = this.props;\n    const { showModal, eagerLoading, caching } = this.state;\n\n    return (\n      <ModalComponent isVisible={showModal} className=\"preference-settings\">\n        <FocusZone handleTabKey={FocusZoneTabbableElements.all} isCircularNavigation defaultActiveElement=\"#eagerLoadingField\">\n          <form>\n            <IconButton iconProps={{ iconName: \"Clear\" }} ariaLabel={this.props.t(\"preferencesFormComponent.ariaLabel\")}\n              className=\"pr-close-icon\" onClick={this.closeSettings} />\n            <h2 className=\"heading-2\">{this.props.t(\"preferencesFormComponent.heading1\")}</h2>\n            <Toggle id=\"eagerLoadingField\" className=\"configuration-input\"\n              checked={eagerLoading} onChange={this.onEagerLoadingChange} label={this.props.t(\"preferencesFormComponent.eagerLoadingField\")} inlineLabel />\n            <Toggle id=\"cachingField\" className=\"configuration-input\"\n              checked={caching} onChange={this.onCachingChange} label={this.props.t(\"preferencesFormComponent.cachingField\")} inlineLabel />\n            <h2 className=\"heading-2\">{this.props.t(\"preferencesFormComponent.heading2\")}</h2>\n            {optionalComponentsState.map(comp => (\n              <Toggle key={comp.id} id={`show${capitalizeName(comp.id)}Field`} className=\"configuration-input\"\n                checked={comp.show} onChange={() => this.onToggleOptionalComponentChange(comp.id)}\n                label={capitalizeName(comp.name)} inlineLabel onKeyDown={e => this.handleToggleKeypress(e, comp.id)} />))}\n            <h2 className=\"heading-2\">{this.props.t(\"preferencesFormComponent.heading3\")}</h2>\n            <Toggle id=\"highContrastField\" className=\"configuration-input\"\n              checked={contrast === \"high-contrast\"} onChange={this.toggleHighContrastMode} label={this.props.t(\"preferencesFormComponent.highContrastField\")} inlineLabel />\n          </form>\n        </FocusZone>\n      </ModalComponent>\n    );\n  }\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}