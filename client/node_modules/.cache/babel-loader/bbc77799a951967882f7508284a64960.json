{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { initializeComponentRef, classNamesFunction, KeyCodes } from '../../Utilities';\nimport { PrimaryButton, DefaultButton, IconButton } from '../../Button';\nimport { Image } from '../../Image';\nimport { Stack } from '../../Stack';\nimport { FocusTrapZone } from '../../FocusTrapZone';\nvar getClassNames = classNamesFunction();\nvar TeachingBubbleContentBase = /** @class */function (_super) {\n  __extends(TeachingBubbleContentBase, _super);\n  function TeachingBubbleContentBase(props) {\n    var _this = _super.call(this, props) || this;\n    _this.rootElement = React.createRef();\n    _this._onKeyDown = function (e) {\n      if (_this.props.onDismiss) {\n        if (e.which === KeyCodes.escape) {\n          _this.props.onDismiss();\n        }\n      }\n    };\n    initializeComponentRef(_this);\n    _this.state = {};\n    return _this;\n  }\n  TeachingBubbleContentBase.prototype.componentDidMount = function () {\n    if (this.props.onDismiss) {\n      document.addEventListener('keydown', this._onKeyDown, false);\n    }\n  };\n  TeachingBubbleContentBase.prototype.componentWillUnmount = function () {\n    if (this.props.onDismiss) {\n      document.removeEventListener('keydown', this._onKeyDown);\n    }\n  };\n  TeachingBubbleContentBase.prototype.focus = function () {\n    if (this.rootElement.current) {\n      this.rootElement.current.focus();\n    }\n  };\n  TeachingBubbleContentBase.prototype.render = function () {\n    var _a = this.props,\n      children = _a.children,\n      illustrationImage = _a.illustrationImage,\n      primaryButtonProps = _a.primaryButtonProps,\n      secondaryButtonProps = _a.secondaryButtonProps,\n      headline = _a.headline,\n      hasCondensedHeadline = _a.hasCondensedHeadline,\n      // eslint-disable-next-line deprecation/deprecation\n      _b = _a.hasCloseButton,\n      // eslint-disable-next-line deprecation/deprecation\n      hasCloseButton = _b === void 0 ? this.props.hasCloseIcon : _b,\n      onDismiss = _a.onDismiss,\n      closeButtonAriaLabel = _a.closeButtonAriaLabel,\n      hasSmallHeadline = _a.hasSmallHeadline,\n      isWide = _a.isWide,\n      styles = _a.styles,\n      theme = _a.theme,\n      ariaDescribedBy = _a.ariaDescribedBy,\n      ariaLabelledBy = _a.ariaLabelledBy,\n      customFooterContent = _a.footerContent,\n      focusTrapZoneProps = _a.focusTrapZoneProps;\n    var imageContent;\n    var headerContent;\n    var bodyContent;\n    var footerContent;\n    var closeButton;\n    var classNames = getClassNames(styles, {\n      theme: theme,\n      hasCondensedHeadline: hasCondensedHeadline,\n      hasSmallHeadline: hasSmallHeadline,\n      hasCloseButton: hasCloseButton,\n      hasHeadline: !!headline,\n      isWide: isWide,\n      primaryButtonClassName: primaryButtonProps ? primaryButtonProps.className : undefined,\n      secondaryButtonClassName: secondaryButtonProps ? secondaryButtonProps.className : undefined\n    });\n    if (illustrationImage && illustrationImage.src) {\n      imageContent = React.createElement(\"div\", {\n        className: classNames.imageContent\n      }, React.createElement(Image, __assign({}, illustrationImage)));\n    }\n    if (headline) {\n      var HeaderWrapperAs = typeof headline === 'string' ? 'p' : 'div';\n      headerContent = React.createElement(\"div\", {\n        className: classNames.header\n      }, React.createElement(HeaderWrapperAs, {\n        role: \"heading\",\n        className: classNames.headline,\n        id: ariaLabelledBy\n      }, headline));\n    }\n    if (children) {\n      var BodyContentWrapperAs = typeof children === 'string' ? 'p' : 'div';\n      bodyContent = React.createElement(\"div\", {\n        className: classNames.body\n      }, React.createElement(BodyContentWrapperAs, {\n        className: classNames.subText,\n        id: ariaDescribedBy\n      }, children));\n    }\n    if (primaryButtonProps || secondaryButtonProps || customFooterContent) {\n      footerContent = React.createElement(Stack, {\n        className: classNames.footer,\n        horizontal: true,\n        horizontalAlign: customFooterContent ? 'space-between' : 'end'\n      }, React.createElement(Stack.Item, {\n        align: \"center\"\n      }, React.createElement(\"span\", null, customFooterContent)), React.createElement(Stack.Item, null, secondaryButtonProps && React.createElement(DefaultButton, __assign({}, secondaryButtonProps, {\n        className: classNames.secondaryButton\n      })), primaryButtonProps && React.createElement(PrimaryButton, __assign({}, primaryButtonProps, {\n        className: classNames.primaryButton\n      }))));\n    }\n    if (hasCloseButton) {\n      closeButton = React.createElement(IconButton, {\n        className: classNames.closeButton,\n        iconProps: {\n          iconName: 'Cancel'\n        },\n        title: closeButtonAriaLabel,\n        ariaLabel: closeButtonAriaLabel,\n        onClick: onDismiss\n      });\n    }\n    return React.createElement(\"div\", {\n      className: classNames.content,\n      ref: this.rootElement,\n      role: 'dialog',\n      tabIndex: -1,\n      \"aria-labelledby\": ariaLabelledBy,\n      \"aria-describedby\": ariaDescribedBy,\n      \"data-is-focusable\": true\n    }, imageContent, React.createElement(FocusTrapZone, __assign({\n      isClickableOutsideFocusTrap: true\n    }, focusTrapZoneProps), React.createElement(\"div\", {\n      className: classNames.bodyContent\n    }, headerContent, bodyContent, footerContent, closeButton)));\n  };\n  return TeachingBubbleContentBase;\n}(React.Component);\nexport { TeachingBubbleContentBase };","map":{"version":3,"sources":["components/TeachingBubble/TeachingBubbleContent.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { initializeComponentRef, classNamesFunction, KeyCodes } from '../../Utilities';\nimport { ITeachingBubbleProps, ITeachingBubbleStyleProps, ITeachingBubbleStyles } from './TeachingBubble.types';\nimport { ITeachingBubbleState } from './TeachingBubble.base';\nimport { PrimaryButton, DefaultButton, IconButton } from '../../Button';\nimport { Image } from '../../Image';\nimport { Stack } from '../../Stack';\nimport { FocusTrapZone } from '../../FocusTrapZone';\n\nconst getClassNames = classNamesFunction<ITeachingBubbleStyleProps, ITeachingBubbleStyles>();\n\nexport class TeachingBubbleContentBase extends React.Component<ITeachingBubbleProps, ITeachingBubbleState> {\n  public rootElement = React.createRef<HTMLDivElement>();\n\n  constructor(props: ITeachingBubbleProps) {\n    super(props);\n\n    initializeComponentRef(this);\n    this.state = {};\n  }\n\n  public componentDidMount(): void {\n    if (this.props.onDismiss) {\n      document.addEventListener('keydown', this._onKeyDown, false);\n    }\n  }\n\n  public componentWillUnmount(): void {\n    if (this.props.onDismiss) {\n      document.removeEventListener('keydown', this._onKeyDown);\n    }\n  }\n\n  public focus(): void {\n    if (this.rootElement.current) {\n      this.rootElement.current.focus();\n    }\n  }\n\n  public render(): JSX.Element {\n    const {\n      children,\n      illustrationImage,\n      primaryButtonProps,\n      secondaryButtonProps,\n      headline,\n      hasCondensedHeadline,\n      // eslint-disable-next-line deprecation/deprecation\n      hasCloseButton = this.props.hasCloseIcon,\n      onDismiss,\n      closeButtonAriaLabel,\n      hasSmallHeadline,\n      isWide,\n      styles,\n      theme,\n      ariaDescribedBy,\n      ariaLabelledBy,\n      footerContent: customFooterContent,\n      focusTrapZoneProps,\n    } = this.props;\n\n    let imageContent;\n    let headerContent;\n    let bodyContent;\n    let footerContent;\n    let closeButton;\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      hasCondensedHeadline,\n      hasSmallHeadline,\n      hasCloseButton,\n      hasHeadline: !!headline,\n      isWide,\n      primaryButtonClassName: primaryButtonProps ? primaryButtonProps.className : undefined,\n      secondaryButtonClassName: secondaryButtonProps ? secondaryButtonProps.className : undefined,\n    });\n\n    if (illustrationImage && illustrationImage.src) {\n      imageContent = (\n        <div className={classNames.imageContent}>\n          <Image {...(illustrationImage as any)} />\n        </div>\n      );\n    }\n\n    if (headline) {\n      const HeaderWrapperAs = typeof headline === 'string' ? 'p' : 'div';\n\n      headerContent = (\n        <div className={classNames.header}>\n          <HeaderWrapperAs role=\"heading\" className={classNames.headline} id={ariaLabelledBy}>\n            {headline}\n          </HeaderWrapperAs>\n        </div>\n      );\n    }\n\n    if (children) {\n      const BodyContentWrapperAs = typeof children === 'string' ? 'p' : 'div';\n\n      bodyContent = (\n        <div className={classNames.body}>\n          <BodyContentWrapperAs className={classNames.subText} id={ariaDescribedBy}>\n            {children}\n          </BodyContentWrapperAs>\n        </div>\n      );\n    }\n\n    if (primaryButtonProps || secondaryButtonProps || customFooterContent) {\n      footerContent = (\n        <Stack className={classNames.footer} horizontal horizontalAlign={customFooterContent ? 'space-between' : 'end'}>\n          <Stack.Item align=\"center\">{<span>{customFooterContent}</span>}</Stack.Item>\n          <Stack.Item>\n            {secondaryButtonProps && <DefaultButton {...secondaryButtonProps} className={classNames.secondaryButton} />}\n            {primaryButtonProps && <PrimaryButton {...primaryButtonProps} className={classNames.primaryButton} />}\n          </Stack.Item>\n        </Stack>\n      );\n    }\n\n    if (hasCloseButton) {\n      closeButton = (\n        <IconButton\n          className={classNames.closeButton}\n          iconProps={{ iconName: 'Cancel' }}\n          title={closeButtonAriaLabel}\n          ariaLabel={closeButtonAriaLabel}\n          onClick={onDismiss}\n        />\n      );\n    }\n\n    return (\n      <div\n        className={classNames.content}\n        ref={this.rootElement}\n        role={'dialog'}\n        tabIndex={-1}\n        aria-labelledby={ariaLabelledBy}\n        aria-describedby={ariaDescribedBy}\n        data-is-focusable={true}\n      >\n        {imageContent}\n        <FocusTrapZone isClickableOutsideFocusTrap={true} {...focusTrapZoneProps}>\n          <div className={classNames.bodyContent}>\n            {headerContent}\n            {bodyContent}\n            {footerContent}\n            {closeButton}\n          </div>\n        </FocusTrapZone>\n      </div>\n    );\n  }\n\n  private _onKeyDown = (e: any): void => {\n    if (this.props.onDismiss) {\n      if (e.which === KeyCodes.escape) {\n        this.props.onDismiss();\n      }\n    }\n  };\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}