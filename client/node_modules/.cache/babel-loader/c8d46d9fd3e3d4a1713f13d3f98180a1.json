{"ast":null,"code":"import { __spreadArrays } from \"tslib\";\n/**\n * Combine a set of styles together (but does not register css classes).\n * @param styleSets - One or more stylesets to be merged (each param can also be falsy).\n */\nexport function concatStyleSets() {\n  var styleSets = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    styleSets[_i] = arguments[_i];\n  }\n  if (styleSets && styleSets.length === 1 && styleSets[0] && !styleSets[0].subComponentStyles) {\n    return styleSets[0];\n  }\n  var mergedSet = {};\n  // We process sub component styles in two phases. First we collect them, then we combine them into 1 style function.\n  var workingSubcomponentStyles = {};\n  for (var _a = 0, styleSets_1 = styleSets; _a < styleSets_1.length; _a++) {\n    var currentSet = styleSets_1[_a];\n    if (currentSet) {\n      for (var prop in currentSet) {\n        if (currentSet.hasOwnProperty(prop)) {\n          if (prop === 'subComponentStyles' && currentSet.subComponentStyles !== undefined) {\n            // subcomponent styles - style functions or objects\n            var currentComponentStyles = currentSet.subComponentStyles;\n            for (var subCompProp in currentComponentStyles) {\n              if (currentComponentStyles.hasOwnProperty(subCompProp)) {\n                if (workingSubcomponentStyles.hasOwnProperty(subCompProp)) {\n                  workingSubcomponentStyles[subCompProp].push(currentComponentStyles[subCompProp]);\n                } else {\n                  workingSubcomponentStyles[subCompProp] = [currentComponentStyles[subCompProp]];\n                }\n              }\n            }\n            continue;\n          }\n          // the as any casts below is a workaround for ts 2.8.\n          // todo: remove cast to any in ts 2.9.\n          var mergedValue = mergedSet[prop];\n          var currentValue = currentSet[prop];\n          if (mergedValue === undefined) {\n            mergedSet[prop] = currentValue;\n          } else {\n            mergedSet[prop] = __spreadArrays(Array.isArray(mergedValue) ? mergedValue : [mergedValue], Array.isArray(currentValue) ? currentValue : [currentValue]);\n          }\n        }\n      }\n    }\n  }\n  if (Object.keys(workingSubcomponentStyles).length > 0) {\n    mergedSet.subComponentStyles = {};\n    var mergedSubStyles = mergedSet.subComponentStyles;\n    var _loop_1 = function (subCompProp) {\n      if (workingSubcomponentStyles.hasOwnProperty(subCompProp)) {\n        var workingSet_1 = workingSubcomponentStyles[subCompProp];\n        mergedSubStyles[subCompProp] = function (styleProps) {\n          return concatStyleSets.apply(void 0, workingSet_1.map(function (styleFunctionOrObject) {\n            return typeof styleFunctionOrObject === 'function' ? styleFunctionOrObject(styleProps) : styleFunctionOrObject;\n          }));\n        };\n      }\n    };\n    // now we process the subcomponent styles if there are any\n    for (var subCompProp in workingSubcomponentStyles) {\n      _loop_1(subCompProp);\n    }\n  }\n  return mergedSet;\n}","map":{"version":3,"sources":["concatStyleSets.ts"],"names":[],"mappings":"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","sourcesContent":["import { IStyleSet, IConcatenatedStyleSet } from './IStyleSet';\nimport { IStyleBase, IStyle } from './IStyle';\nimport { IStyleFunctionOrObject } from './IStyleFunction';\nimport { ObjectOnly } from './ObjectOnly';\n\n/**\n * Combine a set of styles together (but does not register css classes).\n * @param styleSet - The first style set to be concatenated.\n */\nexport function concatStyleSets<TStyleSet>(\n  styleSet: TStyleSet | false | null | undefined,\n): IConcatenatedStyleSet<ObjectOnly<TStyleSet>>;\n\n/**\n * Combine a set of styles together (but does not register css classes).\n * @param styleSet1 - The first style set to be concatenated.\n * @param styleSet2 - The second style set to be concatenated.\n */\nexport function concatStyleSets<TStyleSet1, TStyleSet2>(\n  styleSet1: TStyleSet1 | false | null | undefined,\n  styleSet2: TStyleSet2 | false | null | undefined,\n): IConcatenatedStyleSet<ObjectOnly<TStyleSet1> & ObjectOnly<TStyleSet2>>;\n\n/**\n * Combine a set of styles together (but does not register css classes).\n * @param styleSet1 - The first style set to be concatenated.\n * @param styleSet2 - The second style set to be concatenated.\n * @param styleSet3 - The third style set to be concatenated.\n */\nexport function concatStyleSets<TStyleSet1, TStyleSet2, TStyleSet3>(\n  styleSet1: TStyleSet1 | false | null | undefined,\n  styleSet2: TStyleSet2 | false | null | undefined,\n  styleSet3: TStyleSet3 | false | null | undefined,\n): IConcatenatedStyleSet<ObjectOnly<TStyleSet1> & ObjectOnly<TStyleSet2> & ObjectOnly<TStyleSet3>>;\n\n/**\n * Combine a set of styles together (but does not register css classes).\n * @param styleSet1 - The first style set to be concatenated.\n * @param styleSet2 - The second style set to be concatenated.\n * @param styleSet3 - The third style set to be concatenated.\n * @param styleSet4 - The fourth style set to be concatenated.\n */\nexport function concatStyleSets<TStyleSet1, TStyleSet2, TStyleSet3, TStyleSet4>(\n  styleSet1: TStyleSet1 | false | null | undefined,\n  styleSet2: TStyleSet2 | false | null | undefined,\n  styleSet3: TStyleSet3 | false | null | undefined,\n  styleSet4: TStyleSet4 | false | null | undefined,\n): IConcatenatedStyleSet<\n  ObjectOnly<TStyleSet1> & ObjectOnly<TStyleSet2> & ObjectOnly<TStyleSet3> & ObjectOnly<TStyleSet4>\n>;\n\n/**\n * Combine a set of styles together (but does not register css classes).\n * @param styleSet1 - The first style set to be concatenated.\n * @param styleSet2 - The second style set to be concatenated.\n * @param styleSet3 - The third style set to be concatenated.\n * @param styleSet4 - The fourth style set to be concatenated.\n * @param styleSet5 - The fifth set to be concatenated.\n */\nexport function concatStyleSets<TStyleSet1, TStyleSet2, TStyleSet3, TStyleSet4, TStyleSet5>(\n  styleSet1: TStyleSet1 | false | null | undefined,\n  styleSet2: TStyleSet2 | false | null | undefined,\n  styleSet3: TStyleSet3 | false | null | undefined,\n  styleSet4: TStyleSet4 | false | null | undefined,\n  styleSet5: TStyleSet5 | false | null | undefined,\n): IConcatenatedStyleSet<\n  ObjectOnly<TStyleSet1> &\n    ObjectOnly<TStyleSet2> &\n    ObjectOnly<TStyleSet3> &\n    ObjectOnly<TStyleSet4> &\n    ObjectOnly<TStyleSet5>\n>;\n\n/**\n * Combine a set of styles together (but does not register css classes).\n * @param styleSet1 - The first style set to be concatenated.\n * @param styleSet2 - The second style set to be concatenated.\n * @param styleSet3 - The third style set to be concatenated.\n * @param styleSet4 - The fourth style set to be concatenated.\n * @param styleSet5 - The fifth set to be concatenated.\n * @param styleSet6 - The sixth set to be concatenated.\n */\nexport function concatStyleSets<TStyleSet1, TStyleSet2, TStyleSet3, TStyleSet4, TStyleSet5, TStyleSet6>(\n  styleSet1: TStyleSet1 | false | null | undefined,\n  styleSet2: TStyleSet2 | false | null | undefined,\n  styleSet3: TStyleSet3 | false | null | undefined,\n  styleSet4: TStyleSet4 | false | null | undefined,\n  styleSet5: TStyleSet5 | false | null | undefined,\n  styleSet6: TStyleSet6 | false | null | undefined,\n): IConcatenatedStyleSet<\n  ObjectOnly<TStyleSet1> &\n    ObjectOnly<TStyleSet2> &\n    ObjectOnly<TStyleSet3> &\n    ObjectOnly<TStyleSet4> &\n    ObjectOnly<TStyleSet5> &\n    ObjectOnly<TStyleSet6>\n>;\n\n/**\n * Combine a set of styles together (but does not register css classes).\n * @param styleSets - One or more stylesets to be merged (each param can also be falsy).\n */\nexport function concatStyleSets(...styleSets: (IStyleSet | false | null | undefined)[]): IConcatenatedStyleSet<any>;\n\n/**\n * Combine a set of styles together (but does not register css classes).\n * @param styleSets - One or more stylesets to be merged (each param can also be falsy).\n */\nexport function concatStyleSets(...styleSets: (IStyleSet | false | null | undefined)[]): IConcatenatedStyleSet<any> {\n  if (styleSets && styleSets.length === 1 && styleSets[0] && !(styleSets[0] as IStyleSet).subComponentStyles) {\n    return styleSets[0] as IConcatenatedStyleSet<any>;\n  }\n\n  const mergedSet: IConcatenatedStyleSet<any> = {};\n\n  // We process sub component styles in two phases. First we collect them, then we combine them into 1 style function.\n  const workingSubcomponentStyles: { [key: string]: Array<IStyleFunctionOrObject<any, any>> } = {};\n\n  for (const currentSet of styleSets) {\n    if (currentSet) {\n      for (const prop in currentSet) {\n        if (currentSet.hasOwnProperty(prop)) {\n          if (prop === 'subComponentStyles' && currentSet.subComponentStyles !== undefined) {\n            // subcomponent styles - style functions or objects\n\n            const currentComponentStyles = currentSet.subComponentStyles;\n            for (const subCompProp in currentComponentStyles) {\n              if (currentComponentStyles.hasOwnProperty(subCompProp)) {\n                if (workingSubcomponentStyles.hasOwnProperty(subCompProp)) {\n                  workingSubcomponentStyles[subCompProp].push(currentComponentStyles[subCompProp]);\n                } else {\n                  workingSubcomponentStyles[subCompProp] = [currentComponentStyles[subCompProp]];\n                }\n              }\n            }\n\n            continue;\n          }\n\n          // the as any casts below is a workaround for ts 2.8.\n          // todo: remove cast to any in ts 2.9.\n          const mergedValue: IStyle = (mergedSet as any)[prop];\n          const currentValue = (currentSet as any)[prop];\n\n          if (mergedValue === undefined) {\n            (mergedSet as any)[prop] = currentValue;\n          } else {\n            (mergedSet as any)[prop] = [\n              // https://github.com/Microsoft/TypeScript/issues/25474\n              ...(Array.isArray(mergedValue) ? mergedValue : [mergedValue as IStyleBase]),\n              ...(Array.isArray(currentValue) ? currentValue : [currentValue as IStyleBase]),\n            ];\n          }\n        }\n      }\n    }\n  }\n\n  if (Object.keys(workingSubcomponentStyles).length > 0) {\n    mergedSet.subComponentStyles = {};\n    const mergedSubStyles = mergedSet.subComponentStyles;\n\n    // now we process the subcomponent styles if there are any\n    for (const subCompProp in workingSubcomponentStyles) {\n      if (workingSubcomponentStyles.hasOwnProperty(subCompProp)) {\n        const workingSet = workingSubcomponentStyles[subCompProp];\n        mergedSubStyles[subCompProp] = (styleProps: any) => {\n          return concatStyleSets(\n            ...workingSet.map((styleFunctionOrObject: IStyleFunctionOrObject<any, any>) =>\n              typeof styleFunctionOrObject === 'function' ? styleFunctionOrObject(styleProps) : styleFunctionOrObject,\n            ),\n          );\n        };\n      }\n    }\n  }\n\n  return mergedSet;\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}