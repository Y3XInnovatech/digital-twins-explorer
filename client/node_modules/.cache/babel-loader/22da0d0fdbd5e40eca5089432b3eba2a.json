{"ast":null,"code":"var _jsxFileName = \"/home/saharsh/digital-twins-explorer/client/src/components/AppCommandBar/AppCommandBar.js\";\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport React, { Component } from \"react\";\nimport { CommandBar } from \"office-ui-fabric-react/lib/\";\nimport { withTranslation } from \"react-i18next\";\nimport { ConfigurationFormComponent } from \"../ConfigurationFormComponent/ConfigurationFormComponent\";\nimport { PreferencesFormComponent } from \"../PreferencesFormComponent/PreferencesFormComponent\";\nimport { configService } from \"../../services/ConfigService\";\nimport { eventService } from \"../../services/EventService\";\nimport DeleteAllTwinsComponent from \"./DeleteAllTwinsComponent/DeleteAllTwinsComponent\";\nimport \"./AppCommandBar.scss\";\nimport { KeyboardShortcutsComponents } from \"../KeyboardShortcutsComponents/KeyboardShortcutsComponents\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass AppCommandBar extends Component {\n  constructor(props) {\n    super(props);\n    this.updateAdtUrlSettings = async () => {\n      if (process.env.USE_LOCAL_MODELS === \"true\") {\n        // eslint-disable-next-line no-console\n        console.log(\"Local models mode enabled. Skipping Azure Digital Twins URL update.\");\n        return;\n      }\n      try {\n        const {\n          appAdtUrl\n        } = await configService.getConfig();\n        this.configure.current.loadConfigurationSettings({\n          type: \"start\",\n          appAdtUrl\n        });\n      } catch (exc) {\n        if (exc.errorCode !== \"user_cancelled\") {\n          exc.customMessage = \"Error on saving settings\";\n          eventService.publishError(exc);\n        }\n      }\n    };\n    this.togglePreferencesModal = () => {\n      this.preferences.current.loadExistingSettings();\n    };\n    this.delete = /*#__PURE__*/React.createRef();\n    this.configure = /*#__PURE__*/React.createRef();\n    this.preferences = /*#__PURE__*/React.createRef();\n    this.keyboard = /*#__PURE__*/React.createRef();\n    this.state = {\n      farItems: [{\n        key: \"keyboardShortcuts\",\n        text: this.props.t(\"appCommandBar.keyboardShortcuts.text\"),\n        ariaLabel: this.props.t(\"appCommandBar.keyboardShortcuts.ariaLabel\"),\n        iconProps: {\n          iconName: \"KeyboardClassic\"\n        },\n        onClick: () => this.keyboard.current.open(),\n        iconOnly: true,\n        className: \"app-toolbarButtons\"\n      }, {\n        key: \"deleteTwins\",\n        text: this.props.t(\"appCommandBar.deleteTwins.text\"),\n        ariaLabel: this.props.t(\"appCommandBar.deleteTwins.ariaLabel\"),\n        iconProps: {\n          iconName: \"Delete\"\n        },\n        onClick: () => this.delete.current.open(),\n        iconOnly: true,\n        className: \"app-toolbarButtons delete-button\"\n      }, {\n        key: \"signIn\",\n        text: this.props.t(\"appCommandBar.signIn.text\"),\n        ariaLabel: this.props.t(\"appCommandBar.signIn.ariaLabel\"),\n        iconOnly: true,\n        iconProps: {\n          iconName: \"Signin\"\n        },\n        split: true,\n        onClick: () => this.updateAdtUrlSettings(),\n        className: \"app-toolbarButtons\"\n      }, {\n        key: \"settings\",\n        text: this.props.t(\"appCommandBar.settings.text\"),\n        ariaLabel: this.props.t(\"appCommandBar.settings.ariaLabel\"),\n        iconOnly: true,\n        iconProps: {\n          iconName: \"Settings\"\n        },\n        onClick: () => this.togglePreferencesModal(),\n        className: \"app-toolbarButtons settings-button\"\n      }]\n    };\n  }\n  render() {\n    const {\n      farItems\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-commandbar-container\",\n      children: [/*#__PURE__*/_jsxDEV(CommandBar, {\n        farItems: farItems,\n        ariaLabel: this.props.t(\"appCommandBar.commandBar.ariaLabel\"),\n        className: \"app-commandbar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ConfigurationFormComponent, {\n        t: this.props.t,\n        ref: this.configure\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PreferencesFormComponent, {\n        ref: this.preferences,\n        toggleHighContrastMode: this.props.toggleHighContrastMode,\n        toggleOptionalComponent: this.props.toggleOptionalComponent,\n        optionalComponentsState: this.props.optionalComponentsState,\n        contrast: this.props.contrast,\n        t: this.props.t\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DeleteAllTwinsComponent, {\n        ref: this.delete,\n        t: this.props.t\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(KeyboardShortcutsComponents, {\n        ref: this.keyboard,\n        t: this.props.t\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default withTranslation()(AppCommandBar);","map":{"version":3,"names":["React","Component","CommandBar","withTranslation","ConfigurationFormComponent","PreferencesFormComponent","configService","eventService","DeleteAllTwinsComponent","KeyboardShortcutsComponents","jsxDEV","_jsxDEV","AppCommandBar","constructor","props","updateAdtUrlSettings","process","env","USE_LOCAL_MODELS","console","log","appAdtUrl","getConfig","configure","current","loadConfigurationSettings","type","exc","errorCode","customMessage","publishError","togglePreferencesModal","preferences","loadExistingSettings","delete","createRef","keyboard","state","farItems","key","text","t","ariaLabel","iconProps","iconName","onClick","open","iconOnly","className","split","render","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","toggleHighContrastMode","toggleOptionalComponent","optionalComponentsState","contrast"],"sources":["/home/saharsh/digital-twins-explorer/client/src/components/AppCommandBar/AppCommandBar.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport React, { Component } from \"react\";\nimport { CommandBar } from \"office-ui-fabric-react/lib/\";\nimport { withTranslation } from \"react-i18next\";\n\nimport { ConfigurationFormComponent } from \"../ConfigurationFormComponent/ConfigurationFormComponent\";\nimport { PreferencesFormComponent } from \"../PreferencesFormComponent/PreferencesFormComponent\";\nimport { configService } from \"../../services/ConfigService\";\nimport { eventService } from \"../../services/EventService\";\nimport DeleteAllTwinsComponent from \"./DeleteAllTwinsComponent/DeleteAllTwinsComponent\";\n\nimport \"./AppCommandBar.scss\";\nimport { KeyboardShortcutsComponents } from \"../KeyboardShortcutsComponents/KeyboardShortcutsComponents\";\n\nclass AppCommandBar extends Component {\n\n  constructor(props) {\n    super(props);\n    this.delete = React.createRef();\n    this.configure = React.createRef();\n    this.preferences = React.createRef();\n    this.keyboard = React.createRef();\n    this.state = {\n      farItems: [\n        {\n          key: \"keyboardShortcuts\",\n          text: this.props.t(\"appCommandBar.keyboardShortcuts.text\"),\n          ariaLabel: this.props.t(\"appCommandBar.keyboardShortcuts.ariaLabel\"),\n          iconProps: { iconName: \"KeyboardClassic\" },\n          onClick: () => this.keyboard.current.open(),\n          iconOnly: true,\n          className: \"app-toolbarButtons\",\n        },\n        {\n          key: \"deleteTwins\",\n          text: this.props.t(\"appCommandBar.deleteTwins.text\"),\n          ariaLabel: this.props.t(\"appCommandBar.deleteTwins.ariaLabel\"),\n          iconProps: { iconName: \"Delete\" },\n          onClick: () => this.delete.current.open(),\n          iconOnly: true,\n          className: \"app-toolbarButtons delete-button\",\n        },\n        {\n          key: \"signIn\",\n          text: this.props.t(\"appCommandBar.signIn.text\"),\n          ariaLabel: this.props.t(\"appCommandBar.signIn.ariaLabel\"),\n          iconOnly: true,\n          iconProps: { iconName: \"Signin\" },\n          split: true,\n          onClick: () => this.updateAdtUrlSettings(),\n          className: \"app-toolbarButtons\"\n        },\n        {\n          key: \"settings\",\n          text: this.props.t(\"appCommandBar.settings.text\"),\n          ariaLabel: this.props.t(\"appCommandBar.settings.ariaLabel\"),\n          iconOnly: true,\n          iconProps: { iconName: \"Settings\" },\n          onClick: () => this.togglePreferencesModal(),\n          className: \"app-toolbarButtons settings-button\",\n        }\n      ]\n    };\n  }\n\n  updateAdtUrlSettings = async () => {\n    if (process.env.USE_LOCAL_MODELS === \"true\") {\n      // eslint-disable-next-line no-console\n      console.log(\n        \"Local models mode enabled. Skipping Azure Digital Twins URL update.\"\n      );\n      return;\n    }\n\n    try {\n      const { appAdtUrl } = await configService.getConfig();\n      this.configure.current.loadConfigurationSettings({\n        type: \"start\",\n        appAdtUrl\n      });\n    } catch (exc) {\n      if (exc.errorCode !== \"user_cancelled\") {\n        exc.customMessage = \"Error on saving settings\";\n        eventService.publishError(exc);\n      }\n    }\n  };\n\n  togglePreferencesModal = () => {\n    this.preferences.current.loadExistingSettings();\n  };\n\n  render() {\n    const { farItems } = this.state;\n    return (\n      <div className=\"app-commandbar-container\">\n        <CommandBar\n          farItems={farItems}\n          ariaLabel={this.props.t(\"appCommandBar.commandBar.ariaLabel\")}\n          className=\"app-commandbar\" />\n        <ConfigurationFormComponent t={this.props.t} ref={this.configure} />\n        <PreferencesFormComponent\n          ref={this.preferences}\n          toggleHighContrastMode={this.props.toggleHighContrastMode}\n          toggleOptionalComponent={this.props.toggleOptionalComponent}\n          optionalComponentsState={this.props.optionalComponentsState}\n          contrast={this.props.contrast}\n          t={this.props.t} />\n        <DeleteAllTwinsComponent ref={this.delete} t={this.props.t} />\n        <KeyboardShortcutsComponents ref={this.keyboard} t={this.props.t} />\n      </div>\n    );\n  }\n\n}\n\nexport default withTranslation()(AppCommandBar);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}