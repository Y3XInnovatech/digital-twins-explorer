{"ast":null,"code":"var _jsxFileName = \"/home/saharsh/Music/digital-twins-explorer/client/src/components/ModelViewerComponent/ModelViewerDeleteAllModelsComponent/ModelViewerDeleteAllModelsComponent.js\";\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport React, { Component } from \"react\";\nimport ModalComponent from \"../../ModalComponent/ModalComponent\";\nimport { DefaultButton } from \"office-ui-fabric-react\";\nimport { eventService } from \"../../../services/EventService\";\nimport { print } from \"../../../services/LoggingService\";\nimport { ModelService } from \"../../../services/ModelService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KEY_ESC = 27;\nconst KEY_TAB = 9;\nexport default class ModelViewerDeleteAllModelsComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.confirm = async () => {\n      await this.deleteAllModels();\n      this.setState({\n        showModal: false\n      });\n    };\n    this.cancel = () => {\n      this.setState({\n        showModal: false\n      });\n    };\n    this.state = {\n      showModal: false,\n      isLoading: false\n    };\n  }\n  async deleteAllModels() {\n    this.setState({\n      isLoading: true\n    });\n    print(`*** Deleting all models`, \"info\");\n    try {\n      const modelService = new ModelService();\n      await modelService.deleteAll();\n      eventService.publishClearModelsData();\n    } catch (exc) {\n      exc.customMessage = \"Error deleting models\";\n      eventService.publishError(exc);\n    }\n    this.setState({\n      isLoading: false\n    });\n  }\n  open() {\n    this.setState({\n      showModal: true\n    });\n  }\n  componentDidMount() {\n    const handleKeyDown = e => {\n      if (e.keyCode === KEY_ESC && this.state.showModal) {\n        this.setState({\n          showModal: false\n        });\n        return;\n      }\n      if (e.keyCode === KEY_TAB) {\n        const deleteElement = document.getElementById(\"modal-delete-cta\");\n        const cancelElement = document.getElementById(\"modal-cancel-cta\");\n        if (deleteElement && cancelElement && document.activeElement.id === cancelElement.id) {\n          deleteElement.focus();\n          e.preventDefault();\n        }\n      }\n    };\n    window.addEventListener(\"keydown\", e => {\n      handleKeyDown(e);\n    });\n  }\n  render() {\n    const {\n      showModal,\n      isLoading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(ModalComponent, {\n      isVisible: showModal,\n      isLoading: isLoading,\n      className: \"gc-dialog\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"heading-2\",\n        children: \"Are you sure?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-group\",\n        children: [/*#__PURE__*/_jsxDEV(DefaultButton, {\n          className: \"modal-button save-button\",\n          onClick: this.confirm,\n          id: \"modal-delete-cta\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DefaultButton, {\n          className: \"modal-button cancel-button\",\n          onClick: this.cancel,\n          id: \"modal-cancel-cta\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","ModalComponent","DefaultButton","eventService","print","ModelService","jsxDEV","_jsxDEV","KEY_ESC","KEY_TAB","ModelViewerDeleteAllModelsComponent","constructor","props","confirm","deleteAllModels","setState","showModal","cancel","state","isLoading","modelService","deleteAll","publishClearModelsData","exc","customMessage","publishError","open","componentDidMount","handleKeyDown","e","keyCode","deleteElement","document","getElementById","cancelElement","activeElement","id","focus","preventDefault","window","addEventListener","render","isVisible","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["/home/saharsh/Music/digital-twins-explorer/client/src/components/ModelViewerComponent/ModelViewerDeleteAllModelsComponent/ModelViewerDeleteAllModelsComponent.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport React, { Component } from \"react\";\nimport ModalComponent from \"../../ModalComponent/ModalComponent\";\nimport { DefaultButton } from \"office-ui-fabric-react\";\nimport { eventService } from \"../../../services/EventService\";\nimport { print } from \"../../../services/LoggingService\";\nimport { ModelService } from \"../../../services/ModelService\";\n\nconst KEY_ESC = 27;\nconst KEY_TAB = 9;\nexport default class ModelViewerDeleteAllModelsComponent extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showModal: false,\n      isLoading: false\n    };\n  }\n\n  async deleteAllModels() {\n    this.setState({ isLoading: true });\n\n    print(`*** Deleting all models`, \"info\");\n    try {\n      const modelService = new ModelService();\n      await modelService.deleteAll();\n      eventService.publishClearModelsData();\n    } catch (exc) {\n      exc.customMessage = \"Error deleting models\";\n      eventService.publishError(exc);\n    }\n\n    this.setState({ isLoading: false });\n  }\n\n  open() {\n    this.setState({ showModal: true });\n  }\n\n  confirm = async () => {\n    await this.deleteAllModels();\n    this.setState({ showModal: false });\n  }\n\n  cancel = () => {\n    this.setState({ showModal: false });\n  }\n\n  componentDidMount() {\n    const handleKeyDown = e => {\n      if (e.keyCode === KEY_ESC && this.state.showModal) {\n        this.setState({ showModal: false });\n        return;\n      }\n\n      if (e.keyCode === KEY_TAB) {\n        const deleteElement = document.getElementById(\"modal-delete-cta\");\n        const cancelElement = document.getElementById(\"modal-cancel-cta\");\n        if (deleteElement && cancelElement && document.activeElement.id === cancelElement.id) {\n          deleteElement.focus();\n          e.preventDefault();\n        }\n      }\n    };\n    window.addEventListener(\"keydown\", e => {\n      handleKeyDown(e);\n    });\n  }\n\n  render() {\n    const { showModal, isLoading } = this.state;\n    return (\n      <ModalComponent isVisible={showModal} isLoading={isLoading} className=\"gc-dialog\">\n        <h2 className=\"heading-2\">Are you sure?</h2>\n        <div className=\"btn-group\">\n          <DefaultButton className=\"modal-button save-button\" onClick={this.confirm} id=\"modal-delete-cta\">Delete</DefaultButton>\n          <DefaultButton className=\"modal-button cancel-button\" onClick={this.cancel} id=\"modal-cancel-cta\">Cancel</DefaultButton>\n        </div>\n      </ModalComponent>\n    );\n  }\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}