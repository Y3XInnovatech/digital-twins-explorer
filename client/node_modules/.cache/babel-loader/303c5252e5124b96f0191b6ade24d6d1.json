{"ast":null,"code":"/*\n * Copyright (c) 2016-2017 Digital Bazaar, Inc. All rights reserved.\n */\n'use strict';\n\nconst api = {};\nmodule.exports = api;\n\n// define setImmediate and nextTick\n//// nextTick implementation with browser-compatible fallback ////\n// from https://github.com/caolan/async/blob/master/lib/async.js\n\n// capture the global reference to guard against fakeTimer mocks\nconst _setImmediate = typeof setImmediate === 'function' && setImmediate;\nconst _delay = _setImmediate ?\n// not a direct alias (for IE10 compatibility)\nfn => _setImmediate(fn) : fn => setTimeout(fn, 0);\nif (typeof process === 'object' && typeof process.nextTick === 'function') {\n  api.nextTick = process.nextTick;\n} else {\n  api.nextTick = _delay;\n}\napi.setImmediate = _setImmediate ? _delay : api.nextTick;\n\n/**\n * Clones an object, array, or string/number. If a typed JavaScript object\n * is given, such as a Date, it will be converted to a string.\n *\n * @param value the value to clone.\n *\n * @return the cloned value.\n */\napi.clone = function (value) {\n  if (value && typeof value === 'object') {\n    let rval;\n    if (Array.isArray(value)) {\n      rval = [];\n      for (let i = 0; i < value.length; ++i) {\n        rval[i] = api.clone(value[i]);\n      }\n    } else if (api.isObject(value)) {\n      rval = {};\n      for (const key in value) {\n        rval[key] = api.clone(value[key]);\n      }\n    } else {\n      rval = value.toString();\n    }\n    return rval;\n  }\n  return value;\n};\n\n/**\n * Returns true if the given value is an Object.\n *\n * @param v the value to check.\n *\n * @return true if the value is an Object, false if not.\n */\napi.isObject = v => Object.prototype.toString.call(v) === '[object Object]';\n\n/**\n * Returns true if the given value is undefined.\n *\n * @param v the value to check.\n *\n * @return true if the value is undefined, false if not.\n */\napi.isUndefined = v => typeof v === 'undefined';\napi.callbackify = fn => {\n  return async function (...args) {\n    const callback = args[args.length - 1];\n    if (typeof callback === 'function') {\n      args.pop();\n    }\n    let result;\n    try {\n      result = await fn.apply(null, args);\n    } catch (e) {\n      if (typeof callback === 'function') {\n        return _invokeCallback(callback, e);\n      }\n      throw e;\n    }\n    if (typeof callback === 'function') {\n      return _invokeCallback(callback, null, result);\n    }\n    return result;\n  };\n};\nfunction _invokeCallback(callback, err, result) {\n  try {\n    return callback(err, result);\n  } catch (unhandledError) {\n    // throw unhandled errors to prevent \"unhandled rejected promise\"\n    // and simulate what would have happened in a promiseless API\n    process.nextTick(() => {\n      throw unhandledError;\n    });\n  }\n}","map":{"version":3,"names":["api","module","exports","_setImmediate","setImmediate","_delay","fn","setTimeout","process","nextTick","clone","value","rval","Array","isArray","i","length","isObject","key","toString","v","Object","prototype","call","isUndefined","callbackify","args","callback","pop","result","apply","e","_invokeCallback","err","unhandledError"],"sources":["/home/saharsh/digital-twins-explorer/client/node_modules/rdf-canonize/lib/util.js"],"sourcesContent":["/*\n * Copyright (c) 2016-2017 Digital Bazaar, Inc. All rights reserved.\n */\n'use strict';\n\nconst api = {};\nmodule.exports = api;\n\n// define setImmediate and nextTick\n//// nextTick implementation with browser-compatible fallback ////\n// from https://github.com/caolan/async/blob/master/lib/async.js\n\n// capture the global reference to guard against fakeTimer mocks\nconst _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\nconst _delay = _setImmediate ?\n  // not a direct alias (for IE10 compatibility)\n  fn => _setImmediate(fn) :\n  fn => setTimeout(fn, 0);\n\nif(typeof process === 'object' && typeof process.nextTick === 'function') {\n  api.nextTick = process.nextTick;\n} else {\n  api.nextTick = _delay;\n}\napi.setImmediate = _setImmediate ? _delay : api.nextTick;\n\n/**\n * Clones an object, array, or string/number. If a typed JavaScript object\n * is given, such as a Date, it will be converted to a string.\n *\n * @param value the value to clone.\n *\n * @return the cloned value.\n */\napi.clone = function(value) {\n  if(value && typeof value === 'object') {\n    let rval;\n    if(Array.isArray(value)) {\n      rval = [];\n      for(let i = 0; i < value.length; ++i) {\n        rval[i] = api.clone(value[i]);\n      }\n    } else if(api.isObject(value)) {\n      rval = {};\n      for(const key in value) {\n        rval[key] = api.clone(value[key]);\n      }\n    } else {\n      rval = value.toString();\n    }\n    return rval;\n  }\n  return value;\n};\n\n/**\n * Returns true if the given value is an Object.\n *\n * @param v the value to check.\n *\n * @return true if the value is an Object, false if not.\n */\napi.isObject = v => Object.prototype.toString.call(v) === '[object Object]';\n\n/**\n * Returns true if the given value is undefined.\n *\n * @param v the value to check.\n *\n * @return true if the value is undefined, false if not.\n */\napi.isUndefined = v => typeof v === 'undefined';\n\napi.callbackify = fn => {\n  return async function(...args) {\n    const callback = args[args.length - 1];\n    if(typeof callback === 'function') {\n      args.pop();\n    }\n\n    let result;\n    try {\n      result = await fn.apply(null, args);\n    } catch(e) {\n      if(typeof callback === 'function') {\n        return _invokeCallback(callback, e);\n      }\n      throw e;\n    }\n\n    if(typeof callback === 'function') {\n      return _invokeCallback(callback, null, result);\n    }\n\n    return result;\n  };\n};\n\nfunction _invokeCallback(callback, err, result) {\n  try {\n    return callback(err, result);\n  } catch(unhandledError) {\n    // throw unhandled errors to prevent \"unhandled rejected promise\"\n    // and simulate what would have happened in a promiseless API\n    process.nextTick(() => {\n      throw unhandledError;\n    });\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,YAAY;;AAEZ,MAAMA,GAAG,GAAG,CAAC,CAAC;AACdC,MAAM,CAACC,OAAO,GAAGF,GAAG;;AAEpB;AACA;AACA;;AAEA;AACA,MAAMG,aAAa,GAAG,OAAOC,YAAY,KAAK,UAAU,IAAIA,YAAY;AAExE,MAAMC,MAAM,GAAGF,aAAa;AAC1B;AACAG,EAAE,IAAIH,aAAa,CAACG,EAAE,CAAC,GACvBA,EAAE,IAAIC,UAAU,CAACD,EAAE,EAAE,CAAC,CAAC;AAEzB,IAAG,OAAOE,OAAO,KAAK,QAAQ,IAAI,OAAOA,OAAO,CAACC,QAAQ,KAAK,UAAU,EAAE;EACxET,GAAG,CAACS,QAAQ,GAAGD,OAAO,CAACC,QAAQ;AACjC,CAAC,MAAM;EACLT,GAAG,CAACS,QAAQ,GAAGJ,MAAM;AACvB;AACAL,GAAG,CAACI,YAAY,GAAGD,aAAa,GAAGE,MAAM,GAAGL,GAAG,CAACS,QAAQ;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAT,GAAG,CAACU,KAAK,GAAG,UAASC,KAAK,EAAE;EAC1B,IAAGA,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IACrC,IAAIC,IAAI;IACR,IAAGC,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC,EAAE;MACvBC,IAAI,GAAG,EAAE;MACT,KAAI,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,KAAK,CAACK,MAAM,EAAE,EAAED,CAAC,EAAE;QACpCH,IAAI,CAACG,CAAC,CAAC,GAAGf,GAAG,CAACU,KAAK,CAACC,KAAK,CAACI,CAAC,CAAC,CAAC;MAC/B;IACF,CAAC,MAAM,IAAGf,GAAG,CAACiB,QAAQ,CAACN,KAAK,CAAC,EAAE;MAC7BC,IAAI,GAAG,CAAC,CAAC;MACT,KAAI,MAAMM,GAAG,IAAIP,KAAK,EAAE;QACtBC,IAAI,CAACM,GAAG,CAAC,GAAGlB,GAAG,CAACU,KAAK,CAACC,KAAK,CAACO,GAAG,CAAC,CAAC;MACnC;IACF,CAAC,MAAM;MACLN,IAAI,GAAGD,KAAK,CAACQ,QAAQ,CAAC,CAAC;IACzB;IACA,OAAOP,IAAI;EACb;EACA,OAAOD,KAAK;AACd,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACAX,GAAG,CAACiB,QAAQ,GAAGG,CAAC,IAAIC,MAAM,CAACC,SAAS,CAACH,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,KAAK,iBAAiB;;AAE3E;AACA;AACA;AACA;AACA;AACA;AACA;AACApB,GAAG,CAACwB,WAAW,GAAGJ,CAAC,IAAI,OAAOA,CAAC,KAAK,WAAW;AAE/CpB,GAAG,CAACyB,WAAW,GAAGnB,EAAE,IAAI;EACtB,OAAO,gBAAe,GAAGoB,IAAI,EAAE;IAC7B,MAAMC,QAAQ,GAAGD,IAAI,CAACA,IAAI,CAACV,MAAM,GAAG,CAAC,CAAC;IACtC,IAAG,OAAOW,QAAQ,KAAK,UAAU,EAAE;MACjCD,IAAI,CAACE,GAAG,CAAC,CAAC;IACZ;IAEA,IAAIC,MAAM;IACV,IAAI;MACFA,MAAM,GAAG,MAAMvB,EAAE,CAACwB,KAAK,CAAC,IAAI,EAAEJ,IAAI,CAAC;IACrC,CAAC,CAAC,OAAMK,CAAC,EAAE;MACT,IAAG,OAAOJ,QAAQ,KAAK,UAAU,EAAE;QACjC,OAAOK,eAAe,CAACL,QAAQ,EAAEI,CAAC,CAAC;MACrC;MACA,MAAMA,CAAC;IACT;IAEA,IAAG,OAAOJ,QAAQ,KAAK,UAAU,EAAE;MACjC,OAAOK,eAAe,CAACL,QAAQ,EAAE,IAAI,EAAEE,MAAM,CAAC;IAChD;IAEA,OAAOA,MAAM;EACf,CAAC;AACH,CAAC;AAED,SAASG,eAAeA,CAACL,QAAQ,EAAEM,GAAG,EAAEJ,MAAM,EAAE;EAC9C,IAAI;IACF,OAAOF,QAAQ,CAACM,GAAG,EAAEJ,MAAM,CAAC;EAC9B,CAAC,CAAC,OAAMK,cAAc,EAAE;IACtB;IACA;IACA1B,OAAO,CAACC,QAAQ,CAAC,MAAM;MACrB,MAAMyB,cAAc;IACtB,CAAC,CAAC;EACJ;AACF","ignoreList":[]},"metadata":{},"sourceType":"script"}