{"ast":null,"code":"var _jsxFileName = \"/home/saharsh/Music/digital-twins-explorer/client/src/components/ErrorMessageComponent/ErrorMessageModal.js\";\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport React, { Component } from \"react\";\nimport { DefaultButton, Spinner, MessageBar } from \"office-ui-fabric-react\";\nimport { withTranslation } from \"react-i18next\";\nimport ModalComponent from \"../ModalComponent/ModalComponent\";\nimport { eventService } from \"../../services/EventService\";\nimport { CUSTOM_AUTH_ERROR_MESSAGE, MORE_INFORMATION_LINK, CUSTOM_NOT_FOUND_ERROR_MESSAGE, CUSTOM_AZURE_ERROR_MESSAGE, AUTH_SUCCESS_MESSAGE, AUTH_CONFLICT_MESSAGE, AUTH_FORBIDDEN_MESSAGE, AUTH_NOT_FOUND_MESSAGE } from \"../../services/Constants\";\nimport { print } from \"../../services/LoggingService\";\nimport { rbacService } from \"../../services/RBACService\";\nimport { configService } from \"../../services/ConfigService\";\nimport \"./ErrorMessage.scss\";\nimport { isDtdlVersion3 } from \"./ErrorMessageHelper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class ErrorMessageModal extends Component {\n  constructor(props) {\n    super(props);\n    this.close = () => {\n      this.setState({\n        showModal: false\n      });\n    };\n    this.checkUrl = async () => {\n      const {\n        appAdtUrl\n      } = await configService.getConfig();\n      const urlValues = appAdtUrl.split(\".\");\n      const chinaUrl = urlValues.length > 0 && urlValues[urlValues.length - 1] === \"cn\";\n      this.setState({\n        showAdtChinaWarningMessage: chinaUrl\n      });\n    };\n    this.fixPermissions = async () => {\n      this.setState({\n        showAuthSpinner: true,\n        showFixAuth: false\n      });\n      const requestParams = await rbacService.addReaderRBAC();\n      this.setState({\n        showAuthSpinner: false,\n        showAuthResponse: true,\n        showAuthStatus: requestParams\n      });\n    };\n    this.state = {\n      showModal: false,\n      errorMessage: \"\",\n      showFixAuth: false,\n      showAuthSpinner: false,\n      showAuthStatus: 0,\n      showAuthResponse: false,\n      stackErrorMessage: \"\",\n      showAdtChinaWarningMessage: false\n    };\n  }\n  componentDidMount() {\n    eventService.subscribeError(exc => {\n      let message = \"\";\n      let errorMessage = \"\";\n      let auth = false;\n      let v3 = false;\n      if (isDtdlVersion3(exc)) {\n        v3 = true;\n      } else if (exc && exc.name === \"RestError\" && exc.statusCode === 403) {\n        errorMessage = CUSTOM_AUTH_ERROR_MESSAGE;\n        message = CUSTOM_AUTH_ERROR_MESSAGE;\n        auth = true;\n      } else if (exc && exc.name === \"RestError\" && exc.statusCode === 404) {\n        errorMessage = CUSTOM_NOT_FOUND_ERROR_MESSAGE;\n      } else {\n        errorMessage = exc.customMessage ? `${exc.customMessage}` : `${exc.code}`;\n        message = exc.customMessage ? `${exc.customMessage}: ${exc}` : `${exc}`;\n      }\n      print(message, \"error\");\n      this.checkUrl();\n      this.setState({\n        errorMessage,\n        stackErrorMessage: exc.stack ? exc.stack.replace(/\\n/g, \"<br>\").replace(/ /gi, \"&nbsp\") : null,\n        // Don't show modal for v3 dtdl issue\n        showModal: !v3,\n        showFixAuth: auth\n      });\n    });\n  }\n  componentDidUpdate() {\n    if (this.state.showModal) {\n      setTimeout(() => {\n        document.getElementById(\"error-message-header\").focus();\n      }, 200);\n    }\n  }\n  render() {\n    const {\n      showModal,\n      errorMessage,\n      stackErrorMessage,\n      showFixAuth,\n      showAuthSpinner,\n      showAuthStatus,\n      showAuthResponse,\n      showAdtChinaWarningMessage\n    } = this.state;\n    let authComponent = \"\";\n    if (showFixAuth) {\n      authComponent = /*#__PURE__*/_jsxDEV(DefaultButton, {\n        className: \"modal-button close-button\",\n        onClick: this.fixPermissions,\n        style: {\n          width: 150\n        },\n        children: \"Assign yourself data reader access\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 23\n      }, this);\n    } else if (showAuthSpinner) {\n      authComponent = /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 23\n      }, this);\n    } else if (showAuthResponse && showAuthStatus === false) {\n      authComponent = /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: 7\n        },\n        children: CUSTOM_AZURE_ERROR_MESSAGE\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 23\n      }, this);\n    } else if (showAuthResponse && showAuthStatus !== 0) {\n      authComponent = /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: 7\n        },\n        children: AUTH_NOT_FOUND_MESSAGE\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 23\n      }, this);\n      for (const response of showAuthStatus) {\n        if (response) {\n          switch (response.status) {\n            case 201:\n              authComponent = /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: \"green\",\n                  \"textAlign\": \"left\",\n                  width: 400,\n                  margin: 0\n                },\n                children: AUTH_SUCCESS_MESSAGE\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 31\n              }, this);\n              break;\n            case 403:\n              authComponent = /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 7\n                },\n                children: AUTH_FORBIDDEN_MESSAGE\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 31\n              }, this);\n              break;\n            case 409:\n              authComponent = /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 7\n                },\n                children: AUTH_CONFLICT_MESSAGE\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 31\n              }, this);\n              break;\n            default:\n              authComponent = /*#__PURE__*/_jsxDEV(\"p\", {\n                children: response.statusText\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 31\n              }, this);\n          }\n        }\n      }\n    }\n    return /*#__PURE__*/_jsxDEV(ModalComponent, {\n      isVisible: showModal,\n      className: \"error-message\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          tabIndex: \"0\",\n          className: \"heading-2\",\n          id: \"error-message-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 76\n          }, this), this.props.t(\"errorMessages.error\")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), showAdtChinaWarningMessage && /*#__PURE__*/_jsxDEV(MessageBar, {\n          children: this.props.t(\"errorMessages.chinaSupport\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 42\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          tabIndex: \"0\",\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          tabIndex: \"0\",\n          children: [\"Find more information on how to resolve issues like this here: \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: MORE_INFORMATION_LINK,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: MORE_INFORMATION_LINK\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 90\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), stackErrorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-description\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            dangerouslySetInnerHTML: {\n              __html: stackErrorMessage\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn-group\",\n          children: [/*#__PURE__*/_jsxDEV(DefaultButton, {\n            className: \"modal-button close-button\",\n            onClick: this.close,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), authComponent]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default withTranslation(\"translation\", {\n  withRef: true\n})(ErrorMessageModal);","map":{"version":3,"names":["React","Component","DefaultButton","Spinner","MessageBar","withTranslation","ModalComponent","eventService","CUSTOM_AUTH_ERROR_MESSAGE","MORE_INFORMATION_LINK","CUSTOM_NOT_FOUND_ERROR_MESSAGE","CUSTOM_AZURE_ERROR_MESSAGE","AUTH_SUCCESS_MESSAGE","AUTH_CONFLICT_MESSAGE","AUTH_FORBIDDEN_MESSAGE","AUTH_NOT_FOUND_MESSAGE","print","rbacService","configService","isDtdlVersion3","jsxDEV","_jsxDEV","ErrorMessageModal","constructor","props","close","setState","showModal","checkUrl","appAdtUrl","getConfig","urlValues","split","chinaUrl","length","showAdtChinaWarningMessage","fixPermissions","showAuthSpinner","showFixAuth","requestParams","addReaderRBAC","showAuthResponse","showAuthStatus","state","errorMessage","stackErrorMessage","componentDidMount","subscribeError","exc","message","auth","v3","name","statusCode","customMessage","code","stack","replace","componentDidUpdate","setTimeout","document","getElementById","focus","render","authComponent","className","onClick","style","width","children","fileName","_jsxFileName","lineNumber","columnNumber","margin","response","status","color","statusText","isVisible","tabIndex","id","t","href","target","rel","dangerouslySetInnerHTML","__html","withRef"],"sources":["/home/saharsh/Music/digital-twins-explorer/client/src/components/ErrorMessageComponent/ErrorMessageModal.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport React, { Component } from \"react\";\nimport { DefaultButton, Spinner, MessageBar } from \"office-ui-fabric-react\";\nimport { withTranslation } from \"react-i18next\";\nimport ModalComponent from \"../ModalComponent/ModalComponent\";\nimport { eventService } from \"../../services/EventService\";\nimport { CUSTOM_AUTH_ERROR_MESSAGE, MORE_INFORMATION_LINK, CUSTOM_NOT_FOUND_ERROR_MESSAGE, CUSTOM_AZURE_ERROR_MESSAGE, AUTH_SUCCESS_MESSAGE,\n  AUTH_CONFLICT_MESSAGE, AUTH_FORBIDDEN_MESSAGE, AUTH_NOT_FOUND_MESSAGE } from \"../../services/Constants\";\nimport { print } from \"../../services/LoggingService\";\nimport { rbacService} from \"../../services/RBACService\";\nimport { configService } from \"../../services/ConfigService\";\n\nimport \"./ErrorMessage.scss\";\nimport { isDtdlVersion3 } from \"./ErrorMessageHelper\";\n\nexport class ErrorMessageModal extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showModal: false,\n      errorMessage: \"\",\n      showFixAuth: false,\n      showAuthSpinner: false,\n      showAuthStatus: 0,\n      showAuthResponse: false,\n      stackErrorMessage: \"\",\n      showAdtChinaWarningMessage: false\n    };\n  }\n\n  componentDidMount() {\n    eventService.subscribeError(exc => {\n      let message = \"\";\n      let errorMessage = \"\";\n      let auth = false;\n      let v3 = false;\n\n      if (isDtdlVersion3(exc)) {\n        v3 = true;\n      } else if (exc && exc.name === \"RestError\" && exc.statusCode === 403) {\n        errorMessage = CUSTOM_AUTH_ERROR_MESSAGE;\n        message = CUSTOM_AUTH_ERROR_MESSAGE;\n        auth = true;\n      } else if (exc && exc.name === \"RestError\" && exc.statusCode === 404) {\n        errorMessage = CUSTOM_NOT_FOUND_ERROR_MESSAGE;\n      } else {\n        errorMessage = exc.customMessage ? `${exc.customMessage}` : `${exc.code}`;\n        message = exc.customMessage ? `${exc.customMessage}: ${exc}` : `${exc}`;\n      }\n\n      print(message, \"error\");\n\n      this.checkUrl();\n\n      this.setState({\n        errorMessage,\n        stackErrorMessage: exc.stack ? exc.stack.replace(/\\n/g, \"<br>\").replace(/ /gi, \"&nbsp\") : null,\n        // Don't show modal for v3 dtdl issue\n        showModal: !v3,\n        showFixAuth: auth\n      });\n    });\n  }\n\n  close = () => {\n    this.setState({ showModal: false });\n  }\n\n  checkUrl = async () => {\n    const { appAdtUrl } = await configService.getConfig();\n    const urlValues = appAdtUrl.split(\".\");\n    const chinaUrl = urlValues.length > 0 && urlValues[urlValues.length - 1] === \"cn\";\n    this.setState({ showAdtChinaWarningMessage: chinaUrl });\n  }\n\n  fixPermissions = async () => {\n    this.setState(\n      {showAuthSpinner: true,\n        showFixAuth: false});\n    const requestParams = await rbacService.addReaderRBAC();\n    this.setState({\n      showAuthSpinner: false,\n      showAuthResponse: true,\n      showAuthStatus: requestParams\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.state.showModal) {\n      setTimeout(() => {\n        document.getElementById(\"error-message-header\").focus();\n      }, 200);\n    }\n  }\n\n  render() {\n    const { showModal, errorMessage, stackErrorMessage, showFixAuth, showAuthSpinner, showAuthStatus, showAuthResponse, showAdtChinaWarningMessage } = this.state;\n\n    let authComponent = \"\";\n    if (showFixAuth) {\n      authComponent = <DefaultButton className=\"modal-button close-button\" onClick={this.fixPermissions} style={{width: 150}}>Assign yourself data reader access</DefaultButton>;\n    } else if (showAuthSpinner) {\n      authComponent = <Spinner />;\n    } else if (showAuthResponse && showAuthStatus === false) {\n      authComponent = <p style={{margin: 7}}>{CUSTOM_AZURE_ERROR_MESSAGE}</p>;\n    } else if (showAuthResponse && showAuthStatus !== 0) {\n      authComponent = <p style={{margin: 7}}>{AUTH_NOT_FOUND_MESSAGE}</p>;\n      for (const response of showAuthStatus) {\n        if (response) {\n          switch (response.status) {\n            case 201:\n              authComponent = <p style={{color: \"green\", \"textAlign\": \"left\", width: 400, margin: 0}}>{AUTH_SUCCESS_MESSAGE}</p>;\n              break;\n            case 403:\n              authComponent = <p style={{margin: 7}}>{AUTH_FORBIDDEN_MESSAGE}</p>;\n              break;\n            case 409:\n              authComponent = <p style={{margin: 7}}>{AUTH_CONFLICT_MESSAGE}</p>;\n              break;\n            default:\n              authComponent = <p>{response.statusText}</p>;\n          }\n        }\n      }\n    }\n    return (\n      <ModalComponent\n        isVisible={showModal}\n        className=\"error-message\">\n        <div className=\"message-container\">\n          <h2 tabIndex=\"0\" className=\"heading-2\" id=\"error-message-header\"><span>!</span>{this.props.t(\"errorMessages.error\")}</h2>\n          {showAdtChinaWarningMessage && <MessageBar>\n            {this.props.t(\"errorMessages.chinaSupport\")}\n          </MessageBar>}\n          <p tabIndex=\"0\">{errorMessage}</p>\n          <p tabIndex=\"0\">Find more information on how to resolve issues like this here: <a href={MORE_INFORMATION_LINK} target=\"_blank\" rel=\"noopener noreferrer\">{MORE_INFORMATION_LINK}</a></p>\n          {stackErrorMessage && (\n            <div className=\"error-description\">\n              <p dangerouslySetInnerHTML={{ __html: stackErrorMessage }} />\n            </div>\n          )}\n          <div className=\"btn-group\">\n            <DefaultButton className=\"modal-button close-button\" onClick={this.close}>Close</DefaultButton>\n            {authComponent}\n          </div>\n        </div>\n      </ModalComponent>\n    );\n  }\n\n}\n\nexport default withTranslation(\"translation\", { withRef: true })(ErrorMessageModal);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}