{"ast":null,"code":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport jsonlint from \"jsonlint\";\nexport function readFile(file) {\n  // Always return a Promise\n  return new Promise((resolve, reject) => {\n    let content = \"\";\n    const reader = new FileReader();\n    // Wait till complete\n    reader.onloadend = function (e) {\n      content = e.target.result;\n      try {\n        const result = jsonlint.parse(content);\n        resolve(result);\n      } catch (exp) {\n        reject(exp);\n      }\n    };\n    // Make sure to handle error states\n    reader.onerror = function (e) {\n      reject(e);\n    };\n    reader.readAsText(file);\n  });\n}\nexport function sortArray(array, ...propertyNames) {\n  array.sort((a, b) => {\n    for (const p of propertyNames) {\n      const pA = a[p].toUpperCase();\n      const pB = b[p].toUpperCase();\n      if (pA < pB) {\n        return -1;\n      }\n      if (pA > pB) {\n        return 1;\n      }\n    }\n    return 0;\n  });\n}\nexport function capitalizeName(name) {\n  return name.charAt(0).toUpperCase() + name.slice(1);\n}\nexport function getUniqueRelationshipId(relationship) {\n  return `${relationship.$sourceId}_${relationship.$relationshipId}`;\n}\nexport function addNavigator(cy, navigationOptions, container) {\n  const nav = cy.navigator({\n    ...navigationOptions,\n    container\n  });\n\n  /* Sometimes the navigator thumbnail update fails as the DOM is not\n     in the correct state to be modified. As a workaround, this function\n     replaces the rendering event handlers added by the navigator with\n     one that is wrapped in a try/catch. */\n  const fn = nav._onRenderHandler;\n  cy.offRender(fn);\n  const newFn = function () {\n    try {\n      fn();\n      // Add navigator image alt for accessibility purposes\n      const imgEl = document.getElementById(container.replace(\"#\", \"\")).getElementsByTagName(\"img\")[0];\n      if (imgEl) {\n        if (imgEl.src) {\n          imgEl.setAttribute(\"alt\", \"graph navigator\");\n        } else {\n          imgEl.removeAttribute(\"alt\");\n        }\n      }\n    } catch (e) {\n      // Retry the render function after a timeout\n      setTimeout(newFn, nav.options.rerenderDelay);\n    }\n  };\n  nav._onRenderHandler = newFn;\n  cy.onRender(newFn);\n}","map":{"version":3,"names":["jsonlint","readFile","file","Promise","resolve","reject","content","reader","FileReader","onloadend","e","target","result","parse","exp","onerror","readAsText","sortArray","array","propertyNames","sort","a","b","p","pA","toUpperCase","pB","capitalizeName","name","charAt","slice","getUniqueRelationshipId","relationship","$sourceId","$relationshipId","addNavigator","cy","navigationOptions","container","nav","navigator","fn","_onRenderHandler","offRender","newFn","imgEl","document","getElementById","replace","getElementsByTagName","src","setAttribute","removeAttribute","setTimeout","options","rerenderDelay","onRender"],"sources":["/home/saharsh/Music/digital-twins-explorer/client/src/utils/utilities.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport jsonlint from \"jsonlint\";\n\nexport function readFile(file) {\n  // Always return a Promise\n  return new Promise((resolve, reject) => {\n    let content = \"\";\n    const reader = new FileReader();\n    // Wait till complete\n    reader.onloadend = function (e) {\n      content = e.target.result;\n\n      try {\n        const result = jsonlint.parse(content);\n        resolve(result);\n      } catch (exp) {\n        reject(exp);\n      }\n    };\n    // Make sure to handle error states\n    reader.onerror = function (e) {\n      reject(e);\n    };\n    reader.readAsText(file);\n  });\n}\n\nexport function sortArray(array, ...propertyNames) {\n  array.sort((a, b) => {\n    for (const p of propertyNames) {\n      const pA = a[p].toUpperCase();\n      const pB = b[p].toUpperCase();\n      if (pA < pB) {\n        return -1;\n      }\n      if (pA > pB) {\n        return 1;\n      }\n    }\n\n    return 0;\n  });\n}\n\nexport function capitalizeName(name) {\n  return name.charAt(0).toUpperCase() + name.slice(1);\n}\n\nexport function getUniqueRelationshipId(relationship) {\n  return `${relationship.$sourceId}_${relationship.$relationshipId}`;\n}\n\nexport function addNavigator(cy, navigationOptions, container) {\n  const nav = cy.navigator({ ...navigationOptions, container });\n\n  /* Sometimes the navigator thumbnail update fails as the DOM is not\n     in the correct state to be modified. As a workaround, this function\n     replaces the rendering event handlers added by the navigator with\n     one that is wrapped in a try/catch. */\n  const fn = nav._onRenderHandler;\n  cy.offRender(fn);\n\n  const newFn = function () {\n    try {\n      fn();\n      // Add navigator image alt for accessibility purposes\n      const imgEl = document.getElementById(container.replace(\"#\", \"\")).getElementsByTagName(\"img\")[0];\n      if (imgEl) {\n        if (imgEl.src) {\n          imgEl.setAttribute(\"alt\", \"graph navigator\");\n        } else {\n          imgEl.removeAttribute(\"alt\");\n        }\n      }\n    } catch (e) {\n      // Retry the render function after a timeout\n      setTimeout(newFn, nav.options.rerenderDelay);\n    }\n  };\n\n  nav._onRenderHandler = newFn;\n  cy.onRender(newFn);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}