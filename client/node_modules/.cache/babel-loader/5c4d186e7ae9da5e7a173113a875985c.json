{"ast":null,"code":"import { V as ViewerObjectStyle, aq as DefaultViewerModeObjectColor, aS as ViewerThemeStorageKey, bl as getDebugLogger, bM as useTranslation, at as ViewerModeBackgroundColors, ar as ViewerModeObjectColors, bk as ViewerConfigUtility, cc as deepCopy, bg as __assign, dm as HEADER_BUTTON_HEIGHT, b$ as FontSizes, ca as styled, cb as classNamesFunction, cd as useTheme, bP as IconButton, cy as css, cD as Image, cf as Stack, cx as memoizeFunction, bX as mergeStyleSets, cz as FocusZone, c as CameraInteraction, cS as Callout, cV as DirectionalHint, dS as VIEWER_CAMERA_CONTROLS_BOTTOM_OFFSET, dT as BUILDER_CAMERA_CONTROLS_BOTTOM_OFFSET, bE as __rest, aR as SelectedCameraInteractionKey, J as ADT3DAddInEventData, s as ADT3DAddInEventTypes } from './Interfaces-f1972c79.js';\nimport React__default, { useContext, useReducer, useMemo, useState, useEffect, useRef, useCallback } from 'react';\nimport { c as createCustomMeshItems, S as SceneView, s as showFpsCounter, w as withErrorBoundary } from './SceneView-26dd62bf.js';\nimport { B as BaseComponent } from './BaseComponent-0082350c.js';\nimport { f as fn } from './immer.esm-8bf4cc8a.js';\nvar img$2 = \"data:image/svg+xml,%3csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M28 8.89062V25.1094L15 31.625L2 25.1094V8.89062L15 2.375L28 8.89062ZM15 4.625L5.23438 9.5L15 14.375L24.7656 9.5L15 4.625ZM4 23.875L14 28.8906V16.125L4 11.1094V23.875ZM26 23.875V11.1094L16 16.125V28.8906L26 23.875Z' fill='%2350E6FF'/%3e%3cpath d='M28 8.89062H28.8V8.39673L28.3585 8.17543L28 8.89062ZM28 25.1094L28.3585 25.8246L28.8 25.6033V25.1094H28ZM15 31.625L14.6415 32.3402L15 32.5199L15.3585 32.3402L15 31.625ZM2 25.1094H1.2V25.6033L1.64154 25.8246L2 25.1094ZM2 8.89062L1.64154 8.17543L1.2 8.39673V8.89062H2ZM15 2.375L15.3585 1.6598L15 1.48014L14.6415 1.6598L15 2.375ZM15 4.625L15.3573 3.90923L15 3.73086L14.6427 3.90923L15 4.625ZM5.23438 9.5L4.87706 8.78423L3.44323 9.5L4.87706 10.2158L5.23438 9.5ZM15 14.375L14.6427 15.0908L15 15.2691L15.3573 15.0908L15 14.375ZM24.7656 9.5L25.1229 10.2158L26.5568 9.5L25.1229 8.78423L24.7656 9.5ZM4 23.875H3.2V24.3687L3.64134 24.5901L4 23.875ZM14 28.8906L13.6413 29.6057L14.8 30.1869V28.8906H14ZM14 16.125H14.8V15.6313L14.3587 15.4099L14 16.125ZM4 11.1094L4.35866 10.3943L3.2 9.81314V11.1094H4ZM26 23.875L26.3587 24.5901L26.8 24.3687V23.875H26ZM26 11.1094H26.8V9.81314L25.6413 10.3943L26 11.1094ZM16 16.125L15.6413 15.4099L15.2 15.6313V16.125H16ZM16 28.8906H15.2V30.1869L16.3587 29.6057L16 28.8906ZM27.2 8.89062V25.1094H28.8V8.89062H27.2ZM27.6415 24.3942L14.6415 30.9098L15.3585 32.3402L28.3585 25.8246L27.6415 24.3942ZM15.3585 30.9098L2.35846 24.3942L1.64154 25.8246L14.6415 32.3402L15.3585 30.9098ZM2.8 25.1094V8.89062H1.2V25.1094H2.8ZM2.35846 9.60582L15.3585 3.0902L14.6415 1.6598L1.64154 8.17543L2.35846 9.60582ZM14.6415 3.0902L27.6415 9.60582L28.3585 8.17543L15.3585 1.6598L14.6415 3.0902ZM14.6427 3.90923L4.87706 8.78423L5.59169 10.2158L15.3573 5.34077L14.6427 3.90923ZM4.87706 10.2158L14.6427 15.0908L15.3573 13.6592L5.59169 8.78423L4.87706 10.2158ZM15.3573 15.0908L25.1229 10.2158L24.4083 8.78423L14.6427 13.6592L15.3573 15.0908ZM25.1229 8.78423L15.3573 3.90923L14.6427 5.34077L24.4083 10.2158L25.1229 8.78423ZM3.64134 24.5901L13.6413 29.6057L14.3587 28.1755L4.35866 23.1599L3.64134 24.5901ZM14.8 28.8906V16.125H13.2V28.8906H14.8ZM14.3587 15.4099L4.35866 10.3943L3.64134 11.8245L13.6413 16.8401L14.3587 15.4099ZM3.2 11.1094V23.875H4.8V11.1094H3.2ZM26.8 23.875V11.1094H25.2V23.875H26.8ZM25.6413 10.3943L15.6413 15.4099L16.3587 16.8401L26.3587 11.8245L25.6413 10.3943ZM15.2 16.125V28.8906H16.8V16.125H15.2ZM16.3587 29.6057L26.3587 24.5901L25.6413 23.1599L15.6413 28.1755L16.3587 29.6057Z' fill='%234C5EFB'/%3e%3cpath d='M3.2 10.4L14.4 16V29.6L3.2 24V10.4Z' fill='%2350E6FF'/%3e%3cpath d='M16 16L26.4 10.4V24L16 28.8V16Z' fill='%2350E6FF'/%3e%3cpath d='M15.2 4L24.8 9.6L15.2 14.4L4.8 9.6L15.2 4Z' fill='%2350E6FF'/%3e%3c/svg%3e\";\nvar img$1 = \"data:image/svg+xml,%3csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M28 8.89062V25.1094L15 31.625L2 25.1094V8.89062L15 2.375L28 8.89062ZM15 4.625L5.23438 9.5L15 14.375L24.7656 9.5L15 4.625ZM4 23.875L14 28.8906V16.125L4 11.1094V23.875ZM26 23.875V11.1094L16 16.125V28.8906L26 23.875Z' fill='%2350E6FF'/%3e%3cpath d='M3.2 10.4L14.4 16V29.6L3.2 24V10.4Z' fill='%2350E6FF' fill-opacity='0.3'/%3e%3cpath d='M16 16L26.4 10.4V24L16 28.8V16Z' fill='%2350E6FF' fill-opacity='0.3'/%3e%3cpath d='M15.2 4L24.8 9.6L15.2 14.4L4.8 9.6L15.2 4Z' fill='%2350E6FF' fill-opacity='0.3'/%3e%3c/svg%3e\";\nvar img = \"data:image/svg+xml,%3csvg width='26' height='30' viewBox='0 0 26 30' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M26 6.89062V23.1094L13 29.625L0 23.1094V6.89062L13 0.375L26 6.89062ZM13 2.625L3.23438 7.5L13 12.375L22.7656 7.5L13 2.625ZM2 21.875L12 26.8906V14.125L2 9.10938V21.875ZM24 21.875V9.10938L14 14.125V26.8906L24 21.875Z' fill='%2350E6FF'/%3e%3c/svg%3e\";\n\n/**\r\n * The actions to update the state\r\n */\nvar SceneThemeContextActionType;\n(function (SceneThemeContextActionType) {\n  SceneThemeContextActionType[\"SET_OBJECT_COLOR\"] = \"SET_OBJECT_COLOR\";\n  SceneThemeContextActionType[\"SET_OBJECT_COLOR_OPTIONS\"] = \"SET_OBJECT_COLOR_OPTIONS\";\n  SceneThemeContextActionType[\"SET_SCENE_BACKGROUND\"] = \"SET_SCENE_BACKGROUND\";\n  SceneThemeContextActionType[\"SET_SCENE_BACKGROUND_OPTIONS\"] = \"SET_SCENE_BACKGROUND_OPTIONS\";\n  SceneThemeContextActionType[\"SET_OBJECT_STYLE\"] = \"SET_OBECT_STYLE\";\n  SceneThemeContextActionType[\"SET_OBJECT_STYLE_OPTIONS\"] = \"SET_OBJECT_STYLE_OPTIONS\";\n})(SceneThemeContextActionType || (SceneThemeContextActionType = {}));\nvar debugLogging$2 = false;\nvar logDebugConsole$2 = getDebugLogger('SceneThemeContext', debugLogging$2);\nvar SceneThemeContextInstance = React__default.createContext(null);\nvar useSceneThemeContext = function () {\n  return useContext(SceneThemeContextInstance);\n};\nvar isThemePersistenceEnabled = true;\nvar DEFAULT_OBJECT_COLOR_INDEX = 2;\nvar SceneThemeContextReducer = fn(function (draft, action) {\n  logDebugConsole$2('info', \"Updating Color context \" + action.type + \" with payload: \", action.payload);\n  switch (action.type) {\n    case SceneThemeContextActionType.SET_OBJECT_COLOR:\n      {\n        draft.objectColor = draft.objectColorOptions.find(function (x) {\n          return x.color === action.payload.color;\n        }) || DefaultViewerModeObjectColor; // fallback value in case we don't find a match\n        setPersistedTheme(buildPersistedTheme(draft));\n        break;\n      }\n    case SceneThemeContextActionType.SET_OBJECT_COLOR_OPTIONS:\n      {\n        draft.objectColorOptions = action.payload.options || [];\n        break;\n      }\n    case SceneThemeContextActionType.SET_OBJECT_STYLE:\n      {\n        draft.objectStyle = action.payload.style || ViewerObjectStyle.Default;\n        // adjust the object color based on the style\n        if (draft.objectStyle === ViewerObjectStyle.Default) {\n          draft.objectColor = DefaultViewerModeObjectColor;\n        } else if (\n        // if NOT default style && current object color is the default, set a different option so you can see the transparency\n        draft.objectColor.color === DefaultViewerModeObjectColor.color && draft.objectColor.baseColor === DefaultViewerModeObjectColor.baseColor) {\n          // changing to wireframe or transparent from default, select a color so we see the transparency\n          draft.objectColor = draft.objectColorOptions.find(function (x) {\n            return x.color === draft.objectColorOptions[0].color;\n          }); // blue\n        }\n        setPersistedTheme(buildPersistedTheme(draft));\n        break;\n      }\n    case SceneThemeContextActionType.SET_OBJECT_STYLE_OPTIONS:\n      {\n        draft.objectStyleOptions = action.payload.options || [];\n        break;\n      }\n    case SceneThemeContextActionType.SET_SCENE_BACKGROUND:\n      {\n        draft.sceneBackground = draft.sceneBackgroundOptions.find(function (x) {\n          return x.color === action.payload.color;\n        }) || draft.sceneBackgroundOptions[0]; // fallback value in case we don't find a match;\n        setPersistedTheme(buildPersistedTheme(draft));\n        break;\n      }\n    case SceneThemeContextActionType.SET_SCENE_BACKGROUND_OPTIONS:\n      {\n        draft.sceneBackgroundOptions = action.payload.options || [];\n        break;\n      }\n  }\n});\nvar SceneThemeContextProvider = function (props) {\n  var _a;\n  var children = props.children;\n  // skip wrapping if the context already exists\n  var existingContext = useSceneThemeContext();\n  if (existingContext) {\n    return React__default.createElement(React__default.Fragment, null, children);\n  }\n  var initialState = props.initialState,\n    _b = props.shouldPersistTheme,\n    shouldPersistTheme = _b === void 0 ? true : _b;\n  var t = useTranslation().t;\n  isThemePersistenceEnabled = shouldPersistTheme; // store the selection globally\n  // set the initial state for the Color reducer\n  var persistedTheme = getPersistedTheme();\n  var backgroundOptions = (initialState === null || initialState === void 0 ? void 0 : initialState.sceneBackgroundOptions) || ViewerModeBackgroundColors;\n  var sceneBackgroundKey = (persistedTheme === null || persistedTheme === void 0 ? void 0 : persistedTheme.backgroundKey) || '';\n  var sceneBackground = (initialState === null || initialState === void 0 ? void 0 : initialState.sceneBackground) || backgroundOptions.find(function (x) {\n    return x.color === sceneBackgroundKey;\n  }) || backgroundOptions[0];\n  var styleOptions = (initialState === null || initialState === void 0 ? void 0 : initialState.objectStyleOptions) || buildDefaultStyleChoices(t);\n  var objectStyle = (initialState === null || initialState === void 0 ? void 0 : initialState.objectStyle) || (persistedTheme === null || persistedTheme === void 0 ? void 0 : persistedTheme.objectStyle) || ViewerObjectStyle.Default;\n  var objectColorOptions = (initialState === null || initialState === void 0 ? void 0 : initialState.objectColorOptions) || ViewerModeObjectColors;\n  var objectColorKey = (persistedTheme === null || persistedTheme === void 0 ? void 0 : persistedTheme.objectColorKey) || ((_a = objectColorOptions === null || objectColorOptions === void 0 ? void 0 : objectColorOptions[DEFAULT_OBJECT_COLOR_INDEX]) === null || _a === void 0 ? void 0 : _a.color) || '';\n  var objectColor = (initialState === null || initialState === void 0 ? void 0 : initialState.objectColor) || objectStyle === ViewerObjectStyle.Default // use default mode for default style so we get model's built in styles\n  ? DefaultViewerModeObjectColor : (objectColorOptions === null || objectColorOptions === void 0 ? void 0 : objectColorOptions.find(function (x) {\n    return x.color === objectColorKey;\n  })) || DefaultViewerModeObjectColor;\n  var defaultState = {\n    sceneBackground: sceneBackground,\n    sceneBackgroundOptions: backgroundOptions,\n    objectColor: objectColor,\n    objectColorOptions: objectColorOptions,\n    objectStyle: objectStyle,\n    objectStyleOptions: styleOptions\n  };\n  logDebugConsole$2('info', 'Setting initial theme state. {state, stateOverrides}', defaultState, initialState);\n  var _c = useReducer(SceneThemeContextReducer, defaultState),\n    sceneThemeState = _c[0],\n    sceneThemeDispatch = _c[1];\n  return React__default.createElement(SceneThemeContextInstance.Provider, {\n    value: {\n      sceneThemeState: sceneThemeState,\n      sceneThemeDispatch: sceneThemeDispatch\n    }\n  }, children);\n};\nvar buildPersistedTheme = function (state) {\n  var _a;\n  return {\n    backgroundKey: state.sceneBackground.color,\n    objectColorKey: (_a = state.objectColor) === null || _a === void 0 ? void 0 : _a.color,\n    objectStyle: state.objectStyle\n  };\n};\nvar getPersistedTheme = function () {\n  var theme = localStorage.getItem(ViewerThemeStorageKey);\n  if (theme && isThemePersistenceEnabled) {\n    logDebugConsole$2('debug', \"Reading persisted theme from storage \" + ViewerThemeStorageKey, JSON.parse(theme));\n    return JSON.parse(theme);\n  }\n  return undefined;\n};\nvar setPersistedTheme = function (theme) {\n  if (theme && isThemePersistenceEnabled) {\n    logDebugConsole$2('debug', \"Persisting theme to storage key \" + ViewerThemeStorageKey, theme);\n    localStorage.setItem(ViewerThemeStorageKey, JSON.stringify(theme));\n  }\n};\nvar buildDefaultStyleChoices = function (t) {\n  var options = useMemo(function () {\n    return [{\n      key: ViewerObjectStyle.Default,\n      imageSrc: img$2,\n      imageAlt: t('modelViewerModePicker.default'),\n      selectedImageSrc: img$2,\n      imageSize: {\n        width: 40,\n        height: 40\n      },\n      text: t('modelViewerModePicker.default')\n    }, {\n      key: ViewerObjectStyle.Transparent,\n      imageSrc: img$1,\n      imageAlt: t('modelViewerModePicker.transparent'),\n      selectedImageSrc: img$1,\n      imageSize: {\n        width: 40,\n        height: 40\n      },\n      text: t('modelViewerModePicker.transparent')\n    }, {\n      key: ViewerObjectStyle.Wireframe,\n      imageSrc: img,\n      imageAlt: t('modelViewerModePicker.wireframe'),\n      selectedImageSrc: img,\n      imageSize: {\n        width: 40,\n        height: 40\n      },\n      text: t('modelViewerModePicker.wireframe')\n    }];\n  }, [t]);\n  return options;\n};\nvar SceneViewContextActionType;\n(function (SceneViewContextActionType) {\n  /** set array of outlined mesh items */\n  SceneViewContextActionType[\"SET_SCENE_SELECTED_MESHES\"] = \"SET_SCENE_SELECTED_MESHES\";\n  SceneViewContextActionType[\"SET_SCENE_OUTLINED_MESHES\"] = \"SET_SCENE_OUTLINED_MESHES\";\n  // TODO: Enable this when colored meshes are included in this pattern\n  // SET_SCENE_COLORED_MESHES = 'SET_SCENE_COLORED_MESHES'\n  SceneViewContextActionType[\"RESET_SELECTED_MESHES\"] = \"RESET_SELECTED_MESHES\";\n  SceneViewContextActionType[\"RESET_OUTLINED_MESHES\"] = \"RESET_OUTLINED_MESHES\";\n  SceneViewContextActionType[\"OUTLINE_BEHAVIOR_MESHES\"] = \"OUTLINE_BEHAVIOR_MESHES\";\n  SceneViewContextActionType[\"OUTLINE_ELEMENT_MESHES\"] = \"OUTLINE_ELEMENTS_MESHES\";\n})(SceneViewContextActionType || (SceneViewContextActionType = {}));\n\n/**\r\n * This context is for managing values that can control how a scene looks\r\n */\nvar debugLogging$1 = false;\nvar logDebugConsole$1 = getDebugLogger('SceneViewContext', debugLogging$1);\nvar SceneViewContext = React__default.createContext(null);\nvar useSceneViewContext = function () {\n  return useContext(SceneViewContext);\n};\nvar SceneViewContextReducer = fn(function (draft, action) {\n  logDebugConsole$1('info', \"Updating Sceneview context \" + action.type + \" with payload: \", action.payload // ignore that payload doesn't always come since this is just a log\n  );\n  switch (action.type) {\n    case SceneViewContextActionType.SET_SCENE_OUTLINED_MESHES:\n      {\n        var customMeshItems = createCustomMeshItems(action.payload.meshIds, action.payload.color);\n        draft.outlinedMeshItems = customMeshItems;\n        break;\n      }\n    case SceneViewContextActionType.RESET_SELECTED_MESHES:\n      {\n        draft.outlinedMeshItems = [];\n        break;\n      }\n    case SceneViewContextActionType.RESET_OUTLINED_MESHES:\n      {\n        draft.outlinedMeshItems = action.payload ? action.payload.outlinedMeshItems : [];\n        break;\n      }\n    case SceneViewContextActionType.OUTLINE_BEHAVIOR_MESHES:\n      {\n        var behavior = action.payload.behavior;\n        // get elements that are contained in the hovered behavior\n        var meshIds = new Set();\n        var selectedElements_2 = [];\n        behavior.datasources.filter(ViewerConfigUtility.isElementTwinToObjectMappingDataSource).forEach(function (ds) {\n          ds.elementIDs.forEach(function (elementId) {\n            var element = action.payload.elements.find(function (el) {\n              return el.id === elementId;\n            });\n            element && selectedElements_2.push(element);\n          });\n        });\n        for (var _i = 0, selectedElements_1 = selectedElements_2; _i < selectedElements_1.length; _i++) {\n          var element = selectedElements_1[_i];\n          for (var _a = 0, _b = element.objectIDs; _a < _b.length; _a++) {\n            var id = _b[_a];\n            meshIds = meshIds.add(id);\n          }\n        }\n        var customMeshItems = createCustomMeshItems(Array.from(meshIds), action.payload.color);\n        draft.outlinedMeshItems = customMeshItems;\n        break;\n      }\n    case SceneViewContextActionType.OUTLINE_ELEMENT_MESHES:\n      {\n        var meshIds = new Set();\n        for (var _c = 0, _d = action.payload.elements; _c < _d.length; _c++) {\n          var element = _d[_c];\n          // find elements that contain this mesh\n          if (element.objectIDs.includes(action.payload.meshId)) {\n            for (var _e = 0, _f = element.objectIDs; _e < _f.length; _e++) {\n              var id = _f[_e];\n              // add meshes that make up element to highlight\n              meshIds.add(id);\n            }\n          }\n        }\n        var customMeshItems = createCustomMeshItems(Array.from(meshIds), action.payload.color);\n        draft.outlinedMeshItems = customMeshItems;\n        break;\n      }\n    // TODO: Enable this when colored meshes are included in this pattern\n    // case SceneViewContextActionType.SET_SCENE_COLORED_MESHES: {\n    //     const customMeshItems = createCustomMeshItems(\n    //         action.payload.meshIds,\n    //         action.payload.color\n    //     );\n    //     break;\n    // }\n    // case SceneViewContextActionType.SET_SCENE_SELECTED_MESHES: {\n    //     const customMeshItems = createCustomMeshItems(\n    //         action.payload.meshIds,\n    //         action.payload.color\n    //     );\n    //     draft.outlinedMeshItems = customMeshItems;\n    //     draft.coloredMeshItems = customMeshItems;\n    //     break;\n    // }\n  }\n});\nvar initialOutlinedMeshItems;\nvar SceneViewContextProvider = function (props) {\n  var children = props.children;\n  // skip wrapping if the context already exists\n  var existingContext = useSceneViewContext();\n  if (existingContext) {\n    return React__default.createElement(React__default.Fragment, null, children);\n  }\n  var outlinedMeshItems = props.outlinedMeshItems;\n  initialOutlinedMeshItems = outlinedMeshItems ? deepCopy(outlinedMeshItems) : [];\n  var defaultState = {\n    outlinedMeshItems: initialOutlinedMeshItems\n  };\n  var _a = useReducer(SceneViewContextReducer, defaultState),\n    sceneViewState = _a[0],\n    sceneViewDispatch = _a[1];\n  return React__default.createElement(SceneViewContext.Provider, {\n    value: {\n      sceneViewDispatch: sceneViewDispatch,\n      sceneViewState: sceneViewState\n    }\n  }, children);\n};\nvar Selected = function (theme) {\n  return btoa(\"<svg width=\\\"25\\\" height=\\\"17\\\" viewBox=\\\"0 0 25 17\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <g filter=\\\"url(#filter0_dd_44735_156165)\\\">\\n    <rect width=\\\"9\\\" height=\\\"1.99923\\\" rx=\\\"0.999613\\\" transform=\\\"matrix(1 1.78012e-08 -1.71735e-06 1 8 4)\\\" fill=\\\"url(#paint0_radial_44735_156165)\\\"/>\\n    </g>\\n    <defs>\\n    <filter id=\\\"filter0_dd_44735_156165\\\" x=\\\"0.8\\\" y=\\\"2.38419e-07\\\" width=\\\"23.4\\\" height=\\\"16.4\\\" filterUnits=\\\"userSpaceOnUse\\\" color-interpolation-filters=\\\"sRGB\\\">\\n    <feFlood flood-opacity=\\\"0\\\" result=\\\"BackgroundImageFix\\\"/>\\n    <feColorMatrix in=\\\"SourceAlpha\\\" type=\\\"matrix\\\" values=\\\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\\\" result=\\\"hardAlpha\\\"/>\\n    <feOffset dy=\\\"3.2\\\"/>\\n    <feGaussianBlur stdDeviation=\\\"3.6\\\"/>\\n    <feColorMatrix type=\\\"matrix\\\" values=\\\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\\\"/>\\n    <feBlend mode=\\\"normal\\\" in2=\\\"BackgroundImageFix\\\" result=\\\"effect1_dropShadow_44735_156165\\\"/>\\n    <feColorMatrix in=\\\"SourceAlpha\\\" type=\\\"matrix\\\" values=\\\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\\\" result=\\\"hardAlpha\\\"/>\\n    <feOffset dy=\\\"0.6\\\"/>\\n    <feGaussianBlur stdDeviation=\\\"0.9\\\"/>\\n    <feColorMatrix type=\\\"matrix\\\" values=\\\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\\\"/>\\n    <feBlend mode=\\\"normal\\\" in2=\\\"effect1_dropShadow_44735_156165\\\" result=\\\"effect2_dropShadow_44735_156165\\\"/>\\n    <feBlend mode=\\\"normal\\\" in=\\\"SourceGraphic\\\" in2=\\\"effect2_dropShadow_44735_156165\\\" result=\\\"shape\\\"/>\\n    </filter>\\n    <radialGradient id=\\\"paint0_radial_44735_156165\\\" cx=\\\"0\\\" cy=\\\"0\\\" r=\\\"1\\\" gradientUnits=\\\"userSpaceOnUse\\\" gradientTransform=\\\"translate(0.195652) rotate(12.7934) scale(9.02848 3.15585)\\\">\\n    <stop stop-color=\\\"\" + theme.semanticColors.link + \"\\\"/>\\n    <stop offset=\\\"1\\\" stop-color=\\\"\" + theme.semanticColors.link + \"\\\"/>\\n    </radialGradient>\\n    </defs>\\n    </svg>\");\n};\nvar LeftMouseClick = function (theme) {\n  return btoa(\"<svg width=\\\"18\\\" height=\\\"24\\\" viewBox=\\\"0 0 18 24\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <path d=\\\"M13.0576 0.870117C13.6143 0.870117 14.1416 0.977539 14.6396 1.19238C15.1377 1.40723 15.5674 1.7002 15.9287 2.07129C16.2998 2.43262 16.5928 2.8623 16.8076 3.36035C17.0225 3.8584 17.1299 4.38574 17.1299 4.94238V15.8701C17.1299 16.9932 16.915 18.0479 16.4854 19.0342C16.0654 20.0205 15.4844 20.8848 14.7422 21.627C14.0098 22.3594 13.1504 22.9404 12.1641 23.3701C11.1777 23.79 10.123 24 9 24C7.87695 24 6.82227 23.79 5.83594 23.3701C4.84961 22.9404 3.98535 22.3594 3.24316 21.627C2.51074 20.8848 1.92969 20.0205 1.5 19.0342C1.08008 18.0479 0.870117 16.9932 0.870117 15.8701V4.94238C0.870117 4.38574 0.977539 3.8584 1.19238 3.36035C1.40723 2.8623 1.69531 2.43262 2.05664 2.07129C2.42773 1.7002 2.8623 1.40723 3.36035 1.19238C3.8584 0.977539 4.38574 0.870117 4.94238 0.870117H13.0576ZM15.8701 15.8701V4.94238C15.8701 4.55176 15.7969 4.18555 15.6504 3.84375C15.5039 3.50195 15.3037 3.2041 15.0498 2.9502C14.7959 2.69629 14.498 2.49609 14.1562 2.34961C13.8145 2.20312 13.4482 2.12988 13.0576 2.12988H9V7.75488C9 8.10645 8.93164 8.43359 8.79492 8.73633C8.66797 9.03906 8.4873 9.30273 8.25293 9.52734C8.02832 9.75195 7.76465 9.92773 7.46191 10.0547C7.15918 10.1816 6.83691 10.2451 6.49512 10.2451H2.12988V15.8701C2.12988 16.8174 2.31055 17.7109 2.67188 18.5508C3.0332 19.3809 3.52148 20.1084 4.13672 20.7334C4.76172 21.3584 5.48926 21.8516 6.31934 22.2129C7.15918 22.5742 8.05273 22.7549 9 22.7549C9.94727 22.7549 10.8359 22.5742 11.666 22.2129C12.5059 21.8516 13.2334 21.3584 13.8486 20.7334C14.4736 20.1084 14.9668 19.3809 15.3281 18.5508C15.6895 17.7109 15.8701 16.8174 15.8701 15.8701Z\\\" fill=\\\"\" + theme.semanticColors.bodyText + \"\\\"/>\\n    </svg>\");\n};\nvar LeftMouseMove = function (theme) {\n  return btoa(\"<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <path d=\\\"M26.6895 7.67578L29.6338 10.6201L26.6895 13.5645L25.8105 12.6855L27.2461 11.25H23.7451V10.0049H27.2461L25.8105 8.56934L26.6895 7.67578ZM14.3701 2.75391L12.9492 4.18945L12.0557 3.31055L15 0.366211L17.9443 3.31055L17.0508 4.18945L15.6299 2.75391V6.25488H14.3701V2.75391ZM4.18945 8.56934L2.75391 10.0049H6.25488V11.25H2.75391L4.18945 12.6855L3.31055 13.5645L0.366211 10.6201L3.31055 7.67578L4.18945 8.56934ZM19.0576 6.87012C19.6143 6.87012 20.1416 6.97754 20.6396 7.19238C21.1377 7.40723 21.5674 7.7002 21.9287 8.07129C22.2998 8.43262 22.5928 8.8623 22.8076 9.36035C23.0225 9.8584 23.1299 10.3857 23.1299 10.9424V21.8701C23.1299 22.9932 22.915 24.0479 22.4854 25.0342C22.0654 26.0205 21.4844 26.8848 20.7422 27.627C20.0098 28.3594 19.1504 28.9404 18.1641 29.3701C17.1777 29.79 16.123 30 15 30C13.877 30 12.8223 29.79 11.8359 29.3701C10.8496 28.9404 9.98535 28.3594 9.24316 27.627C8.51074 26.8848 7.92969 26.0205 7.5 25.0342C7.08008 24.0479 6.87012 22.9932 6.87012 21.8701V10.9424C6.87012 10.3857 6.97754 9.8584 7.19238 9.36035C7.40723 8.8623 7.69531 8.43262 8.05664 8.07129C8.42773 7.7002 8.8623 7.40723 9.36035 7.19238C9.8584 6.97754 10.3857 6.87012 10.9424 6.87012H19.0576ZM21.8701 21.8701V10.9424C21.8701 10.5518 21.7969 10.1855 21.6504 9.84375C21.5039 9.50195 21.3037 9.2041 21.0498 8.9502C20.7959 8.69629 20.498 8.49609 20.1562 8.34961C19.8145 8.20312 19.4482 8.12988 19.0576 8.12988H15V13.7549C15 14.1064 14.9316 14.4336 14.7949 14.7363C14.668 15.0391 14.4873 15.3027 14.2529 15.5273C14.0283 15.752 13.7646 15.9277 13.4619 16.0547C13.1592 16.1816 12.8369 16.2451 12.4951 16.2451H8.12988V21.8701C8.12988 22.8174 8.31055 23.7109 8.67188 24.5508C9.0332 25.3809 9.52148 26.1084 10.1367 26.7334C10.7617 27.3584 11.4893 27.8516 12.3193 28.2129C13.1592 28.5742 14.0527 28.7549 15 28.7549C15.9473 28.7549 16.8359 28.5742 17.666 28.2129C18.5059 27.8516 19.2334 27.3584 19.8486 26.7334C20.4736 26.1084 20.9668 25.3809 21.3281 24.5508C21.6895 23.7109 21.8701 22.8174 21.8701 21.8701Z\\\" fill=\\\"\" + theme.semanticColors.bodyText + \"\\\"/>\\n    </svg>\");\n};\nvar RightMouseMove = function (theme) {\n  return btoa(\"<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <path d=\\\"M4.18945 8.56934L2.75391 10.0049H6.25488V11.25H2.75391L4.18945 12.6855L3.31055 13.5645L0.366211 10.6201L3.31055 7.67578L4.18945 8.56934ZM14.3701 2.75391L12.9492 4.18945L12.0557 3.31055L15 0.366211L17.9443 3.31055L17.0508 4.18945L15.6299 2.75391V6.25488H14.3701V2.75391ZM26.6895 7.67578L29.6338 10.6201L26.6895 13.5645L25.8105 12.6855L27.2461 11.25H23.7451V10.0049H27.2461L25.8105 8.56934L26.6895 7.67578ZM19.0576 6.87012C19.6143 6.87012 20.1416 6.97754 20.6396 7.19238C21.1377 7.40723 21.5674 7.7002 21.9287 8.07129C22.2998 8.43262 22.5928 8.8623 22.8076 9.36035C23.0225 9.8584 23.1299 10.3857 23.1299 10.9424V21.8701C23.1299 22.9932 22.915 24.0479 22.4854 25.0342C22.0654 26.0205 21.4844 26.8848 20.7422 27.627C20.0098 28.3594 19.1504 28.9404 18.1641 29.3701C17.1777 29.79 16.123 30 15 30C13.877 30 12.8223 29.79 11.8359 29.3701C10.8496 28.9404 9.98535 28.3594 9.24316 27.627C8.51074 26.8848 7.92969 26.0205 7.5 25.0342C7.08008 24.0479 6.87012 22.9932 6.87012 21.8701V10.9424C6.87012 10.3857 6.97754 9.8584 7.19238 9.36035C7.40723 8.8623 7.69531 8.43262 8.05664 8.07129C8.42773 7.7002 8.8623 7.40723 9.36035 7.19238C9.8584 6.97754 10.3857 6.87012 10.9424 6.87012H19.0576ZM15 28.7549C15.9473 28.7549 16.8359 28.5742 17.666 28.2129C18.5059 27.8516 19.2334 27.3584 19.8486 26.7334C20.4736 26.1084 20.9668 25.3809 21.3281 24.5508C21.6895 23.7109 21.8701 22.8174 21.8701 21.8701V16.2451H17.5049C17.1631 16.2451 16.8359 16.1816 16.5234 16.0547C16.2207 15.9277 15.957 15.752 15.7324 15.5273C15.5078 15.3027 15.3271 15.0391 15.1904 14.7363C15.0635 14.4336 15 14.1064 15 13.7549V8.12988H10.9424C10.5518 8.12988 10.1855 8.20312 9.84375 8.34961C9.50195 8.49609 9.2041 8.69629 8.9502 8.9502C8.69629 9.2041 8.49609 9.50195 8.34961 9.84375C8.20312 10.1855 8.12988 10.5518 8.12988 10.9424V21.8701C8.12988 22.8174 8.31055 23.7109 8.67188 24.5508C9.0332 25.3809 9.52148 26.1084 10.1367 26.7334C10.7617 27.3584 11.4893 27.8516 12.3193 28.2129C13.1592 28.5742 14.0527 28.7549 15 28.7549Z\\\" fill=\\\"\" + theme.semanticColors.bodyText + \"\\\"/>\\n    </svg>\");\n};\nvar MiddleMouse = function (theme) {\n  return btoa(\"<svg width=\\\"18\\\" height=\\\"24\\\" viewBox=\\\"0 0 18 24\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <path d=\\\"M13.0576 0.870117C13.6143 0.870117 14.1416 0.977539 14.6396 1.19238C15.1377 1.40723 15.5674 1.7002 15.9287 2.07129C16.2998 2.43262 16.5928 2.8623 16.8076 3.36035C17.0225 3.8584 17.1299 4.38574 17.1299 4.94238V15.8701C17.1299 16.9932 16.915 18.0479 16.4854 19.0342C16.0654 20.0205 15.4844 20.8848 14.7422 21.627C14.0098 22.3594 13.1504 22.9404 12.1641 23.3701C11.1777 23.79 10.123 24 9 24C7.87695 24 6.82227 23.79 5.83594 23.3701C4.84961 22.9404 3.98535 22.3594 3.24316 21.627C2.51074 20.8848 1.92969 20.0205 1.5 19.0342C1.08008 18.0479 0.870117 16.9932 0.870117 15.8701V4.94238C0.870117 4.38574 0.977539 3.8584 1.19238 3.36035C1.40723 2.8623 1.69531 2.43262 2.05664 2.07129C2.42773 1.7002 2.8623 1.40723 3.36035 1.19238C3.8584 0.977539 4.38574 0.870117 4.94238 0.870117H13.0576ZM15.8701 15.8701V4.94238C15.8701 4.55176 15.7969 4.18555 15.6504 3.84375C15.5039 3.50195 15.3037 3.2041 15.0498 2.9502C14.7959 2.69629 14.498 2.49609 14.1562 2.34961C13.8145 2.20312 13.4482 2.12988 13.0576 2.12988H10.2451V9C10.2451 9.3418 10.123 9.63477 9.87891 9.87891C9.63477 10.123 9.3418 10.2451 9 10.2451C8.6582 10.2451 8.36523 10.123 8.12109 9.87891C7.87695 9.63477 7.75488 9.3418 7.75488 9V2.12988H4.94238C4.55176 2.12988 4.18555 2.20312 3.84375 2.34961C3.50195 2.49609 3.2041 2.69629 2.9502 2.9502C2.69629 3.2041 2.49609 3.50195 2.34961 3.84375C2.20312 4.18555 2.12988 4.55176 2.12988 4.94238V15.8701C2.12988 16.8174 2.31055 17.7109 2.67188 18.5508C3.0332 19.3809 3.52148 20.1084 4.13672 20.7334C4.76172 21.3584 5.48926 21.8516 6.31934 22.2129C7.15918 22.5742 8.05273 22.7549 9 22.7549C9.94727 22.7549 10.8359 22.5742 11.666 22.2129C12.5059 21.8516 13.2334 21.3584 13.8486 20.7334C14.4736 20.1084 14.9668 19.3809 15.3281 18.5508C15.6895 17.7109 15.8701 16.8174 15.8701 15.8701Z\\\" fill=\\\"\" + theme.semanticColors.bodyText + \"\\\"/>\\n    </svg>\\n    \");\n};\nfunction GET_HEADER_BUTTON_STYLES(theme, isActive) {\n  var color = theme.semanticColors.bodyText + \" !important\";\n  return {\n    root: {\n      color: color,\n      backgroundColor: isActive ? theme.semanticColors.buttonBackgroundPressed : theme.semanticColors.buttonBackground,\n      borderRadius: 4,\n      // remove the border for the groups\n      height: HEADER_BUTTON_HEIGHT - 2,\n      width: HEADER_BUTTON_HEIGHT - 2,\n      ':hover': {\n        border: \"1px solid \" + theme.palette.neutralSecondary\n      }\n    },\n    rootChecked: {\n      color: color\n    },\n    rootHovered: {\n      color: color\n    },\n    rootCheckedPressed: {\n      color: color\n    },\n    rootFocused: {\n      color: color\n    }\n  };\n}\nvar classPrefix$5 = 'header-control-button';\nvar classNames$5 = {\n  root: classPrefix$5 + \"-root\",\n  button: classPrefix$5 + \"-button\"\n};\nvar getStyles$5 = function (props) {\n  var isActive = props.isActive,\n    theme = props.theme;\n  return {\n    root: [classNames$5.root],\n    subComponentStyles: {\n      button: __assign(__assign({}, GET_HEADER_BUTTON_STYLES(theme, isActive)), {\n        icon: {\n          fontSize: FontSizes.size16\n        }\n      })\n    }\n  };\n};\nvar getClassNames$4 = classNamesFunction();\n/**\r\n * Control for an action at the top of the screen on the 3D Viewer. Can accept children (most likely images) or can be styled with text/icon as appropriate.\r\n * Should be wrapped in a `HeaderControlGroup` if you want a border.\r\n */\nvar HeaderControlButton = function (props) {\n  var buttonProps = props.buttonProps,\n    children = props.children,\n    dataTestId = props.dataTestId,\n    className = props.className,\n    iconProps = props.iconProps,\n    id = props.id,\n    imageProps = props.imageProps,\n    isActive = props.isActive,\n    onClick = props.onClick,\n    onMouseEnter = props.onMouseEnter,\n    onMouseLeave = props.onMouseLeave,\n    styles = props.styles,\n    title = props.title;\n  /** ----- hooks ----- */\n  var theme = useTheme();\n  var classNames = getClassNames$4(styles, {\n    theme: theme,\n    isActive: isActive\n  });\n  return React__default.createElement(IconButton, __assign({}, buttonProps, {\n    className: css(classNames.root, className),\n    checked: isActive,\n    \"data-testid\": dataTestId,\n    iconProps: iconProps,\n    id: id,\n    onClick: onClick,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    styles: classNames.subComponentStyles.button(),\n    title: title\n  }), imageProps && React__default.createElement(Image, __assign({}, imageProps)), children);\n};\nvar HeaderControlButton$1 = styled(HeaderControlButton, getStyles$5);\nvar classPrefix$4 = 'cb-HeaderControlGroup';\nvar classNames$4 = {\n  root: classPrefix$4 + \"-root\"\n};\nvar getStyles$4 = function (props) {\n  var theme = props.theme;\n  return {\n    root: [classNames$4.root, {\n      backgroundColor: theme.semanticColors.buttonBackground,\n      border: \"1px solid \" + theme.palette.neutralLight,\n      borderRadius: theme.effects.roundedCorner4\n    }],\n    subComponentStyles: {\n      stack: {\n        root: {\n          width: 'fit-content'\n        }\n      }\n    }\n  };\n};\nvar getClassNames$3 = classNamesFunction();\n/**\r\n * Component that wraps a collection of `HeaderControlButtons` to group them together and style them accordingly\r\n */\nvar HeaderControlGroup = function (props) {\n  var children = props.children,\n    id = props.id,\n    styles = props.styles;\n  var classNames = getClassNames$3(styles, {\n    theme: useTheme()\n  });\n  return React__default.createElement(Stack, {\n    id: id,\n    horizontal: true,\n    className: classNames.root,\n    styles: classNames.subComponentStyles.stack\n  }, children);\n};\nvar HeaderControlGroup$1 = styled(HeaderControlGroup, getStyles$4);\nvar classPrefix$3 = 'cb-cameracontrolscalloutcontent';\nvar classNames$3 = {\n  root: classPrefix$3 + \"-root\"\n};\nvar getStyles$3 = function (props) {\n  var theme = props.theme;\n  return {\n    root: [classNames$3.root, {\n      width: 200,\n      borderRadius: 2,\n      background: theme.semanticColors.buttonBackground,\n      padding: '16px 16px',\n      border: \"1px solid \" + theme.palette.neutralLight\n    }],\n    buttonIcon: {\n      fill: theme.semanticColors.bodyText\n    },\n    modes: {\n      display: 'flex',\n      fontSize: 12,\n      marginTop: 16\n    },\n    mode: {\n      flex: 1,\n      textAlign: 'center'\n    },\n    modeIcon: {\n      marginTop: 12,\n      marginBottom: 4\n    },\n    subComponentStyles: {}\n  };\n};\nvar MoveContent = function (props) {\n  var styles = props.styles;\n  var theme = useTheme();\n  var t = useTranslation().t;\n  return React__default.createElement(\"div\", {\n    className: styles.root\n  }, React__default.createElement(\"div\", null, t('cameraControls.mouseControls')), React__default.createElement(\"div\", {\n    className: styles.modes\n  }, React__default.createElement(\"div\", {\n    className: styles.mode\n  }, React__default.createElement(\"div\", null, t('cameraControls.select')), React__default.createElement(\"div\", null, React__default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,\" + LeftMouseClick(theme),\n    style: {\n      height: 28,\n      width: 28\n    },\n    className: styles.modeIcon\n  }))), React__default.createElement(\"div\", {\n    className: styles.mode\n  }, React__default.createElement(\"div\", null, t('cameraControls.pan')), React__default.createElement(\"div\", null, React__default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,\" + LeftMouseMove(theme),\n    style: {\n      height: 28,\n      width: 28\n    },\n    className: styles.modeIcon\n  }))), React__default.createElement(\"div\", {\n    className: styles.mode\n  }, React__default.createElement(\"div\", null, t('cameraControls.orbit')), React__default.createElement(\"div\", null, React__default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,\" + RightMouseMove(theme),\n    style: {\n      height: 28,\n      width: 28\n    },\n    className: styles.modeIcon\n  }))), React__default.createElement(\"div\", {\n    className: styles.mode\n  }, React__default.createElement(\"div\", null, t('cameraControls.zoom')), React__default.createElement(\"div\", null, React__default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,\" + MiddleMouse(theme),\n    style: {\n      height: 28,\n      width: 28\n    },\n    className: styles.modeIcon\n  })))));\n};\nvar OrbitContent = function (props) {\n  var styles = props.styles;\n  var theme = useTheme();\n  var t = useTranslation().t;\n  return React__default.createElement(\"div\", {\n    className: styles.root\n  }, React__default.createElement(\"div\", null, t('cameraControls.mouseControls')), React__default.createElement(\"div\", {\n    className: styles.modes\n  }, React__default.createElement(\"div\", {\n    className: styles.mode\n  }, React__default.createElement(\"div\", null, t('cameraControls.select')), React__default.createElement(\"div\", null, React__default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,\" + LeftMouseClick(theme),\n    style: {\n      height: 28,\n      width: 28\n    },\n    className: styles.modeIcon\n  }))), React__default.createElement(\"div\", {\n    className: styles.mode\n  }, React__default.createElement(\"div\", null, t('cameraControls.orbit')), React__default.createElement(\"div\", null, React__default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,\" + LeftMouseMove(theme),\n    style: {\n      height: 28,\n      width: 28\n    },\n    className: styles.modeIcon\n  }))), React__default.createElement(\"div\", {\n    className: styles.mode\n  }, React__default.createElement(\"div\", null, t('cameraControls.pan')), React__default.createElement(\"div\", null, React__default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,\" + RightMouseMove(theme),\n    style: {\n      height: 28,\n      width: 28\n    },\n    className: styles.modeIcon\n  }))), React__default.createElement(\"div\", {\n    className: styles.mode\n  }, React__default.createElement(\"div\", null, t('cameraControls.zoom')), React__default.createElement(\"div\", null, React__default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,\" + MiddleMouse(theme),\n    style: {\n      height: 28,\n      width: 28\n    },\n    className: styles.modeIcon\n  })))));\n};\nvar getClassNames$2 = classNamesFunction();\n/**\r\n * Control for showing the right flyout content on the camera controls\r\n */\nvar CameraControlsCalloutContent = function (props) {\n  var type = props.type,\n    styles = props.styles;\n  var classNames = getClassNames$2(styles, {\n    theme: useTheme()\n  });\n  switch (type) {\n    case 'Move':\n      return React__default.createElement(MoveContent, {\n        styles: classNames\n      });\n    case 'Orbit':\n      return React__default.createElement(OrbitContent, {\n        styles: classNames\n      });\n    default:\n      return null;\n  }\n};\nvar CameraControlsCalloutContent$1 = styled(CameraControlsCalloutContent, getStyles$3);\nvar CameraControls = function (_a) {\n  var cameraInteraction = _a.cameraInteraction,\n    onCameraInteractionChanged = _a.onCameraInteractionChanged,\n    onCameraZoom = _a.onCameraZoom,\n    onResetCamera = _a.onResetCamera;\n  var _b = useState(null),\n    cameraInteractionType = _b[0],\n    setCameraInteractionType = _b[1];\n  var _c = useState(false),\n    showPanCallout = _c[0],\n    setShowPanCallout = _c[1];\n  var _d = useState(false),\n    showOrbitCallout = _d[0],\n    setShowOrbitCallout = _d[1];\n  var theme = useTheme();\n  var styles = getStyles$2(theme);\n  var calloutAnchorPan = 'cd-camera-controls-calloutAnchor-pan';\n  var calloutAnchorOrbit = 'cd-camera-controls-calloutAnchor-orbit';\n  useEffect(function () {\n    if (cameraInteractionType) {\n      onCameraInteractionChanged(cameraInteractionType);\n    }\n  }, [cameraInteractionType, onCameraInteractionChanged]);\n  useEffect(function () {\n    if (cameraInteraction) {\n      setCameraInteractionType(cameraInteraction);\n    }\n  }, [cameraInteraction]);\n  var updateCameraInteraction = function (type) {\n    setCameraInteractionType(type);\n  };\n  var t = useTranslation().t;\n  return React__default.createElement(\"div\", {\n    className: styles.root\n  }, React__default.createElement(FocusZone, {\n    style: {\n      zIndex: 999\n    }\n  }, React__default.createElement(Stack, {\n    horizontal: true,\n    tokens: {\n      childrenGap: 8\n    }\n  }, React__default.createElement(HeaderControlGroup$1, null, React__default.createElement(HeaderControlButton$1, {\n    iconProps: {\n      iconName: 'Rotate90Clockwise'\n    },\n    id: calloutAnchorOrbit,\n    isActive: cameraInteractionType === CameraInteraction.Rotate,\n    onClick: function () {\n      return updateCameraInteraction(CameraInteraction.Rotate);\n    },\n    onMouseEnter: function () {\n      return setShowOrbitCallout(true);\n    },\n    onMouseLeave: function () {\n      return setShowOrbitCallout(false);\n    }\n  }, cameraInteractionType === CameraInteraction.Rotate && React__default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,\" + Selected(theme),\n    style: {\n      width: 24\n    },\n    className: styles.selectedIndicator\n  })), React__default.createElement(HeaderControlButton$1, {\n    iconProps: {\n      iconName: 'Move'\n    },\n    id: calloutAnchorPan,\n    isActive: cameraInteractionType === CameraInteraction.Pan,\n    onClick: function () {\n      return updateCameraInteraction(CameraInteraction.Pan);\n    },\n    onMouseEnter: function () {\n      return setShowPanCallout(true);\n    },\n    onMouseLeave: function () {\n      return setShowPanCallout(false);\n    }\n  }, cameraInteractionType === CameraInteraction.Pan && React__default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,\" + Selected(theme),\n    style: {\n      width: 24\n    },\n    className: styles.selectedIndicator\n  }))), React__default.createElement(HeaderControlGroup$1, null, React__default.createElement(HeaderControlButton$1, {\n    isActive: false,\n    iconProps: {\n      iconName: 'Add'\n    },\n    onClick: function () {\n      return onCameraZoom(true);\n    },\n    title: t('cameraControls.zoomIn')\n  }), React__default.createElement(HeaderControlButton$1, {\n    isActive: false,\n    iconProps: {\n      iconName: 'Remove'\n    },\n    title: t('cameraControls.zoomOut'),\n    onClick: function () {\n      return onCameraZoom(false);\n    }\n  })), React__default.createElement(HeaderControlGroup$1, null, React__default.createElement(HeaderControlButton$1, {\n    iconProps: {\n      iconName: 'CubeShape'\n    },\n    isActive: false,\n    onClick: onResetCamera,\n    title: t('cameraControls.reset')\n  })))), showPanCallout && React__default.createElement(Callout, {\n    target: \"#\" + calloutAnchorPan,\n    directionalHint: DirectionalHint.bottomCenter\n  }, React__default.createElement(CameraControlsCalloutContent$1, {\n    type: 'Move'\n  })), showOrbitCallout && React__default.createElement(Callout, {\n    target: \"#\" + calloutAnchorOrbit,\n    directionalHint: DirectionalHint.bottomCenter\n  }, React__default.createElement(CameraControlsCalloutContent$1, {\n    type: 'Orbit'\n  })));\n};\nvar classPrefix$2 = 'cb-camera-controls';\nvar classNames$2 = {\n  root: classPrefix$2 + \"-root\",\n  selected: classPrefix$2 + \"-selected\"\n};\nvar getStyles$2 = memoizeFunction(function (_theme) {\n  return mergeStyleSets({\n    root: [classNames$2.root, {\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      display: 'flex'\n    }],\n    selectedIndicator: [classNames$2.selected, {\n      position: 'absolute',\n      top: 28\n    }]\n  });\n});\nvar WrapperMode;\n(function (WrapperMode) {\n  WrapperMode[\"Builder\"] = \"Builder\";\n  WrapperMode[\"Viewer\"] = \"Viewer\";\n})(WrapperMode || (WrapperMode = {}));\nvar classPrefix$1 = 'cb-scene-view-wrapper';\nvar classNames$1 = {\n  root: classPrefix$1 + \"-root\",\n  leftHeader: classPrefix$1 + \"-left-header-controls\",\n  button: classPrefix$1 + \"-button\",\n  callout: classPrefix$1 + \"-callout\",\n  calloutCheckbox: classPrefix$1 + \"-callout-checkbox\",\n  calloutTitle: classPrefix$1 + \"-callout-title\",\n  errorMessage: classPrefix$1 + \"-error-message\"\n};\nvar getStyles$1 = function (props) {\n  var mode = props.mode;\n  return {\n    /** provide a hook for custom styling by consumers */\n    root: [classNames$1.root],\n    leftHeaderControlsContainer: [classNames$1.leftHeader],\n    subComponentStyles: {\n      cameraControlsStack: {\n        root: {\n          bottom: mode === WrapperMode.Viewer ? VIEWER_CAMERA_CONTROLS_BOTTOM_OFFSET : BUILDER_CAMERA_CONTROLS_BOTTOM_OFFSET,\n          display: 'flex',\n          position: 'absolute',\n          width: '100%',\n          // hacks for dayz cause Matt said so\n          '.cb-camera-controls-root .ms-FocusZone': {\n            marginLeft: mode === WrapperMode.Viewer ? 360 : 'auto'\n          }\n        }\n      }\n    }\n  };\n};\n\n/*\r\n\nThis class intercepts calls to the SceneViewer and enables AddIns to hook into events\r\n\n*/\nvar getClassNames$1 = classNamesFunction();\nvar SceneViewWrapper = function (props) {\n  var adapter = props.adapter,\n    addInProps = props.addInProps,\n    config = props.config,\n    objectColorUpdated = props.objectColorUpdated,\n    sceneId = props.sceneId,\n    sceneViewProps = props.sceneViewProps,\n    sceneVisuals = props.sceneVisuals,\n    selectedVisual = props.selectedVisual,\n    styles = props.styles,\n    wrapperMode = props.wrapperMode;\n  var onMeshHover = sceneViewProps.onMeshHover,\n    onMeshClick = sceneViewProps.onMeshClick,\n    onSceneLoaded = sceneViewProps.onSceneLoaded,\n    svp = __rest(sceneViewProps, [\"onMeshHover\", \"onMeshClick\", \"onSceneLoaded\"]);\n  var data = new ADT3DAddInEventData();\n  data.adapter = adapter;\n  data.config = config;\n  data.sceneId = sceneId;\n  data.sceneVisuals = sceneVisuals;\n  var _a = useState(null),\n    cameraInteractionType = _a[0],\n    setCameraInteractionType = _a[1];\n  var sceneViewComponent = useRef();\n  var theme = useTheme();\n  var classNames = getClassNames$1(styles, {\n    theme: theme,\n    mode: wrapperMode\n  });\n  var sceneThemeState = useSceneThemeContext().sceneThemeState;\n  var sceneViewState = useContext(SceneViewContext).sceneViewState;\n  // notify consumer of the change\n  useEffect(function () {\n    if (objectColorUpdated) {\n      objectColorUpdated(sceneThemeState.objectColor);\n    }\n  }, [objectColorUpdated, sceneThemeState.objectColor]);\n  useEffect(function () {\n    var cameraInteraction = localStorage.getItem(SelectedCameraInteractionKey);\n    if (cameraInteraction) {\n      setCameraInteractionType(JSON.parse(cameraInteraction));\n    } else {\n      setCameraInteractionType(CameraInteraction.Rotate);\n    }\n  }, []);\n  var sceneLoaded = function (scene) {\n    data.eventType = ADT3DAddInEventTypes.SceneLoaded;\n    data.scene = scene;\n    var noBubble = false;\n    if (addInProps === null || addInProps === void 0 ? void 0 : addInProps.onSceneLoaded) {\n      noBubble = addInProps.onSceneLoaded(data);\n    }\n    if (!noBubble && onSceneLoaded) {\n      onSceneLoaded(scene);\n    }\n  };\n  var meshHover = function (mesh, scene, pointerEvent) {\n    data.mesh = mesh;\n    data.scene = scene;\n    data.pointerEvent = pointerEvent;\n    var noBubble = false;\n    if (addInProps === null || addInProps === void 0 ? void 0 : addInProps.onMeshHover) {\n      noBubble = addInProps.onMeshHover(data);\n    }\n    if (!noBubble && onMeshHover) {\n      onMeshHover(mesh, scene, pointerEvent);\n    }\n  };\n  var meshClick = function (mesh, scene, pointerEvent) {\n    data.mesh = mesh;\n    data.scene = scene;\n    data.pointerEvent = pointerEvent;\n    var noBubble = false;\n    if (addInProps === null || addInProps === void 0 ? void 0 : addInProps.onMeshClick) {\n      noBubble = addInProps.onMeshClick(data);\n    }\n    if (!noBubble && onMeshClick) {\n      onMeshClick(mesh, scene, pointerEvent);\n    }\n  };\n  var cameraMove = function (position) {\n    if (addInProps === null || addInProps === void 0 ? void 0 : addInProps.onCameraMove) {\n      addInProps.onCameraMove(position);\n    }\n  };\n  var onCameraInteractionChanged = function (type) {\n    setCameraInteractionType(type);\n    localStorage.setItem(SelectedCameraInteractionKey, JSON.stringify(type));\n  };\n  var wrapperClassName = wrapperMode === WrapperMode.Builder ? 'cb-sceneview-builder-wrapper' : 'cb-sceneview-viewer-wrapper';\n  return React__default.createElement(\"div\", {\n    style: sceneThemeState.sceneBackground ? {\n      background: sceneThemeState.sceneBackground.color\n    } : {},\n    className: css(wrapperClassName, classNames.root)\n  }, React__default.createElement(SceneView, __assign({\n    ref: sceneViewComponent,\n    backgroundColor: sceneThemeState.sceneBackground,\n    objectColor: sceneThemeState.objectColor,\n    objectColorOptions: sceneThemeState.objectColorOptions,\n    objectStyle: sceneThemeState.objectStyle,\n    onCameraMove: (addInProps === null || addInProps === void 0 ? void 0 : addInProps.onCameraMove) ? cameraMove : undefined\n  }, svp, {\n    outlinedMeshitems: sceneViewState.outlinedMeshItems,\n    cameraInteractionType: cameraInteractionType,\n    onMeshClick: meshClick,\n    onMeshHover: meshHover,\n    onSceneLoaded: sceneLoaded\n  })), showFpsCounter, React__default.createElement(Stack, {\n    horizontal: true,\n    styles: classNames.subComponentStyles.cameraControlsStack\n  }, React__default.createElement(CameraControls, {\n    cameraInteraction: cameraInteractionType,\n    onCameraInteractionChanged: onCameraInteractionChanged,\n    onCameraZoom: function (zoom) {\n      var _a;\n      return (_a = sceneViewComponent.current) === null || _a === void 0 ? void 0 : _a.zoomCamera(zoom);\n    },\n    onResetCamera: function () {\n      var _a, _b;\n      return (_a = sceneViewComponent.current) === null || _a === void 0 ? void 0 : _a.resetCamera((_b = selectedVisual === null || selectedVisual === void 0 ? void 0 : selectedVisual.element) === null || _b === void 0 ? void 0 : _b.objectIDs);\n    }\n  })));\n};\nvar SceneViewWrapper$1 = styled(SceneViewWrapper, getStyles$1);\nvar classPrefix = 'cb-adt-3d-viewer';\nvar classNames = {\n  root: classPrefix + \"-root\",\n  wrapper: classPrefix + \"-wrapper\",\n  layersPicker: classPrefix + \"-layers-picker\"\n};\nvar getStyles = function (_props) {\n  return {\n    root: [classNames.root, {\n      height: '100%',\n      width: '100%'\n    }],\n    wrapper: [classNames.wrapper, {\n      height: '100%',\n      position: 'relative',\n      width: '100%'\n    }],\n    subComponentStyles: {}\n  };\n};\nvar getClassNames = classNamesFunction();\nvar debugLogging = false;\nvar logDebugConsole = getDebugLogger('ADT3DBuilder', debugLogging);\nvar ADT3DBuilder = function (props) {\n  var adapter = props.adapter,\n    modelUrl = props.modelUrl,\n    sceneViewProps = props.sceneViewProps,\n    onMeshClicked = props.onMeshClicked,\n    onMeshHovered = props.onMeshHovered,\n    showMeshesOnHover = props.showMeshesOnHover,\n    coloredMeshItems = props.coloredMeshItems,\n    showHoverOnSelected = props.showHoverOnSelected,\n    gizmoElementItem = props.gizmoElementItem,\n    gizmoTransformItem = props.gizmoTransformItem,\n    setGizmoTransformItem = props.setGizmoTransformItem,\n    objectColorUpdated = props.objectColorUpdated,\n    styles = props.styles;\n  // styles\n  var fluentTheme = useTheme();\n  var classNames = getClassNames(styles, {\n    theme: fluentTheme\n  });\n  // viewer callbacks\n  var meshClick = useCallback(function (mesh, _scene, e) {\n    if (onMeshClicked) {\n      onMeshClicked(mesh, e);\n    }\n  }, [onMeshClicked]);\n  var meshHover = useCallback(function (mesh, _scene, _e) {\n    if (onMeshHovered) {\n      onMeshHovered(mesh);\n    }\n  }, [onMeshHovered]);\n  var svp = sceneViewProps || {};\n  logDebugConsole('debug', 'Render ADT3DBuilder');\n  return React__default.createElement(BaseComponent, {\n    containerClassName: classNames.root\n  }, React__default.createElement(\"div\", {\n    className: classNames.wrapper\n  }, React__default.createElement(SceneViewWrapper$1, {\n    objectColorUpdated: objectColorUpdated,\n    wrapperMode: WrapperMode.Builder,\n    sceneViewProps: __assign(__assign({}, svp), {\n      modelUrl: modelUrl,\n      onMeshClick: meshClick,\n      onMeshHover: meshHover,\n      coloredMeshItems: coloredMeshItems,\n      showMeshesOnHover: showMeshesOnHover !== null && showMeshesOnHover !== void 0 ? showMeshesOnHover : true,\n      showHoverOnSelected: showHoverOnSelected,\n      gizmoElementItem: gizmoElementItem,\n      gizmoTransformItem: gizmoTransformItem,\n      setGizmoTransformItem: setGizmoTransformItem,\n      getToken: adapter.authService ? function () {\n        return adapter.authService.getToken('storage');\n      } : undefined,\n      allowModelDimensionErrorMessage: true\n    })\n  })));\n};\nvar ADT3DBuilder$1 = styled(withErrorBoundary(ADT3DBuilder), getStyles);\nexport { ADT3DBuilder$1 as A, GET_HEADER_BUTTON_STYLES as G, HeaderControlGroup$1 as H, SceneThemeContextProvider as S, WrapperMode as W, SceneViewContextProvider as a, SceneViewContextActionType as b, HeaderControlButton$1 as c, useSceneThemeContext as d, SceneThemeContextActionType as e, SceneViewWrapper$1 as f, useSceneViewContext as u };","map":{"version":3,"sources":["../../src/Resources/Static/default.svg","../../src/Resources/Static/transparent.svg","../../src/Resources/Static/wireframe.svg","../../src/Models/Context/SceneThemeContext/SceneThemeContext.types.ts","../../src/Models/Context/SceneThemeContext/SceneThemeContext.tsx","../../src/Models/Context/SceneViewContext/SceneViewContext.types.ts","../../src/Models/Context/SceneViewContext/SceneViewContext.tsx","../../src/Components/3DV/Internal/CameraControls/Internal/CameraControlAssets.tsx","../../src/Components/HeaderControlButton/HeaderControlButton.styles.ts","../../src/Components/HeaderControlButton/HeaderControlButton.tsx","../../src/Components/HeaderControlGroup/HeaderControlGroup.styles.ts","../../src/Components/HeaderControlGroup/HeaderControlGroup.tsx","../../src/Components/3DV/Internal/CameraControls/Internal/CameraControlsCalloutContent/CameraControlsCalloutContent.styles.ts","../../src/Components/3DV/Internal/CameraControls/Internal/CameraControlsCalloutContent/Internal/MoveContent.tsx","../../src/Components/3DV/Internal/CameraControls/Internal/CameraControlsCalloutContent/Internal/OrbitContent.tsx","../../src/Components/3DV/Internal/CameraControls/Internal/CameraControlsCalloutContent/CameraControlsCalloutContent.tsx","../../src/Components/3DV/Internal/CameraControls/CameraControls.tsx","../../src/Components/3DV/SceneView.types.ts","../../src/Components/3DV/SceneViewWrapper.styles.ts","../../src/Components/3DV/SceneViewWrapper.tsx","../../src/Components/ADT3DBuilder/ADT3DBuilder.styles.ts","../../src/Components/ADT3DBuilder/ADT3DBuilder.tsx"],"names":["img","debugLogging","logDebugConsole","React","produce","DefaultStyle","TransparentStyle","WireframeStyle","classPrefix","classNames","getStyles","getClassNames","HeaderControlGroup","HeaderControlButton","CameraControlsCalloutContent","SceneViewWrapper"],"mappings":"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","sourcesContent":["var img = \"data:image/svg+xml,%3csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M28 8.89062V25.1094L15 31.625L2 25.1094V8.89062L15 2.375L28 8.89062ZM15 4.625L5.23438 9.5L15 14.375L24.7656 9.5L15 4.625ZM4 23.875L14 28.8906V16.125L4 11.1094V23.875ZM26 23.875V11.1094L16 16.125V28.8906L26 23.875Z' fill='%2350E6FF'/%3e%3cpath d='M28 8.89062H28.8V8.39673L28.3585 8.17543L28 8.89062ZM28 25.1094L28.3585 25.8246L28.8 25.6033V25.1094H28ZM15 31.625L14.6415 32.3402L15 32.5199L15.3585 32.3402L15 31.625ZM2 25.1094H1.2V25.6033L1.64154 25.8246L2 25.1094ZM2 8.89062L1.64154 8.17543L1.2 8.39673V8.89062H2ZM15 2.375L15.3585 1.6598L15 1.48014L14.6415 1.6598L15 2.375ZM15 4.625L15.3573 3.90923L15 3.73086L14.6427 3.90923L15 4.625ZM5.23438 9.5L4.87706 8.78423L3.44323 9.5L4.87706 10.2158L5.23438 9.5ZM15 14.375L14.6427 15.0908L15 15.2691L15.3573 15.0908L15 14.375ZM24.7656 9.5L25.1229 10.2158L26.5568 9.5L25.1229 8.78423L24.7656 9.5ZM4 23.875H3.2V24.3687L3.64134 24.5901L4 23.875ZM14 28.8906L13.6413 29.6057L14.8 30.1869V28.8906H14ZM14 16.125H14.8V15.6313L14.3587 15.4099L14 16.125ZM4 11.1094L4.35866 10.3943L3.2 9.81314V11.1094H4ZM26 23.875L26.3587 24.5901L26.8 24.3687V23.875H26ZM26 11.1094H26.8V9.81314L25.6413 10.3943L26 11.1094ZM16 16.125L15.6413 15.4099L15.2 15.6313V16.125H16ZM16 28.8906H15.2V30.1869L16.3587 29.6057L16 28.8906ZM27.2 8.89062V25.1094H28.8V8.89062H27.2ZM27.6415 24.3942L14.6415 30.9098L15.3585 32.3402L28.3585 25.8246L27.6415 24.3942ZM15.3585 30.9098L2.35846 24.3942L1.64154 25.8246L14.6415 32.3402L15.3585 30.9098ZM2.8 25.1094V8.89062H1.2V25.1094H2.8ZM2.35846 9.60582L15.3585 3.0902L14.6415 1.6598L1.64154 8.17543L2.35846 9.60582ZM14.6415 3.0902L27.6415 9.60582L28.3585 8.17543L15.3585 1.6598L14.6415 3.0902ZM14.6427 3.90923L4.87706 8.78423L5.59169 10.2158L15.3573 5.34077L14.6427 3.90923ZM4.87706 10.2158L14.6427 15.0908L15.3573 13.6592L5.59169 8.78423L4.87706 10.2158ZM15.3573 15.0908L25.1229 10.2158L24.4083 8.78423L14.6427 13.6592L15.3573 15.0908ZM25.1229 8.78423L15.3573 3.90923L14.6427 5.34077L24.4083 10.2158L25.1229 8.78423ZM3.64134 24.5901L13.6413 29.6057L14.3587 28.1755L4.35866 23.1599L3.64134 24.5901ZM14.8 28.8906V16.125H13.2V28.8906H14.8ZM14.3587 15.4099L4.35866 10.3943L3.64134 11.8245L13.6413 16.8401L14.3587 15.4099ZM3.2 11.1094V23.875H4.8V11.1094H3.2ZM26.8 23.875V11.1094H25.2V23.875H26.8ZM25.6413 10.3943L15.6413 15.4099L16.3587 16.8401L26.3587 11.8245L25.6413 10.3943ZM15.2 16.125V28.8906H16.8V16.125H15.2ZM16.3587 29.6057L26.3587 24.5901L25.6413 23.1599L15.6413 28.1755L16.3587 29.6057Z' fill='%234C5EFB'/%3e%3cpath d='M3.2 10.4L14.4 16V29.6L3.2 24V10.4Z' fill='%2350E6FF'/%3e%3cpath d='M16 16L26.4 10.4V24L16 28.8V16Z' fill='%2350E6FF'/%3e%3cpath d='M15.2 4L24.8 9.6L15.2 14.4L4.8 9.6L15.2 4Z' fill='%2350E6FF'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M28 8.89062V25.1094L15 31.625L2 25.1094V8.89062L15 2.375L28 8.89062ZM15 4.625L5.23438 9.5L15 14.375L24.7656 9.5L15 4.625ZM4 23.875L14 28.8906V16.125L4 11.1094V23.875ZM26 23.875V11.1094L16 16.125V28.8906L26 23.875Z' fill='%2350E6FF'/%3e%3cpath d='M3.2 10.4L14.4 16V29.6L3.2 24V10.4Z' fill='%2350E6FF' fill-opacity='0.3'/%3e%3cpath d='M16 16L26.4 10.4V24L16 28.8V16Z' fill='%2350E6FF' fill-opacity='0.3'/%3e%3cpath d='M15.2 4L24.8 9.6L15.2 14.4L4.8 9.6L15.2 4Z' fill='%2350E6FF' fill-opacity='0.3'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='26' height='30' viewBox='0 0 26 30' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M26 6.89062V23.1094L13 29.625L0 23.1094V6.89062L13 0.375L26 6.89062ZM13 2.625L3.23438 7.5L13 12.375L22.7656 7.5L13 2.625ZM2 21.875L12 26.8906V14.125L2 9.10938V21.875ZM24 21.875V9.10938L14 14.125V26.8906L24 21.875Z' fill='%2350E6FF'/%3e%3c/svg%3e\";\n  export default img;","import { IADTBackgroundColor, IADTObjectColor } from '../../Constants';\nimport { ViewerObjectStyle } from '../../Constants/Enums';\n\nexport interface ViewerMode {\n    objectColor: string;\n    sceneBackground: string;\n    objectStyle: ViewerObjectStyle;\n}\n\nexport interface ISceneThemeContextProviderProps {\n    initialState?: Partial<ISceneThemeContextState>;\n    /** whether to read the theme from storage */\n    shouldPersistTheme?: boolean;\n}\n\n/**\n * A context used for capturing the current state of the app and restoring it to a new instance of the app\n */\nexport interface ISceneThemeContext {\n    sceneThemeState: ISceneThemeContextState;\n    sceneThemeDispatch: React.Dispatch<SceneThemeContextAction>;\n}\n\n/**\n * The state of the context\n */\nexport interface ISceneThemeContextState {\n    objectColor: IADTObjectColor;\n    objectColorOptions: IADTObjectColor[];\n    objectStyle: ViewerObjectStyle;\n    objectStyleOptions: IObjectStyleOption[];\n    sceneBackground: IADTBackgroundColor;\n    sceneBackgroundOptions: IADTBackgroundColor[];\n}\n\n/**\n * The actions to update the state\n */\nexport enum SceneThemeContextActionType {\n    SET_OBJECT_COLOR = 'SET_OBJECT_COLOR',\n    SET_OBJECT_COLOR_OPTIONS = 'SET_OBJECT_COLOR_OPTIONS',\n    SET_SCENE_BACKGROUND = 'SET_SCENE_BACKGROUND',\n    SET_SCENE_BACKGROUND_OPTIONS = 'SET_SCENE_BACKGROUND_OPTIONS',\n    SET_OBJECT_STYLE = 'SET_OBECT_STYLE',\n    SET_OBJECT_STYLE_OPTIONS = 'SET_OBJECT_STYLE_OPTIONS'\n}\n\n/** The actions to update the state */\nexport type SceneThemeContextAction =\n    | {\n          type: SceneThemeContextActionType.SET_OBJECT_COLOR;\n          payload: { color: string };\n      }\n    | {\n          type: SceneThemeContextActionType.SET_OBJECT_COLOR_OPTIONS;\n          payload: { options: IADTObjectColor[] };\n      }\n    | {\n          type: SceneThemeContextActionType.SET_SCENE_BACKGROUND;\n          payload: { color: string };\n      }\n    | {\n          type: SceneThemeContextActionType.SET_SCENE_BACKGROUND_OPTIONS;\n          payload: { options: IADTBackgroundColor[] };\n      }\n    | {\n          type: SceneThemeContextActionType.SET_OBJECT_STYLE;\n          payload: { style: ViewerObjectStyle };\n      }\n    | {\n          type: SceneThemeContextActionType.SET_OBJECT_STYLE_OPTIONS;\n          payload: { options: IObjectStyleOption[] };\n      };\n\nexport interface IObjectStyleOption {\n    key: ViewerObjectStyle;\n    imageSrc: string;\n    imageAlt: string;\n    selectedImageSrc: string;\n    imageSize: { width: 40; height: 40 };\n    text: string;\n}\n","import produce from 'immer';\n\nimport React, { useContext, useMemo, useReducer } from 'react';\nimport {\n    DefaultViewerModeObjectColor,\n    ISceneViewerThemeCache,\n    ViewerModeBackgroundColors,\n    ViewerModeObjectColors,\n    ViewerObjectStyle,\n    ViewerThemeStorageKey\n} from '../../Constants';\nimport { getDebugLogger } from '../../Services/Utils';\nimport DefaultStyle from '../../../Resources/Static/default.svg';\nimport TransparentStyle from '../../../Resources/Static/transparent.svg';\nimport WireframeStyle from '../../../Resources/Static/wireframe.svg';\nimport {\n    SceneThemeContextAction,\n    SceneThemeContextActionType,\n    ISceneThemeContext,\n    ISceneThemeContextProviderProps,\n    ISceneThemeContextState,\n    IObjectStyleOption\n} from './SceneThemeContext.types';\nimport { TFunction, useTranslation } from 'react-i18next';\n\nconst debugLogging = false;\nconst logDebugConsole = getDebugLogger('SceneThemeContext', debugLogging);\n\nconst SceneThemeContextInstance = React.createContext<ISceneThemeContext>(null);\nexport const useSceneThemeContext = () => useContext(SceneThemeContextInstance);\n\nlet isThemePersistenceEnabled = true;\nconst DEFAULT_OBJECT_COLOR_INDEX = 2;\n\nexport const SceneThemeContextReducer: (\n    draft: ISceneThemeContextState,\n    action: SceneThemeContextAction\n) => ISceneThemeContextState = produce(\n    (draft: ISceneThemeContextState, action: SceneThemeContextAction) => {\n        logDebugConsole(\n            'info',\n            `Updating Color context ${action.type} with payload: `,\n            action.payload\n        );\n        switch (action.type) {\n            case SceneThemeContextActionType.SET_OBJECT_COLOR: {\n                draft.objectColor =\n                    draft.objectColorOptions.find(\n                        (x) => x.color === action.payload.color\n                    ) || DefaultViewerModeObjectColor; // fallback value in case we don't find a match\n                setPersistedTheme(buildPersistedTheme(draft));\n                break;\n            }\n            case SceneThemeContextActionType.SET_OBJECT_COLOR_OPTIONS: {\n                draft.objectColorOptions = action.payload.options || [];\n                break;\n            }\n            case SceneThemeContextActionType.SET_OBJECT_STYLE: {\n                draft.objectStyle =\n                    action.payload.style || ViewerObjectStyle.Default;\n                // adjust the object color based on the style\n                if (draft.objectStyle === ViewerObjectStyle.Default) {\n                    draft.objectColor = DefaultViewerModeObjectColor;\n                } else if (\n                    // if NOT default style && current object color is the default, set a different option so you can see the transparency\n                    draft.objectColor.color ===\n                        DefaultViewerModeObjectColor.color &&\n                    draft.objectColor.baseColor ===\n                        DefaultViewerModeObjectColor.baseColor\n                ) {\n                    // changing to wireframe or transparent from default, select a color so we see the transparency\n                    draft.objectColor = draft.objectColorOptions.find(\n                        (x) => x.color === draft.objectColorOptions[0].color\n                    ); // blue\n                }\n                setPersistedTheme(buildPersistedTheme(draft));\n                break;\n            }\n            case SceneThemeContextActionType.SET_OBJECT_STYLE_OPTIONS: {\n                draft.objectStyleOptions = action.payload.options || [];\n                break;\n            }\n            case SceneThemeContextActionType.SET_SCENE_BACKGROUND: {\n                draft.sceneBackground =\n                    draft.sceneBackgroundOptions.find(\n                        (x) => x.color === action.payload.color\n                    ) || draft.sceneBackgroundOptions[0]; // fallback value in case we don't find a match;\n                setPersistedTheme(buildPersistedTheme(draft));\n                break;\n            }\n            case SceneThemeContextActionType.SET_SCENE_BACKGROUND_OPTIONS: {\n                draft.sceneBackgroundOptions = action.payload.options || [];\n                break;\n            }\n        }\n    }\n);\n\nexport const SceneThemeContextProvider: React.FC<ISceneThemeContextProviderProps> = (\n    props\n) => {\n    const { children } = props;\n\n    // skip wrapping if the context already exists\n    const existingContext = useSceneThemeContext();\n    if (existingContext) {\n        return <>{children}</>;\n    }\n\n    const { initialState, shouldPersistTheme = true } = props;\n    const { t } = useTranslation();\n    isThemePersistenceEnabled = shouldPersistTheme; // store the selection globally\n\n    // set the initial state for the Color reducer\n    const persistedTheme = getPersistedTheme();\n\n    const backgroundOptions =\n        initialState?.sceneBackgroundOptions || ViewerModeBackgroundColors;\n    const sceneBackgroundKey = persistedTheme?.backgroundKey || '';\n    const sceneBackground =\n        initialState?.sceneBackground ||\n        backgroundOptions.find((x) => x.color === sceneBackgroundKey) ||\n        backgroundOptions[0];\n\n    const styleOptions =\n        initialState?.objectStyleOptions || buildDefaultStyleChoices(t);\n    const objectStyle =\n        initialState?.objectStyle ||\n        persistedTheme?.objectStyle ||\n        ViewerObjectStyle.Default;\n\n    const objectColorOptions =\n        initialState?.objectColorOptions || ViewerModeObjectColors;\n    const objectColorKey =\n        persistedTheme?.objectColorKey ||\n        objectColorOptions?.[DEFAULT_OBJECT_COLOR_INDEX]?.color ||\n        '';\n    const objectColor =\n        initialState?.objectColor || objectStyle === ViewerObjectStyle.Default // use default mode for default style so we get model's built in styles\n            ? DefaultViewerModeObjectColor\n            : objectColorOptions?.find((x) => x.color === objectColorKey) ||\n              DefaultViewerModeObjectColor;\n    const defaultState: ISceneThemeContextState = {\n        sceneBackground: sceneBackground,\n        sceneBackgroundOptions: backgroundOptions,\n        objectColor: objectColor,\n        objectColorOptions: objectColorOptions,\n        objectStyle: objectStyle,\n        objectStyleOptions: styleOptions\n    };\n    logDebugConsole(\n        'info',\n        'Setting initial theme state. {state, stateOverrides}',\n        defaultState,\n        initialState\n    );\n\n    const [sceneThemeState, sceneThemeDispatch] = useReducer(\n        SceneThemeContextReducer,\n        defaultState\n    );\n\n    return (\n        <SceneThemeContextInstance.Provider\n            value={{ sceneThemeState, sceneThemeDispatch }}\n        >\n            {children}\n        </SceneThemeContextInstance.Provider>\n    );\n};\n\nconst buildPersistedTheme = (\n    state: ISceneThemeContextState\n): ISceneViewerThemeCache => {\n    return {\n        backgroundKey: state.sceneBackground.color,\n        objectColorKey: state.objectColor?.color,\n        objectStyle: state.objectStyle\n    };\n};\nconst getPersistedTheme = (): ISceneViewerThemeCache | undefined => {\n    const theme = localStorage.getItem(ViewerThemeStorageKey);\n    if (theme && isThemePersistenceEnabled) {\n        logDebugConsole(\n            'debug',\n            `Reading persisted theme from storage ${ViewerThemeStorageKey}`,\n            JSON.parse(theme)\n        );\n        return JSON.parse(theme);\n    }\n    return undefined;\n};\n\nconst setPersistedTheme = (theme: ISceneViewerThemeCache): void => {\n    if (theme && isThemePersistenceEnabled) {\n        logDebugConsole(\n            'debug',\n            `Persisting theme to storage key ${ViewerThemeStorageKey}`,\n            theme\n        );\n        localStorage.setItem(ViewerThemeStorageKey, JSON.stringify(theme));\n    }\n};\n\nconst buildDefaultStyleChoices = (t: TFunction<string>) => {\n    const options: IObjectStyleOption[] = useMemo(\n        () => [\n            {\n                key: ViewerObjectStyle.Default,\n                imageSrc: DefaultStyle,\n                imageAlt: t('modelViewerModePicker.default'),\n                selectedImageSrc: DefaultStyle,\n                imageSize: { width: 40, height: 40 },\n                text: t('modelViewerModePicker.default')\n            },\n            {\n                key: ViewerObjectStyle.Transparent,\n                imageSrc: TransparentStyle,\n                imageAlt: t('modelViewerModePicker.transparent'),\n                selectedImageSrc: TransparentStyle,\n                imageSize: { width: 40, height: 40 },\n                text: t('modelViewerModePicker.transparent')\n            },\n            {\n                key: ViewerObjectStyle.Wireframe,\n                imageSrc: WireframeStyle,\n                imageAlt: t('modelViewerModePicker.wireframe'),\n                selectedImageSrc: WireframeStyle,\n                imageSize: { width: 40, height: 40 },\n                text: t('modelViewerModePicker.wireframe')\n            }\n        ],\n        [t]\n    );\n\n    return options;\n};\n","import { CustomMeshItem } from '../../Classes/SceneView.types';\nimport {\n    IBehavior,\n    ITwinToObjectMapping\n} from '../../Types/Generated/3DScenesConfiguration-v1.0.0';\nexport interface ISceneViewContext {\n    sceneViewState: ISceneViewContextState;\n    sceneViewDispatch: React.Dispatch<SceneViewContextAction>;\n}\n\nexport interface ISceneViewContextProviderProps {\n    outlinedMeshItems?: CustomMeshItem[];\n}\n\nexport interface ISceneViewContextState {\n    outlinedMeshItems?: CustomMeshItem[];\n    // coloredMeshItems?: CustomMeshItem[];\n}\n\nexport enum SceneViewContextActionType {\n    /** set array of outlined mesh items */\n    SET_SCENE_SELECTED_MESHES = 'SET_SCENE_SELECTED_MESHES',\n    SET_SCENE_OUTLINED_MESHES = 'SET_SCENE_OUTLINED_MESHES',\n    // TODO: Enable this when colored meshes are included in this pattern\n    // SET_SCENE_COLORED_MESHES = 'SET_SCENE_COLORED_MESHES'\n    RESET_SELECTED_MESHES = 'RESET_SELECTED_MESHES',\n    RESET_OUTLINED_MESHES = 'RESET_OUTLINED_MESHES',\n    OUTLINE_BEHAVIOR_MESHES = 'OUTLINE_BEHAVIOR_MESHES',\n    OUTLINE_ELEMENT_MESHES = 'OUTLINE_ELEMENTS_MESHES'\n}\n\nexport type SceneViewContextAction =\n    // Set Scene Meshes\n    | {\n          type:\n              | SceneViewContextActionType.SET_SCENE_OUTLINED_MESHES\n              | SceneViewContextActionType.SET_SCENE_SELECTED_MESHES;\n          // TODO: Add this type when colored meshes are included in this pattern\n          // | SceneViewContextActionType.SET_SCENE_COLORED_MESHES\n          payload: {\n              meshIds: string[];\n              color?: string;\n          };\n      }\n    | {\n          type: SceneViewContextActionType.OUTLINE_ELEMENT_MESHES;\n          payload: {\n              elements: ITwinToObjectMapping[];\n              meshId: string;\n              color?: string;\n          };\n      }\n    | {\n          type: SceneViewContextActionType.OUTLINE_BEHAVIOR_MESHES;\n          payload: {\n              behavior: IBehavior;\n              elements: ITwinToObjectMapping[];\n              color?: string;\n          };\n      }\n    | {\n          type: SceneViewContextActionType.RESET_SELECTED_MESHES;\n      }\n    | {\n          type: SceneViewContextActionType.RESET_OUTLINED_MESHES;\n          payload?: {\n              outlinedMeshItems: CustomMeshItem[];\n          };\n      };\n","/**\n * This context is for managing values that can control how a scene looks\n */\n\nimport produce from 'immer';\nimport React, { useReducer } from 'react';\nimport { useContext } from 'react';\nimport { createCustomMeshItems } from '../../../Components/3DV/SceneView.Utils';\nimport { CustomMeshItem } from '../../Classes/SceneView.types';\nimport ViewerConfigUtility from '../../Classes/ViewerConfigUtility';\nimport { deepCopy, getDebugLogger } from '../../Services/Utils';\nimport { ITwinToObjectMapping } from '../../Types/Generated/3DScenesConfiguration-v1.0.0';\nimport {\n    ISceneViewContext,\n    ISceneViewContextProviderProps,\n    ISceneViewContextState,\n    SceneViewContextAction,\n    SceneViewContextActionType\n} from './SceneViewContext.types';\n\nconst debugLogging = false;\nconst logDebugConsole = getDebugLogger('SceneViewContext', debugLogging);\n\nexport const SceneViewContext = React.createContext<ISceneViewContext>(null);\nexport const useSceneViewContext = () => useContext(SceneViewContext);\n\nexport const SceneViewContextReducer: (\n    draft: ISceneViewContextState,\n    action: SceneViewContextAction\n) => ISceneViewContextState = produce(\n    (draft: ISceneViewContextState, action: SceneViewContextAction) => {\n        logDebugConsole(\n            'info',\n            `Updating Sceneview context ${action.type} with payload: `,\n            (action as any).payload // ignore that payload doesn't always come since this is just a log\n        );\n        switch (action.type) {\n            case SceneViewContextActionType.SET_SCENE_OUTLINED_MESHES: {\n                const customMeshItems = createCustomMeshItems(\n                    action.payload.meshIds,\n                    action.payload.color\n                );\n                draft.outlinedMeshItems = customMeshItems;\n                break;\n            }\n            case SceneViewContextActionType.RESET_SELECTED_MESHES: {\n                draft.outlinedMeshItems = [];\n                break;\n            }\n            case SceneViewContextActionType.RESET_OUTLINED_MESHES: {\n                draft.outlinedMeshItems = action.payload\n                    ? action.payload.outlinedMeshItems\n                    : [];\n                break;\n            }\n            case SceneViewContextActionType.OUTLINE_BEHAVIOR_MESHES: {\n                const behavior = action.payload.behavior;\n                // get elements that are contained in the hovered behavior\n                let meshIds: Set<string> = new Set();\n                const selectedElements: ITwinToObjectMapping[] = [];\n                behavior.datasources\n                    .filter(\n                        ViewerConfigUtility.isElementTwinToObjectMappingDataSource\n                    )\n                    .forEach((ds) => {\n                        ds.elementIDs.forEach((elementId) => {\n                            const element = action.payload.elements.find(\n                                (el) => el.id === elementId\n                            );\n                            element && selectedElements.push(element);\n                        });\n                    });\n\n                for (const element of selectedElements) {\n                    for (const id of element.objectIDs) {\n                        meshIds = meshIds.add(id);\n                    }\n                }\n\n                const customMeshItems = createCustomMeshItems(\n                    Array.from(meshIds),\n                    action.payload.color\n                );\n                draft.outlinedMeshItems = customMeshItems;\n                break;\n            }\n            case SceneViewContextActionType.OUTLINE_ELEMENT_MESHES: {\n                const meshIds: Set<string> = new Set();\n                for (const element of action.payload.elements) {\n                    // find elements that contain this mesh\n                    if (element.objectIDs.includes(action.payload.meshId)) {\n                        for (const id of element.objectIDs) {\n                            // add meshes that make up element to highlight\n                            meshIds.add(id);\n                        }\n                    }\n                }\n\n                const customMeshItems = createCustomMeshItems(\n                    Array.from(meshIds),\n                    action.payload.color\n                );\n                draft.outlinedMeshItems = customMeshItems;\n                break;\n            }\n            // TODO: Enable this when colored meshes are included in this pattern\n            // case SceneViewContextActionType.SET_SCENE_COLORED_MESHES: {\n            //     const customMeshItems = createCustomMeshItems(\n            //         action.payload.meshIds,\n            //         action.payload.color\n            //     );\n            //     break;\n            // }\n            // case SceneViewContextActionType.SET_SCENE_SELECTED_MESHES: {\n            //     const customMeshItems = createCustomMeshItems(\n            //         action.payload.meshIds,\n            //         action.payload.color\n            //     );\n            //     draft.outlinedMeshItems = customMeshItems;\n            //     draft.coloredMeshItems = customMeshItems;\n            //     break;\n            // }\n        }\n    }\n);\n\nlet initialOutlinedMeshItems: CustomMeshItem[];\nexport const SceneViewContextProvider: React.FC<ISceneViewContextProviderProps> = (\n    props\n) => {\n    const { children } = props;\n\n    // skip wrapping if the context already exists\n    const existingContext = useSceneViewContext();\n    if (existingContext) {\n        return <>{children}</>;\n    }\n\n    const { outlinedMeshItems } = props;\n    initialOutlinedMeshItems = outlinedMeshItems\n        ? deepCopy(outlinedMeshItems)\n        : [];\n\n    const defaultState: ISceneViewContextState = {\n        outlinedMeshItems: initialOutlinedMeshItems\n    };\n\n    const [sceneViewState, sceneViewDispatch] = useReducer(\n        SceneViewContextReducer,\n        defaultState\n    );\n\n    return (\n        <SceneViewContext.Provider\n            value={{\n                sceneViewDispatch,\n                sceneViewState\n            }}\n        >\n            {children}\n        </SceneViewContext.Provider>\n    );\n};\n","import { Theme } from '@fluentui/react';\n\nexport const Selected = (theme: Theme) =>\n    btoa(`<svg width=\"25\" height=\"17\" viewBox=\"0 0 25 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g filter=\"url(#filter0_dd_44735_156165)\">\n    <rect width=\"9\" height=\"1.99923\" rx=\"0.999613\" transform=\"matrix(1 1.78012e-08 -1.71735e-06 1 8 4)\" fill=\"url(#paint0_radial_44735_156165)\"/>\n    </g>\n    <defs>\n    <filter id=\"filter0_dd_44735_156165\" x=\"0.8\" y=\"2.38419e-07\" width=\"23.4\" height=\"16.4\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\n    <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\n    <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\n    <feOffset dy=\"3.2\"/>\n    <feGaussianBlur stdDeviation=\"3.6\"/>\n    <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.13 0\"/>\n    <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_44735_156165\"/>\n    <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\n    <feOffset dy=\"0.6\"/>\n    <feGaussianBlur stdDeviation=\"0.9\"/>\n    <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\"/>\n    <feBlend mode=\"normal\" in2=\"effect1_dropShadow_44735_156165\" result=\"effect2_dropShadow_44735_156165\"/>\n    <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow_44735_156165\" result=\"shape\"/>\n    </filter>\n    <radialGradient id=\"paint0_radial_44735_156165\" cx=\"0\" cy=\"0\" r=\"1\" gradientUnits=\"userSpaceOnUse\" gradientTransform=\"translate(0.195652) rotate(12.7934) scale(9.02848 3.15585)\">\n    <stop stop-color=\"${theme.semanticColors.link}\"/>\n    <stop offset=\"1\" stop-color=\"${theme.semanticColors.link}\"/>\n    </radialGradient>\n    </defs>\n    </svg>`);\nexport const LeftMouseClick = (theme: Theme) =>\n    btoa(`<svg width=\"18\" height=\"24\" viewBox=\"0 0 18 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M13.0576 0.870117C13.6143 0.870117 14.1416 0.977539 14.6396 1.19238C15.1377 1.40723 15.5674 1.7002 15.9287 2.07129C16.2998 2.43262 16.5928 2.8623 16.8076 3.36035C17.0225 3.8584 17.1299 4.38574 17.1299 4.94238V15.8701C17.1299 16.9932 16.915 18.0479 16.4854 19.0342C16.0654 20.0205 15.4844 20.8848 14.7422 21.627C14.0098 22.3594 13.1504 22.9404 12.1641 23.3701C11.1777 23.79 10.123 24 9 24C7.87695 24 6.82227 23.79 5.83594 23.3701C4.84961 22.9404 3.98535 22.3594 3.24316 21.627C2.51074 20.8848 1.92969 20.0205 1.5 19.0342C1.08008 18.0479 0.870117 16.9932 0.870117 15.8701V4.94238C0.870117 4.38574 0.977539 3.8584 1.19238 3.36035C1.40723 2.8623 1.69531 2.43262 2.05664 2.07129C2.42773 1.7002 2.8623 1.40723 3.36035 1.19238C3.8584 0.977539 4.38574 0.870117 4.94238 0.870117H13.0576ZM15.8701 15.8701V4.94238C15.8701 4.55176 15.7969 4.18555 15.6504 3.84375C15.5039 3.50195 15.3037 3.2041 15.0498 2.9502C14.7959 2.69629 14.498 2.49609 14.1562 2.34961C13.8145 2.20312 13.4482 2.12988 13.0576 2.12988H9V7.75488C9 8.10645 8.93164 8.43359 8.79492 8.73633C8.66797 9.03906 8.4873 9.30273 8.25293 9.52734C8.02832 9.75195 7.76465 9.92773 7.46191 10.0547C7.15918 10.1816 6.83691 10.2451 6.49512 10.2451H2.12988V15.8701C2.12988 16.8174 2.31055 17.7109 2.67188 18.5508C3.0332 19.3809 3.52148 20.1084 4.13672 20.7334C4.76172 21.3584 5.48926 21.8516 6.31934 22.2129C7.15918 22.5742 8.05273 22.7549 9 22.7549C9.94727 22.7549 10.8359 22.5742 11.666 22.2129C12.5059 21.8516 13.2334 21.3584 13.8486 20.7334C14.4736 20.1084 14.9668 19.3809 15.3281 18.5508C15.6895 17.7109 15.8701 16.8174 15.8701 15.8701Z\" fill=\"${theme.semanticColors.bodyText}\"/>\n    </svg>`);\nexport const LeftMouseMove = (theme: Theme) =>\n    btoa(`<svg width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M26.6895 7.67578L29.6338 10.6201L26.6895 13.5645L25.8105 12.6855L27.2461 11.25H23.7451V10.0049H27.2461L25.8105 8.56934L26.6895 7.67578ZM14.3701 2.75391L12.9492 4.18945L12.0557 3.31055L15 0.366211L17.9443 3.31055L17.0508 4.18945L15.6299 2.75391V6.25488H14.3701V2.75391ZM4.18945 8.56934L2.75391 10.0049H6.25488V11.25H2.75391L4.18945 12.6855L3.31055 13.5645L0.366211 10.6201L3.31055 7.67578L4.18945 8.56934ZM19.0576 6.87012C19.6143 6.87012 20.1416 6.97754 20.6396 7.19238C21.1377 7.40723 21.5674 7.7002 21.9287 8.07129C22.2998 8.43262 22.5928 8.8623 22.8076 9.36035C23.0225 9.8584 23.1299 10.3857 23.1299 10.9424V21.8701C23.1299 22.9932 22.915 24.0479 22.4854 25.0342C22.0654 26.0205 21.4844 26.8848 20.7422 27.627C20.0098 28.3594 19.1504 28.9404 18.1641 29.3701C17.1777 29.79 16.123 30 15 30C13.877 30 12.8223 29.79 11.8359 29.3701C10.8496 28.9404 9.98535 28.3594 9.24316 27.627C8.51074 26.8848 7.92969 26.0205 7.5 25.0342C7.08008 24.0479 6.87012 22.9932 6.87012 21.8701V10.9424C6.87012 10.3857 6.97754 9.8584 7.19238 9.36035C7.40723 8.8623 7.69531 8.43262 8.05664 8.07129C8.42773 7.7002 8.8623 7.40723 9.36035 7.19238C9.8584 6.97754 10.3857 6.87012 10.9424 6.87012H19.0576ZM21.8701 21.8701V10.9424C21.8701 10.5518 21.7969 10.1855 21.6504 9.84375C21.5039 9.50195 21.3037 9.2041 21.0498 8.9502C20.7959 8.69629 20.498 8.49609 20.1562 8.34961C19.8145 8.20312 19.4482 8.12988 19.0576 8.12988H15V13.7549C15 14.1064 14.9316 14.4336 14.7949 14.7363C14.668 15.0391 14.4873 15.3027 14.2529 15.5273C14.0283 15.752 13.7646 15.9277 13.4619 16.0547C13.1592 16.1816 12.8369 16.2451 12.4951 16.2451H8.12988V21.8701C8.12988 22.8174 8.31055 23.7109 8.67188 24.5508C9.0332 25.3809 9.52148 26.1084 10.1367 26.7334C10.7617 27.3584 11.4893 27.8516 12.3193 28.2129C13.1592 28.5742 14.0527 28.7549 15 28.7549C15.9473 28.7549 16.8359 28.5742 17.666 28.2129C18.5059 27.8516 19.2334 27.3584 19.8486 26.7334C20.4736 26.1084 20.9668 25.3809 21.3281 24.5508C21.6895 23.7109 21.8701 22.8174 21.8701 21.8701Z\" fill=\"${theme.semanticColors.bodyText}\"/>\n    </svg>`);\nexport const RightMouseMove = (theme: Theme) =>\n    btoa(`<svg width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M4.18945 8.56934L2.75391 10.0049H6.25488V11.25H2.75391L4.18945 12.6855L3.31055 13.5645L0.366211 10.6201L3.31055 7.67578L4.18945 8.56934ZM14.3701 2.75391L12.9492 4.18945L12.0557 3.31055L15 0.366211L17.9443 3.31055L17.0508 4.18945L15.6299 2.75391V6.25488H14.3701V2.75391ZM26.6895 7.67578L29.6338 10.6201L26.6895 13.5645L25.8105 12.6855L27.2461 11.25H23.7451V10.0049H27.2461L25.8105 8.56934L26.6895 7.67578ZM19.0576 6.87012C19.6143 6.87012 20.1416 6.97754 20.6396 7.19238C21.1377 7.40723 21.5674 7.7002 21.9287 8.07129C22.2998 8.43262 22.5928 8.8623 22.8076 9.36035C23.0225 9.8584 23.1299 10.3857 23.1299 10.9424V21.8701C23.1299 22.9932 22.915 24.0479 22.4854 25.0342C22.0654 26.0205 21.4844 26.8848 20.7422 27.627C20.0098 28.3594 19.1504 28.9404 18.1641 29.3701C17.1777 29.79 16.123 30 15 30C13.877 30 12.8223 29.79 11.8359 29.3701C10.8496 28.9404 9.98535 28.3594 9.24316 27.627C8.51074 26.8848 7.92969 26.0205 7.5 25.0342C7.08008 24.0479 6.87012 22.9932 6.87012 21.8701V10.9424C6.87012 10.3857 6.97754 9.8584 7.19238 9.36035C7.40723 8.8623 7.69531 8.43262 8.05664 8.07129C8.42773 7.7002 8.8623 7.40723 9.36035 7.19238C9.8584 6.97754 10.3857 6.87012 10.9424 6.87012H19.0576ZM15 28.7549C15.9473 28.7549 16.8359 28.5742 17.666 28.2129C18.5059 27.8516 19.2334 27.3584 19.8486 26.7334C20.4736 26.1084 20.9668 25.3809 21.3281 24.5508C21.6895 23.7109 21.8701 22.8174 21.8701 21.8701V16.2451H17.5049C17.1631 16.2451 16.8359 16.1816 16.5234 16.0547C16.2207 15.9277 15.957 15.752 15.7324 15.5273C15.5078 15.3027 15.3271 15.0391 15.1904 14.7363C15.0635 14.4336 15 14.1064 15 13.7549V8.12988H10.9424C10.5518 8.12988 10.1855 8.20312 9.84375 8.34961C9.50195 8.49609 9.2041 8.69629 8.9502 8.9502C8.69629 9.2041 8.49609 9.50195 8.34961 9.84375C8.20312 10.1855 8.12988 10.5518 8.12988 10.9424V21.8701C8.12988 22.8174 8.31055 23.7109 8.67188 24.5508C9.0332 25.3809 9.52148 26.1084 10.1367 26.7334C10.7617 27.3584 11.4893 27.8516 12.3193 28.2129C13.1592 28.5742 14.0527 28.7549 15 28.7549Z\" fill=\"${theme.semanticColors.bodyText}\"/>\n    </svg>`);\nexport const MiddleMouse = (theme: Theme) =>\n    btoa(`<svg width=\"18\" height=\"24\" viewBox=\"0 0 18 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M13.0576 0.870117C13.6143 0.870117 14.1416 0.977539 14.6396 1.19238C15.1377 1.40723 15.5674 1.7002 15.9287 2.07129C16.2998 2.43262 16.5928 2.8623 16.8076 3.36035C17.0225 3.8584 17.1299 4.38574 17.1299 4.94238V15.8701C17.1299 16.9932 16.915 18.0479 16.4854 19.0342C16.0654 20.0205 15.4844 20.8848 14.7422 21.627C14.0098 22.3594 13.1504 22.9404 12.1641 23.3701C11.1777 23.79 10.123 24 9 24C7.87695 24 6.82227 23.79 5.83594 23.3701C4.84961 22.9404 3.98535 22.3594 3.24316 21.627C2.51074 20.8848 1.92969 20.0205 1.5 19.0342C1.08008 18.0479 0.870117 16.9932 0.870117 15.8701V4.94238C0.870117 4.38574 0.977539 3.8584 1.19238 3.36035C1.40723 2.8623 1.69531 2.43262 2.05664 2.07129C2.42773 1.7002 2.8623 1.40723 3.36035 1.19238C3.8584 0.977539 4.38574 0.870117 4.94238 0.870117H13.0576ZM15.8701 15.8701V4.94238C15.8701 4.55176 15.7969 4.18555 15.6504 3.84375C15.5039 3.50195 15.3037 3.2041 15.0498 2.9502C14.7959 2.69629 14.498 2.49609 14.1562 2.34961C13.8145 2.20312 13.4482 2.12988 13.0576 2.12988H10.2451V9C10.2451 9.3418 10.123 9.63477 9.87891 9.87891C9.63477 10.123 9.3418 10.2451 9 10.2451C8.6582 10.2451 8.36523 10.123 8.12109 9.87891C7.87695 9.63477 7.75488 9.3418 7.75488 9V2.12988H4.94238C4.55176 2.12988 4.18555 2.20312 3.84375 2.34961C3.50195 2.49609 3.2041 2.69629 2.9502 2.9502C2.69629 3.2041 2.49609 3.50195 2.34961 3.84375C2.20312 4.18555 2.12988 4.55176 2.12988 4.94238V15.8701C2.12988 16.8174 2.31055 17.7109 2.67188 18.5508C3.0332 19.3809 3.52148 20.1084 4.13672 20.7334C4.76172 21.3584 5.48926 21.8516 6.31934 22.2129C7.15918 22.5742 8.05273 22.7549 9 22.7549C9.94727 22.7549 10.8359 22.5742 11.666 22.2129C12.5059 21.8516 13.2334 21.3584 13.8486 20.7334C14.4736 20.1084 14.9668 19.3809 15.3281 18.5508C15.6895 17.7109 15.8701 16.8174 15.8701 15.8701Z\" fill=\"${theme.semanticColors.bodyText}\"/>\n    </svg>\n    `);\n","import { FontSizes, IButtonStyles, ITheme } from '@fluentui/react';\nimport { HEADER_BUTTON_HEIGHT } from '../../Models/Constants/StyleConstants';\nimport {\n    IHeaderControlButtonStyleProps,\n    IHeaderControlButtonStyles\n} from './HeaderControlButton.types';\n\nexport function GET_HEADER_BUTTON_STYLES(\n    theme: ITheme,\n    isActive: boolean\n): IButtonStyles {\n    const color = `${theme.semanticColors.bodyText} !important`;\n    return {\n        root: {\n            color: color,\n            backgroundColor: isActive\n                ? theme.semanticColors.buttonBackgroundPressed\n                : theme.semanticColors.buttonBackground,\n            borderRadius: 4,\n            // remove the border for the groups\n            height: HEADER_BUTTON_HEIGHT - 2,\n            width: HEADER_BUTTON_HEIGHT - 2,\n            ':hover': {\n                border: `1px solid ${theme.palette.neutralSecondary}`\n            }\n        },\n        rootChecked: {\n            color: color\n        },\n        rootHovered: {\n            color: color\n        },\n        rootCheckedPressed: {\n            color: color\n        },\n        rootFocused: {\n            color: color\n        }\n    };\n}\n\nconst classPrefix = 'header-control-button';\nconst classNames = {\n    root: `${classPrefix}-root`,\n    button: `${classPrefix}-button`\n};\nexport const getStyles = (\n    props: IHeaderControlButtonStyleProps\n): IHeaderControlButtonStyles => {\n    const { isActive, theme } = props;\n    return {\n        root: [classNames.root],\n        subComponentStyles: {\n            button: {\n                ...GET_HEADER_BUTTON_STYLES(theme, isActive),\n                icon: {\n                    fontSize: FontSizes.size16\n                }\n            }\n        }\n    };\n};\n","import React from 'react';\nimport {\n    IHeaderControlButtonProps,\n    IHeaderControlButtonStyleProps,\n    IHeaderControlButtonStyles\n} from './HeaderControlButton.types';\nimport {\n    classNamesFunction,\n    css,\n    IconButton,\n    Image,\n    styled,\n    useTheme\n} from '@fluentui/react';\nimport { getStyles } from './HeaderControlButton.styles';\n\nconst getClassNames = classNamesFunction<\n    IHeaderControlButtonStyleProps,\n    IHeaderControlButtonStyles\n>();\n\n/**\n * Control for an action at the top of the screen on the 3D Viewer. Can accept children (most likely images) or can be styled with text/icon as appropriate.\n * Should be wrapped in a `HeaderControlGroup` if you want a border.\n */\nconst HeaderControlButton: React.FC<IHeaderControlButtonProps> = (props) => {\n    const {\n        buttonProps,\n        children,\n        dataTestId,\n        className,\n        iconProps,\n        id,\n        imageProps,\n        isActive,\n        onClick,\n        onMouseEnter,\n        onMouseLeave,\n        styles,\n        title\n    } = props;\n\n    /** ----- hooks ----- */\n    const theme = useTheme();\n    const classNames = getClassNames(styles, { theme, isActive });\n\n    return (\n        <IconButton\n            {...buttonProps}\n            className={css(classNames.root, className)}\n            checked={isActive}\n            data-testid={dataTestId}\n            iconProps={iconProps}\n            id={id}\n            onClick={onClick}\n            onMouseEnter={onMouseEnter}\n            onMouseLeave={onMouseLeave}\n            styles={classNames.subComponentStyles.button()}\n            title={title}\n        >\n            {imageProps && <Image {...imageProps} />}\n            {children}\n        </IconButton>\n    );\n};\n\nexport default styled<\n    IHeaderControlButtonProps,\n    IHeaderControlButtonStyleProps,\n    IHeaderControlButtonStyles\n>(HeaderControlButton, getStyles);\n","import {\n    IHeaderControlGroupStyleProps,\n    IHeaderControlGroupStyles\n} from './HeaderControlGroup.types';\n\nexport const classPrefix = 'cb-HeaderControlGroup';\nconst classNames = {\n    root: `${classPrefix}-root`\n};\nexport const getStyles = (\n    props: IHeaderControlGroupStyleProps\n): IHeaderControlGroupStyles => {\n    const { theme } = props;\n    return {\n        root: [\n            classNames.root,\n            {\n                backgroundColor: theme.semanticColors.buttonBackground,\n                border: `1px solid ${theme.palette.neutralLight}`,\n                borderRadius: theme.effects.roundedCorner4\n            }\n        ],\n        subComponentStyles: {\n            stack: {\n                root: {\n                    width: 'fit-content'\n                }\n            }\n        }\n    };\n};\n","import React from 'react';\nimport {\n    IHeaderControlGroupProps,\n    IHeaderControlGroupStyleProps,\n    IHeaderControlGroupStyles\n} from './HeaderControlGroup.types';\nimport { getStyles } from './HeaderControlGroup.styles';\nimport { classNamesFunction, useTheme, styled, Stack } from '@fluentui/react';\n\nconst getClassNames = classNamesFunction<\n    IHeaderControlGroupStyleProps,\n    IHeaderControlGroupStyles\n>();\n\n/**\n * Component that wraps a collection of `HeaderControlButtons` to group them together and style them accordingly\n */\nconst HeaderControlGroup: React.FC<IHeaderControlGroupProps> = (props) => {\n    const { children, id, styles } = props;\n    const classNames = getClassNames(styles, {\n        theme: useTheme()\n    });\n\n    return (\n        <Stack\n            id={id}\n            horizontal\n            className={classNames.root}\n            styles={classNames.subComponentStyles.stack}\n        >\n            {children}\n        </Stack>\n    );\n};\n\nexport default styled<\n    IHeaderControlGroupProps,\n    IHeaderControlGroupStyleProps,\n    IHeaderControlGroupStyles\n>(HeaderControlGroup, getStyles);\n","import {\n    ICameraControlsCalloutContentStyleProps,\n    ICameraControlsCalloutContentStyles\n} from './CameraControlsCalloutContent.types';\n\nexport const classPrefix = 'cb-cameracontrolscalloutcontent';\nconst classNames = {\n    root: `${classPrefix}-root`\n};\nexport const getStyles = (\n    props: ICameraControlsCalloutContentStyleProps\n): ICameraControlsCalloutContentStyles => {\n    const { theme } = props;\n    return {\n        root: [\n            classNames.root,\n            {\n                width: 200,\n                borderRadius: 2,\n                background: theme.semanticColors.buttonBackground,\n                padding: '16px 16px',\n                border: `1px solid ${theme.palette.neutralLight}`\n            }\n        ],\n        buttonIcon: {\n            fill: theme.semanticColors.bodyText\n        },\n        modes: {\n            display: 'flex',\n            fontSize: 12,\n            marginTop: 16\n        },\n        mode: {\n            flex: 1,\n            textAlign: 'center'\n        },\n        modeIcon: {\n            marginTop: 12,\n            marginBottom: 4\n        },\n        subComponentStyles: {}\n    };\n};\n","import { IProcessedStyleSet, useTheme } from '@fluentui/react';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n    LeftMouseClick,\n    LeftMouseMove,\n    RightMouseMove,\n    MiddleMouse\n} from '../../CameraControlAssets';\nimport { ICameraControlsCalloutContentStyles } from '../CameraControlsCalloutContent.types';\n\ninterface IMoveContentProps {\n    styles: IProcessedStyleSet<ICameraControlsCalloutContentStyles>;\n}\nconst MoveContent: React.FC<IMoveContentProps> = (props) => {\n    const { styles } = props;\n    const theme = useTheme();\n    const { t } = useTranslation();\n    return (\n        <div className={styles.root}>\n            <div>{t('cameraControls.mouseControls')}</div>\n            <div className={styles.modes}>\n                <div className={styles.mode}>\n                    <div>{t('cameraControls.select')}</div>\n                    <div>\n                        <img\n                            src={`data:image/svg+xml;base64,${LeftMouseClick(\n                                theme\n                            )}`}\n                            style={{ height: 28, width: 28 }}\n                            className={styles.modeIcon}\n                        />\n                    </div>\n                </div>\n                <div className={styles.mode}>\n                    <div>{t('cameraControls.pan')}</div>\n                    <div>\n                        <img\n                            src={`data:image/svg+xml;base64,${LeftMouseMove(\n                                theme\n                            )}`}\n                            style={{ height: 28, width: 28 }}\n                            className={styles.modeIcon}\n                        />\n                    </div>\n                </div>\n                <div className={styles.mode}>\n                    <div>{t('cameraControls.orbit')}</div>\n                    <div>\n                        <img\n                            src={`data:image/svg+xml;base64,${RightMouseMove(\n                                theme\n                            )}`}\n                            style={{ height: 28, width: 28 }}\n                            className={styles.modeIcon}\n                        />\n                    </div>\n                </div>\n                <div className={styles.mode}>\n                    <div>{t('cameraControls.zoom')}</div>\n                    <div>\n                        <img\n                            src={`data:image/svg+xml;base64,${MiddleMouse(\n                                theme\n                            )}`}\n                            style={{ height: 28, width: 28 }}\n                            className={styles.modeIcon}\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default MoveContent;\n","import { IProcessedStyleSet, useTheme } from '@fluentui/react';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n    LeftMouseClick,\n    LeftMouseMove,\n    RightMouseMove,\n    MiddleMouse\n} from '../../CameraControlAssets';\nimport { ICameraControlsCalloutContentStyles } from '../CameraControlsCalloutContent.types';\n\ninterface IOrbitContentProps {\n    styles: IProcessedStyleSet<ICameraControlsCalloutContentStyles>;\n}\nconst OrbitContent: React.FC<IOrbitContentProps> = (props) => {\n    const { styles } = props;\n    const theme = useTheme();\n    const { t } = useTranslation();\n    return (\n        <div className={styles.root}>\n            <div>{t('cameraControls.mouseControls')}</div>\n            <div className={styles.modes}>\n                <div className={styles.mode}>\n                    <div>{t('cameraControls.select')}</div>\n                    <div>\n                        <img\n                            src={`data:image/svg+xml;base64,${LeftMouseClick(\n                                theme\n                            )}`}\n                            style={{ height: 28, width: 28 }}\n                            className={styles.modeIcon}\n                        />\n                    </div>\n                </div>\n                <div className={styles.mode}>\n                    <div>{t('cameraControls.orbit')}</div>\n                    <div>\n                        <img\n                            src={`data:image/svg+xml;base64,${LeftMouseMove(\n                                theme\n                            )}`}\n                            style={{ height: 28, width: 28 }}\n                            className={styles.modeIcon}\n                        />\n                    </div>\n                </div>\n                <div className={styles.mode}>\n                    <div>{t('cameraControls.pan')}</div>\n                    <div>\n                        <img\n                            src={`data:image/svg+xml;base64,${RightMouseMove(\n                                theme\n                            )}`}\n                            style={{ height: 28, width: 28 }}\n                            className={styles.modeIcon}\n                        />\n                    </div>\n                </div>\n                <div className={styles.mode}>\n                    <div>{t('cameraControls.zoom')}</div>\n                    <div>\n                        <img\n                            src={`data:image/svg+xml;base64,${MiddleMouse(\n                                theme\n                            )}`}\n                            style={{ height: 28, width: 28 }}\n                            className={styles.modeIcon}\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default OrbitContent;\n","import React from 'react';\nimport {\n    ICameraControlsCalloutContentProps,\n    ICameraControlsCalloutContentStyleProps,\n    ICameraControlsCalloutContentStyles\n} from './CameraControlsCalloutContent.types';\nimport { getStyles } from './CameraControlsCalloutContent.styles';\nimport { classNamesFunction, useTheme, styled } from '@fluentui/react';\nimport MoveContent from './Internal/MoveContent';\nimport OrbitContent from './Internal/OrbitContent';\n\nconst getClassNames = classNamesFunction<\n    ICameraControlsCalloutContentStyleProps,\n    ICameraControlsCalloutContentStyles\n>();\n\n/**\n * Control for showing the right flyout content on the camera controls\n */\nconst CameraControlsCalloutContent: React.FC<ICameraControlsCalloutContentProps> = (\n    props\n) => {\n    const { type, styles } = props;\n    const classNames = getClassNames(styles, {\n        theme: useTheme()\n    });\n\n    switch (type) {\n        case 'Move':\n            return <MoveContent styles={classNames} />;\n        case 'Orbit':\n            return <OrbitContent styles={classNames} />;\n        default:\n            return null;\n    }\n};\n\nexport default styled<\n    ICameraControlsCalloutContentProps,\n    ICameraControlsCalloutContentStyleProps,\n    ICameraControlsCalloutContentStyles\n>(CameraControlsCalloutContent, getStyles);\n","import {\n    Callout,\n    DirectionalHint,\n    FocusZone,\n    memoizeFunction,\n    mergeStyleSets,\n    Stack,\n    Theme,\n    useTheme\n} from '@fluentui/react';\nimport React, { useEffect, useState } from 'react';\nimport { CameraInteraction } from '../../../../Models/Constants/Enums';\nimport { useTranslation } from 'react-i18next';\nimport { Selected } from './Internal/CameraControlAssets';\nimport HeaderControlButton from '../../../HeaderControlButton/HeaderControlButton';\nimport HeaderControlGroup from '../../../HeaderControlGroup/HeaderControlGroup';\nimport CameraControlsCalloutContent from './Internal/CameraControlsCalloutContent/CameraControlsCalloutContent';\n\nexport interface CameraControlProps {\n    cameraInteraction?: CameraInteraction;\n    onCameraInteractionChanged?: (CameraInteraction) => void;\n    onCameraZoom?: (boolean) => void;\n    onResetCamera?: () => void;\n}\n\nexport const CameraControls: React.FC<CameraControlProps> = ({\n    cameraInteraction,\n    onCameraInteractionChanged,\n    onCameraZoom,\n    onResetCamera\n}) => {\n    const [cameraInteractionType, setCameraInteractionType] = useState(null);\n    const [showPanCallout, setShowPanCallout] = useState(false);\n    const [showOrbitCallout, setShowOrbitCallout] = useState(false);\n    const theme = useTheme();\n    const styles = getStyles(theme);\n    const calloutAnchorPan = 'cd-camera-controls-calloutAnchor-pan';\n    const calloutAnchorOrbit = 'cd-camera-controls-calloutAnchor-orbit';\n\n    useEffect(() => {\n        if (cameraInteractionType) {\n            onCameraInteractionChanged(cameraInteractionType);\n        }\n    }, [cameraInteractionType, onCameraInteractionChanged]);\n\n    useEffect(() => {\n        if (cameraInteraction) {\n            setCameraInteractionType(cameraInteraction);\n        }\n    }, [cameraInteraction]);\n\n    const updateCameraInteraction = (type: CameraInteraction) => {\n        setCameraInteractionType(type);\n    };\n\n    const { t } = useTranslation();\n\n    return (\n        <div className={styles.root}>\n            <FocusZone style={{ zIndex: 999 }}>\n                <Stack horizontal tokens={{ childrenGap: 8 }}>\n                    <HeaderControlGroup>\n                        <HeaderControlButton\n                            iconProps={{ iconName: 'Rotate90Clockwise' }}\n                            id={calloutAnchorOrbit}\n                            isActive={\n                                cameraInteractionType ===\n                                CameraInteraction.Rotate\n                            }\n                            onClick={() =>\n                                updateCameraInteraction(\n                                    CameraInteraction.Rotate\n                                )\n                            }\n                            onMouseEnter={() => setShowOrbitCallout(true)}\n                            onMouseLeave={() => setShowOrbitCallout(false)}\n                        >\n                            {cameraInteractionType ===\n                                CameraInteraction.Rotate && (\n                                <img\n                                    src={`data:image/svg+xml;base64,${Selected(\n                                        theme\n                                    )}`}\n                                    style={{ width: 24 }}\n                                    className={styles.selectedIndicator}\n                                />\n                            )}\n                        </HeaderControlButton>\n                        <HeaderControlButton\n                            iconProps={{ iconName: 'Move' }}\n                            id={calloutAnchorPan}\n                            isActive={\n                                cameraInteractionType === CameraInteraction.Pan\n                            }\n                            onClick={() =>\n                                updateCameraInteraction(CameraInteraction.Pan)\n                            }\n                            onMouseEnter={() => setShowPanCallout(true)}\n                            onMouseLeave={() => setShowPanCallout(false)}\n                        >\n                            {cameraInteractionType ===\n                                CameraInteraction.Pan && (\n                                <img\n                                    src={`data:image/svg+xml;base64,${Selected(\n                                        theme\n                                    )}`}\n                                    style={{ width: 24 }}\n                                    className={styles.selectedIndicator}\n                                />\n                            )}\n                        </HeaderControlButton>\n                    </HeaderControlGroup>\n                    <HeaderControlGroup>\n                        <HeaderControlButton\n                            isActive={false}\n                            iconProps={{ iconName: 'Add' }}\n                            onClick={() => onCameraZoom(true)}\n                            title={t('cameraControls.zoomIn')}\n                        />\n                        <HeaderControlButton\n                            isActive={false}\n                            iconProps={{ iconName: 'Remove' }}\n                            title={t('cameraControls.zoomOut')}\n                            onClick={() => onCameraZoom(false)}\n                        />\n                    </HeaderControlGroup>\n                    <HeaderControlGroup>\n                        <HeaderControlButton\n                            iconProps={{ iconName: 'CubeShape' }}\n                            isActive={false}\n                            onClick={onResetCamera}\n                            title={t('cameraControls.reset')}\n                        />\n                    </HeaderControlGroup>\n                </Stack>\n            </FocusZone>\n            {showPanCallout && (\n                <Callout\n                    target={`#${calloutAnchorPan}`}\n                    directionalHint={DirectionalHint.bottomCenter}\n                >\n                    <CameraControlsCalloutContent type={'Move'} />\n                </Callout>\n            )}\n            {showOrbitCallout && (\n                <Callout\n                    target={`#${calloutAnchorOrbit}`}\n                    directionalHint={DirectionalHint.bottomCenter}\n                >\n                    <CameraControlsCalloutContent type={'Orbit'} />\n                </Callout>\n            )}\n        </div>\n    );\n};\n\nexport const classPrefix = 'cb-camera-controls';\nconst classNames = {\n    root: `${classPrefix}-root`,\n    selected: `${classPrefix}-selected`\n};\nconst getStyles = memoizeFunction((_theme: Theme) => {\n    return mergeStyleSets({\n        root: [\n            classNames.root,\n            {\n                marginLeft: 'auto',\n                marginRight: 'auto',\n                display: 'flex'\n            }\n        ],\n        selectedIndicator: [\n            classNames.selected,\n            {\n                position: 'absolute',\n                top: 28\n            }\n        ]\n    });\n});\n","export enum WrapperMode {\n    Builder = 'Builder',\n    Viewer = 'Viewer'\n}\n","import {\n    BUILDER_CAMERA_CONTROLS_BOTTOM_OFFSET,\n    VIEWER_CAMERA_CONTROLS_BOTTOM_OFFSET\n} from '../../Models/Constants/StyleConstants';\nimport { WrapperMode } from './SceneView.types';\nimport {\n    ISceneViewWrapperStyleProps,\n    ISceneViewWrapperStyles\n} from './SceneViewWrapper.types';\n\nconst classPrefix = 'cb-scene-view-wrapper';\n\nconst classNames = {\n    root: `${classPrefix}-root`,\n    leftHeader: `${classPrefix}-left-header-controls`,\n    button: `${classPrefix}-button`,\n    callout: `${classPrefix}-callout`,\n    calloutCheckbox: `${classPrefix}-callout-checkbox`,\n    calloutTitle: `${classPrefix}-callout-title`,\n    errorMessage: `${classPrefix}-error-message`\n};\n\nexport const getStyles = (\n    props: ISceneViewWrapperStyleProps\n): ISceneViewWrapperStyles => {\n    const { mode } = props;\n    return {\n        /** provide a hook for custom styling by consumers */\n        root: [classNames.root],\n        leftHeaderControlsContainer: [classNames.leftHeader],\n        subComponentStyles: {\n            cameraControlsStack: {\n                root: {\n                    bottom:\n                        mode === WrapperMode.Viewer\n                            ? VIEWER_CAMERA_CONTROLS_BOTTOM_OFFSET\n                            : BUILDER_CAMERA_CONTROLS_BOTTOM_OFFSET,\n                    display: 'flex',\n                    position: 'absolute',\n                    width: '100%',\n                    // hacks for dayz cause Matt said so\n                    '.cb-camera-controls-root .ms-FocusZone': {\n                        marginLeft: mode === WrapperMode.Viewer ? 360 : 'auto'\n                    }\n                }\n            }\n        }\n    };\n};\n","/*\n\nThis class intercepts calls to the SceneViewer and enables AddIns to hook into events\n\n*/\n\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport * as BABYLON from '@babylonjs/core/Legacy/legacy';\nimport { ICameraPosition } from '../../Models/Classes/SceneView.types';\nimport SceneView, { showFpsCounter } from './SceneView';\nimport {\n    ADT3DAddInEventTypes,\n    CameraInteraction\n} from '../../Models/Constants/Enums';\nimport {\n    ADT3DAddInEventData,\n    ISceneViewWrapperProps\n} from '../../Models/Constants/Interfaces';\nimport './SceneView.scss';\nimport { SelectedCameraInteractionKey } from '../../Models/Constants';\nimport { CameraControls } from './Internal/CameraControls/CameraControls';\nimport {\n    classNamesFunction,\n    css,\n    Stack,\n    styled,\n    useTheme\n} from '@fluentui/react';\nimport { getStyles } from './SceneViewWrapper.styles';\nimport {\n    ISceneViewWrapperStyleProps,\n    ISceneViewWrapperStyles\n} from './SceneViewWrapper.types';\nimport { useSceneThemeContext } from '../../Models/Context/SceneThemeContext/SceneThemeContext';\nimport { WrapperMode } from './SceneView.types';\nimport { SceneViewContext } from '../../Models/Context/SceneViewContext/SceneViewContext';\n\nconst getClassNames = classNamesFunction<\n    ISceneViewWrapperStyleProps,\n    ISceneViewWrapperStyles\n>();\n\nconst SceneViewWrapper: React.FC<ISceneViewWrapperProps> = (props) => {\n    const {\n        adapter,\n        addInProps,\n        config,\n        objectColorUpdated,\n        sceneId,\n        sceneViewProps,\n        sceneVisuals,\n        selectedVisual,\n        styles,\n        wrapperMode\n    } = props;\n    const { onMeshHover, onMeshClick, onSceneLoaded, ...svp } = sceneViewProps;\n\n    const data = new ADT3DAddInEventData();\n    data.adapter = adapter;\n    data.config = config;\n    data.sceneId = sceneId;\n    data.sceneVisuals = sceneVisuals;\n\n    const [\n        cameraInteractionType,\n        setCameraInteractionType\n    ] = useState<CameraInteraction>(null);\n\n    const sceneViewComponent = useRef();\n\n    const theme = useTheme();\n    const classNames = getClassNames(styles, { theme, mode: wrapperMode });\n\n    const { sceneThemeState } = useSceneThemeContext();\n    const { sceneViewState } = useContext(SceneViewContext);\n\n    // notify consumer of the change\n    useEffect(() => {\n        if (objectColorUpdated) {\n            objectColorUpdated(sceneThemeState.objectColor);\n        }\n    }, [objectColorUpdated, sceneThemeState.objectColor]);\n\n    useEffect(() => {\n        const cameraInteraction = localStorage.getItem(\n            SelectedCameraInteractionKey\n        );\n        if (cameraInteraction) {\n            setCameraInteractionType(JSON.parse(cameraInteraction));\n        } else {\n            setCameraInteractionType(CameraInteraction.Rotate);\n        }\n    }, []);\n\n    const sceneLoaded = (scene: BABYLON.Scene) => {\n        data.eventType = ADT3DAddInEventTypes.SceneLoaded;\n        data.scene = scene;\n        let noBubble = false;\n        if (addInProps?.onSceneLoaded) {\n            noBubble = addInProps.onSceneLoaded(data);\n        }\n\n        if (!noBubble && onSceneLoaded) {\n            onSceneLoaded(scene);\n        }\n    };\n\n    const meshHover = (\n        mesh: BABYLON.AbstractMesh,\n        scene: BABYLON.Scene,\n        pointerEvent: PointerEvent\n    ) => {\n        data.mesh = mesh;\n        data.scene = scene;\n        data.pointerEvent = pointerEvent;\n        let noBubble = false;\n        if (addInProps?.onMeshHover) {\n            noBubble = addInProps.onMeshHover(data);\n        }\n\n        if (!noBubble && onMeshHover) {\n            onMeshHover(mesh, scene, pointerEvent);\n        }\n    };\n\n    const meshClick = (\n        mesh: BABYLON.AbstractMesh,\n        scene: BABYLON.Scene,\n        pointerEvent: PointerEvent\n    ) => {\n        data.mesh = mesh;\n        data.scene = scene;\n        data.pointerEvent = pointerEvent;\n        let noBubble = false;\n        if (addInProps?.onMeshClick) {\n            noBubble = addInProps.onMeshClick(data);\n        }\n\n        if (!noBubble && onMeshClick) {\n            onMeshClick(mesh, scene, pointerEvent);\n        }\n    };\n\n    const cameraMove = (position: ICameraPosition) => {\n        if (addInProps?.onCameraMove) {\n            addInProps.onCameraMove(position);\n        }\n    };\n\n    const onCameraInteractionChanged = (type) => {\n        setCameraInteractionType(type);\n        localStorage.setItem(\n            SelectedCameraInteractionKey,\n            JSON.stringify(type)\n        );\n    };\n\n    const FPSCounterStyle = {\n        position: 'absolute',\n        display: 'flex',\n        bottom: 0,\n        right: 0\n    } as const;\n\n    const wrapperClassName =\n        wrapperMode === WrapperMode.Builder\n            ? 'cb-sceneview-builder-wrapper'\n            : 'cb-sceneview-viewer-wrapper';\n    return (\n        <div\n            style={\n                sceneThemeState.sceneBackground\n                    ? {\n                          background: sceneThemeState.sceneBackground.color\n                      }\n                    : {}\n            }\n            className={css(wrapperClassName, classNames.root)}\n        >\n            <SceneView\n                ref={sceneViewComponent}\n                backgroundColor={sceneThemeState.sceneBackground}\n                objectColor={sceneThemeState.objectColor}\n                objectColorOptions={sceneThemeState.objectColorOptions}\n                objectStyle={sceneThemeState.objectStyle}\n                onCameraMove={addInProps?.onCameraMove ? cameraMove : undefined}\n                {...svp}\n                outlinedMeshitems={sceneViewState.outlinedMeshItems}\n                cameraInteractionType={cameraInteractionType}\n                onMeshClick={meshClick}\n                onMeshHover={meshHover}\n                onSceneLoaded={sceneLoaded}\n            />\n            {showFpsCounter && (\n                <label id=\"FPS\" style={FPSCounterStyle}>\n                    FPS:\n                </label>\n            )}\n            <Stack\n                horizontal\n                styles={classNames.subComponentStyles.cameraControlsStack}\n            >\n                <CameraControls\n                    cameraInteraction={cameraInteractionType}\n                    onCameraInteractionChanged={onCameraInteractionChanged}\n                    onCameraZoom={(zoom) =>\n                        (sceneViewComponent.current as any)?.zoomCamera(zoom)\n                    }\n                    onResetCamera={() =>\n                        (sceneViewComponent.current as any)?.resetCamera(\n                            selectedVisual?.element?.objectIDs\n                        )\n                    }\n                />\n            </Stack>\n        </div>\n    );\n};\n\nexport default styled<\n    ISceneViewWrapperProps,\n    ISceneViewWrapperStyleProps,\n    ISceneViewWrapperStyles\n>(SceneViewWrapper, getStyles);\n","import {\n    IADT3DBuilderStyleProps,\n    IADT3DBuilderStyles\n} from './ADT3DBuilder.types';\n\nexport const classPrefix = 'cb-adt-3d-viewer';\nconst classNames = {\n    root: `${classPrefix}-root`,\n    wrapper: `${classPrefix}-wrapper`,\n    layersPicker: `${classPrefix}-layers-picker`\n};\nexport const getStyles = (\n    _props: IADT3DBuilderStyleProps\n): IADT3DBuilderStyles => {\n    return {\n        root: [\n            classNames.root,\n            {\n                height: '100%',\n                width: '100%'\n            }\n        ],\n        wrapper: [\n            classNames.wrapper,\n            {\n                height: '100%',\n                position: 'relative',\n                width: '100%'\n            }\n        ],\n        subComponentStyles: {}\n    };\n};\n","import React, { useCallback } from 'react';\nimport { withErrorBoundary } from '../../Models/Context/ErrorBoundary';\nimport BaseComponent from '../BaseComponent/BaseComponent';\nimport { AbstractMesh, Scene } from '@babylonjs/core';\nimport SceneViewWrapper from '../3DV/SceneViewWrapper';\nimport { WrapperMode } from '../3DV/SceneView.types';\nimport { classNamesFunction, styled, useTheme } from '@fluentui/react';\nimport { getDebugLogger } from '../../Models/Services/Utils';\nimport { getStyles } from './ADT3DBuilder.styles';\nimport {\n    IADT3DBuilderProps,\n    IADT3DBuilderStyleProps,\n    IADT3DBuilderStyles\n} from './ADT3DBuilder.types';\n\nconst getClassNames = classNamesFunction<\n    IADT3DBuilderStyleProps,\n    IADT3DBuilderStyles\n>();\n\nconst debugLogging = false;\nconst logDebugConsole = getDebugLogger('ADT3DBuilder', debugLogging);\n\nconst ADT3DBuilder: React.FC<IADT3DBuilderProps> = (props) => {\n    const {\n        adapter,\n        modelUrl,\n        sceneViewProps,\n        onMeshClicked,\n        onMeshHovered,\n        showMeshesOnHover,\n        coloredMeshItems,\n        showHoverOnSelected,\n        gizmoElementItem,\n        gizmoTransformItem,\n        setGizmoTransformItem,\n        objectColorUpdated,\n        styles\n    } = props;\n\n    // styles\n    const fluentTheme = useTheme();\n    const classNames = getClassNames(styles, { theme: fluentTheme });\n\n    // viewer callbacks\n    const meshClick = useCallback(\n        (mesh: AbstractMesh, _scene: Scene, e: PointerEvent) => {\n            if (onMeshClicked) {\n                onMeshClicked(mesh, e);\n            }\n        },\n        [onMeshClicked]\n    );\n    const meshHover = useCallback(\n        (mesh: AbstractMesh, _scene: Scene, _e: PointerEvent) => {\n            if (onMeshHovered) {\n                onMeshHovered(mesh);\n            }\n        },\n        [onMeshHovered]\n    );\n\n    const svp = sceneViewProps || {};\n\n    logDebugConsole('debug', 'Render ADT3DBuilder');\n    return (\n        <BaseComponent containerClassName={classNames.root}>\n            <div className={classNames.wrapper}>\n                <SceneViewWrapper\n                    objectColorUpdated={objectColorUpdated}\n                    wrapperMode={WrapperMode.Builder}\n                    sceneViewProps={{\n                        ...svp,\n                        modelUrl: modelUrl,\n                        onMeshClick: meshClick,\n                        onMeshHover: meshHover,\n                        coloredMeshItems: coloredMeshItems,\n                        showMeshesOnHover: showMeshesOnHover ?? true,\n                        showHoverOnSelected: showHoverOnSelected,\n                        gizmoElementItem: gizmoElementItem,\n                        gizmoTransformItem: gizmoTransformItem,\n                        setGizmoTransformItem: setGizmoTransformItem,\n                        getToken: (adapter as any).authService\n                            ? () =>\n                                  (adapter as any).authService.getToken(\n                                      'storage'\n                                  )\n                            : undefined,\n                        allowModelDimensionErrorMessage: true\n                    }}\n                />\n            </div>\n        </BaseComponent>\n    );\n};\n\nexport default styled<\n    IADT3DBuilderProps,\n    IADT3DBuilderStyleProps,\n    IADT3DBuilderStyles\n>(withErrorBoundary(ADT3DBuilder), getStyles);\n"]},"metadata":{},"sourceType":"module"}