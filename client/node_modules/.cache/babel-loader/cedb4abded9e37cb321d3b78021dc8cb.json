{"ast":null,"code":"import { createMemoizer } from '../memoize';\nfunction createComposedRenderFunction(outer) {\n  var outerMemoizer = createMemoizer(function (inner) {\n    var innerMemoizer = createMemoizer(function (defaultRender) {\n      return function (innerProps) {\n        return inner(innerProps, defaultRender);\n      };\n    });\n    return function (outerProps, defaultRender) {\n      return outer(outerProps, defaultRender ? innerMemoizer(defaultRender) : inner);\n    };\n  });\n  return outerMemoizer;\n}\nvar memoizer = createMemoizer(createComposedRenderFunction);\n/**\n * Composes two 'render functions' to produce a final render function that renders\n * the outer function, passing the inner function as 'default render'. The inner function\n * is then passed the original 'default render' prop.\n * @public\n */\nexport function composeRenderFunction(outer, inner) {\n  return memoizer(outer)(inner);\n}","map":{"version":3,"sources":["renderFunction/composeRenderFunction.tsx"],"names":[],"mappings":"AACA,SAAS,cAAc,QAAQ,YAAY;AAM3C,SAAS,4BAA4B,CACnC,KAA8B,EAAA;EAE9B,IAAM,aAAa,GAAG,cAAc,CAAC,UAAC,KAA8B,EAAA;IAClE,IAAM,aAAa,GAAG,cAAc,CAAC,UAAC,aAAsC,EAAA;MAC1E,OAAO,UAAC,UAAmB,EAAA;QACzB,OAAO,KAAK,CAAC,UAAU,EAAE,aAAa,CAAC;MACzC,CAAC;IACH,CAAC,CAAC;IAEF,OAAO,UAAC,UAAmB,EAAE,aAAuC,EAAA;MAClE,OAAO,KAAK,CAAC,UAAU,EAAE,aAAa,GAAG,aAAa,CAAC,aAAa,CAAC,GAAG,KAAK,CAAC;IAChF,CAAC;EACH,CAAC,CAAC;EAEF,OAAO,aAAa;AACtB;AAEA,IAAM,QAAQ,GAAG,cAAc,CAA0B,4BAA4B,CAAC;AAEtF;;;;;AAKG;AACH,OAAM,SAAU,qBAAqB,CACnC,KAA8B,EAC9B,KAA8B,EAAA;EAE9B,OAAO,QAAQ,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;AAC/B","sourcesContent":["import { IRenderFunction } from '../IRenderFunction';\nimport { createMemoizer } from '../memoize';\n\ninterface IRenderFunctionComposer {\n  <TProps>(outer: IRenderFunction<TProps>): (inner: IRenderFunction<TProps>) => IRenderFunction<TProps>;\n}\n\nfunction createComposedRenderFunction<TProps>(\n  outer: IRenderFunction<TProps>,\n): (inner: IRenderFunction<TProps>) => IRenderFunction<TProps> {\n  const outerMemoizer = createMemoizer((inner: IRenderFunction<TProps>) => {\n    const innerMemoizer = createMemoizer((defaultRender: IRenderFunction<TProps>) => {\n      return (innerProps?: TProps) => {\n        return inner(innerProps, defaultRender);\n      };\n    });\n\n    return (outerProps?: TProps, defaultRender?: IRenderFunction<TProps>) => {\n      return outer(outerProps, defaultRender ? innerMemoizer(defaultRender) : inner);\n    };\n  });\n\n  return outerMemoizer;\n}\n\nconst memoizer = createMemoizer<IRenderFunctionComposer>(createComposedRenderFunction);\n\n/**\n * Composes two 'render functions' to produce a final render function that renders\n * the outer function, passing the inner function as 'default render'. The inner function\n * is then passed the original 'default render' prop.\n * @public\n */\nexport function composeRenderFunction<TProps>(\n  outer: IRenderFunction<TProps>,\n  inner: IRenderFunction<TProps>,\n): IRenderFunction<TProps> {\n  return memoizer(outer)(inner);\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}