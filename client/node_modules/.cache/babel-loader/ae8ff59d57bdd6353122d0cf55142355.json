{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { ComboBox } from './ComboBox';\nimport { List } from '../../List';\nimport { initializeComponentRef } from '../../Utilities';\nvar VirtualizedComboBox = /** @class */function (_super) {\n  __extends(VirtualizedComboBox, _super);\n  function VirtualizedComboBox(props) {\n    var _this = _super.call(this, props) || this;\n    /** The combo box element */\n    _this._comboBox = React.createRef();\n    /** The virtualized list element */\n    _this._list = React.createRef();\n    _this._onRenderList = function (props) {\n      var id = props.id,\n        onRenderItem = props.onRenderItem;\n      // Render virtualized list\n      return React.createElement(List, {\n        componentRef: _this._list,\n        role: \"listbox\",\n        id: id + \"-list\",\n        \"aria-labelledby\": id + \"-label\",\n        items: props.options,\n        // eslint-disable-next-line react/jsx-no-bind\n        onRenderCell: onRenderItem ? function (item) {\n          return onRenderItem(item);\n        } : function () {\n          return null;\n        }\n      });\n    };\n    _this._onScrollToItem = function (itemIndex) {\n      // We are using the List component, call scrollToIndex\n      _this._list.current && _this._list.current.scrollToIndex(itemIndex);\n    };\n    initializeComponentRef(_this);\n    return _this;\n  }\n  Object.defineProperty(VirtualizedComboBox.prototype, \"selectedOptions\", {\n    /**\n     * All selected options\n     */\n    get: function () {\n      if (this._comboBox.current) {\n        return this._comboBox.current.selectedOptions;\n      }\n      return [];\n    },\n    enumerable: true,\n    configurable: true\n  });\n  VirtualizedComboBox.prototype.dismissMenu = function () {\n    if (this._comboBox.current) {\n      return this._comboBox.current.dismissMenu();\n    }\n  };\n  VirtualizedComboBox.prototype.focus = function (shouldOpenOnFocus, useFocusAsync) {\n    if (this._comboBox.current) {\n      this._comboBox.current.focus(shouldOpenOnFocus, useFocusAsync);\n      return true;\n    }\n    return false;\n  };\n  VirtualizedComboBox.prototype.render = function () {\n    return React.createElement(ComboBox, __assign({}, this.props, {\n      componentRef: this._comboBox,\n      onRenderList: this._onRenderList,\n      onScrollToItem: this._onScrollToItem\n    }));\n  };\n  return VirtualizedComboBox;\n}(React.Component);\nexport { VirtualizedComboBox };","map":{"version":3,"sources":["components/ComboBox/VirtualizedComboBox.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,KAAK,MAAM,OAAO;AAC9B,SAAS,QAAQ,QAAQ,YAAY;AAErC,SAAgB,IAAI,QAAQ,YAAY;AAExC,SAAS,sBAAsB,QAAQ,iBAAiB;AAExD,IAAA,mBAAA,GAAA,aAAA,UAAA,MAAA,EAAA;EAAyC,SAAA,CAAA,mBAAA,EAAA,MAAA,CAAA;EAMvC,SAAA,mBAAA,CAAY,KAAqB,EAAA;IAAjC,IAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAK,CAAC,IAAA,IAAA;IANd;IACQ,KAAA,CAAA,SAAS,GAAG,KAAK,CAAC,SAAS,CAAA,CAAa;IAChD;IACQ,KAAA,CAAA,KAAK,GAAG,KAAK,CAAC,SAAS,CAAA,CAAS;IA4C9B,KAAA,CAAA,aAAa,GAAG,UAAC,KAAqB,EAAA;MACtC,IAAA,EAAA,GAAA,KAAA,CAAA,EAAE;QAAE,YAAA,GAAA,KAAA,CAAA,YAAY;MAExB;MACA,OACE,KAAA,CAAA,aAAA,CAAC,IAAI,EAAA;QACH,YAAY,EAAE,KAAI,CAAC,KAAK;QACxB,IAAI,EAAC,SAAS;QACd,EAAE,EAAK,EAAE,GAAA,OAAO;QAAA,iBAAA,EACI,EAAE,GAAA,QAAQ;QAC9B,KAAK,EAAE,KAAK,CAAC,OAAO;QACpB;QACA,YAAY,EAAE,YAAY,GAAG,UAAC,IAAuB,EAAA;UAAK,OAAA,YAAY,CAAC,IAAI,CAAC;QAAlB,CAAkB,GAAG,YAAA;UAAM,OAAA,IAAI;QAAJ;MAAI,CAAA,CACzF;IAEN,CAAC;IAES,KAAA,CAAA,eAAe,GAAG,UAAC,SAAiB,EAAA;MAC5C;MACA,KAAI,CAAC,KAAK,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,CAAC;IACnE,CAAC;IA3DC,sBAAsB,CAAC,KAAI,CAAC;;EAC9B;EAKA,MAAA,CAAA,cAAA,CAAW,mBAAA,CAAA,SAAA,EAAA,iBAAe,EAAA;IAH1B;;AAEG;SACH,SAAA,CAAA,EAAA;MACE,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;QAC1B,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe;MAC9C;MACD,OAAO,EAAE;IACX,CAAC;;;IAAA;EAEM,mBAAA,CAAA,SAAA,CAAA,WAAW,GAAlB,YAAA;IACE,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;MAC1B,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,CAAA,CAAE;IAC5C;EACH,CAAC;EAEM,mBAAA,CAAA,SAAA,CAAA,KAAK,GAAZ,UAAa,iBAA2B,EAAE,aAAuB,EAAA;IAC/D,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;MAC1B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,iBAAiB,EAAE,aAAa,CAAC;MAC9D,OAAO,IAAI;IACZ;IAED,OAAO,KAAK;EACd,CAAC;EAEM,mBAAA,CAAA,SAAA,CAAA,MAAM,GAAb,YAAA;IACE,OACE,KAAA,CAAA,aAAA,CAAC,QAAQ,EAAA,QAAA,CAAA,CAAA,CAAA,EACH,IAAI,CAAC,KAAK,EAAA;MACd,YAAY,EAAE,IAAI,CAAC,SAAS;MAC5B,YAAY,EAAE,IAAI,CAAC,aAAa;MAChC,cAAc,EAAE,IAAI,CAAC;IAAe,CAAA,CAAA,CACpC;EAEN,CAAC;EAuBH,OAAA,mBAAC;AAAD,CAAC,CArEwC,KAAK,CAAC,SAAS,CAAA","sourcesContent":["import * as React from 'react';\nimport { ComboBox } from './ComboBox';\nimport { IComboBoxProps, IComboBox, IComboBoxOption } from './ComboBox.types';\nimport { IList, List } from '../../List';\nimport { ISelectableOption } from '../../utilities/selectableOption/SelectableOption.types';\nimport { initializeComponentRef } from '../../Utilities';\n\nexport class VirtualizedComboBox extends React.Component<IComboBoxProps, {}> implements IComboBox {\n  /** The combo box element */\n  private _comboBox = React.createRef<IComboBox>();\n  /** The virtualized list element */\n  private _list = React.createRef<IList>();\n\n  constructor(props: IComboBoxProps) {\n    super(props);\n\n    initializeComponentRef(this);\n  }\n\n  /**\n   * All selected options\n   */\n  public get selectedOptions(): IComboBoxOption[] {\n    if (this._comboBox.current) {\n      return this._comboBox.current.selectedOptions;\n    }\n    return [];\n  }\n\n  public dismissMenu(): void {\n    if (this._comboBox.current) {\n      return this._comboBox.current.dismissMenu();\n    }\n  }\n\n  public focus(shouldOpenOnFocus?: boolean, useFocusAsync?: boolean) {\n    if (this._comboBox.current) {\n      this._comboBox.current.focus(shouldOpenOnFocus, useFocusAsync);\n      return true;\n    }\n\n    return false;\n  }\n\n  public render(): JSX.Element {\n    return (\n      <ComboBox\n        {...this.props}\n        componentRef={this._comboBox}\n        onRenderList={this._onRenderList}\n        onScrollToItem={this._onScrollToItem}\n      />\n    );\n  }\n\n  protected _onRenderList = (props: IComboBoxProps): JSX.Element => {\n    const { id, onRenderItem } = props;\n\n    // Render virtualized list\n    return (\n      <List\n        componentRef={this._list}\n        role=\"listbox\"\n        id={`${id}-list`}\n        aria-labelledby={`${id}-label`}\n        items={props.options}\n        // eslint-disable-next-line react/jsx-no-bind\n        onRenderCell={onRenderItem ? (item: ISelectableOption) => onRenderItem(item) : () => null}\n      />\n    );\n  };\n\n  protected _onScrollToItem = (itemIndex: number): void => {\n    // We are using the List component, call scrollToIndex\n    this._list.current && this._list.current.scrollToIndex(itemIndex);\n  };\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}