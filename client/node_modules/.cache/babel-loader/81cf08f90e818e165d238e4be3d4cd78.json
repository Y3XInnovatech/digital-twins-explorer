{"ast":null,"code":"var _jsxFileName = \"/home/saharsh/digital-twins-explorer/client/src/App.js\";\n/* eslint-disable */\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport React, { Component } from \"react\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { Pivot, PivotItem, Stack, Customizations, Icon, Text } from \"office-ui-fabric-react/lib/\";\nimport cytoscape from \"cytoscape\";\nimport fcose from \"cytoscape-fcose\";\nimport cola from \"cytoscape-cola\";\nimport dagre from \"cytoscape-dagre\";\nimport klay from \"cytoscape-klay\";\nimport d3Force from \"cytoscape-d3-force\";\nimport dblclick from \"cytoscape-dblclick\";\nimport popper from \"cytoscape-popper\";\nimport navigator from \"cytoscape-navigator\";\nimport contextMenus from \"cytoscape-context-menus\";\nimport { withTranslation } from \"react-i18next\";\nimport GraphViewerComponent from \"./components/GraphViewerComponent/GraphViewerComponent\";\nimport ModelGraphViewerComponent from \"./components/ModelGraphViewerComponent/ModelGraphViewerComponent\";\nimport ModelViewerComponent from \"./components/ModelViewerComponent/ModelViewerComponent\";\nimport { TwinViewerComponent } from \"./components/TwinViewerComponent/TwinViewerComponent\";\nimport { OutputComponent } from \"./components/OutputComponent/OutputComponent\";\nimport QueryComponent from \"./components/QueryComponent/QueryComponent\";\nimport { ImportComponent } from \"./components/ImportComponent/ImportComponent\";\nimport TabularViewComponent from \"./components/TabularViewComponent/TabularViewComponent\";\nimport { ConsoleComponent } from \"./components/ConsoleComponent/ConsoleComponent\";\nimport AppCommandBar from \"./components/AppCommandBar/AppCommandBar\";\nimport ErrorMessageModal from \"./components/ErrorMessageComponent/ErrorMessageModal\";\nimport ErrorMessageBar from \"./components/ErrorMessageComponent/ErrorMessageBar\";\nimport LoaderComponent from \"./components/LoaderComponent/LoaderComponent\";\nimport { eventService } from \"./services/EventService\";\nimport { settingsService } from \"./services/SettingsService\";\nimport { ModelService } from \"./services/ModelService\";\nimport { exportService } from \"./services/ExportService\";\nimport themeVariables from \"./theme/variables\";\nimport { darkFabricTheme, darkFabricThemeHighContrast } from \"./theme/DarkFabricTheme\";\nimport logo from \"./assets/y3x-removebg-preview(1).png\";\nimport logo2 from \"./assets/y3x-removebg-preview(2).png\";\nimport \"prismjs/components/prism-json\";\nimport \"prismjs/themes/prism.css\";\nimport ModelUploadMessageBar from \"./components/ModelUploadMessageBar/ModelUploadMessageBar\";\nimport { STRING_DTDL_TYPE } from \"./services/Constants\";\nimport ErrorPage from \"./components/ErrorPage/ErrorPage\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ncytoscape.use(klay);\ncytoscape.use(dagre);\ncytoscape.use(cola);\ncytoscape.use(fcose);\ncytoscape.use(d3Force);\ncytoscape.use(dblclick);\ncytoscape.use(popper);\ncytoscape.use(navigator);\ncytoscape.use(contextMenus);\nconst layoutConfig = {\n  borderWidth: 3,\n  minItemWidth: 15,\n  headerHeight: 24,\n  minDrawerHeight: 20,\n  maxDrawerHeight: 300\n};\nconst LEFT_ARROW_KEY_CODE = 37;\nconst RIGHT_ARROW_KEY_CODE = 39;\nconst CLOSING_BRACKET_KEY_CODE = 221;\nconst contrastOptions = {\n  high: \"high-contrast\",\n  normal: \"normal\"\n};\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.optionalComponents = [{\n      id: \"console\",\n      name: this.props.t(\"app.optionalComponents.console\"),\n      showProp: \"showConsole\"\n    }, {\n      id: \"output\",\n      name: this.props.t(\"app.optionalComponents.output\"),\n      showProp: \"showOutput\"\n    }];\n    this.applyStoredContrast = () => {\n      const contrast = settingsService.contrast;\n      if (contrast && contrast !== this.state.contrast) {\n        this.setState({\n          contrast\n        }, () => this.setCurrentContrast());\n      }\n    };\n    this.applyStoredDisplayNameProperty = () => {\n      (async () => {\n        const prospectiveDisplayName = await settingsService.selectedDisplayNameProperty;\n        this.setSelectedDisplayNameProperty(prospectiveDisplayName);\n      })();\n    };\n    this.setCurrentContrast = () => {\n      const {\n        contrast\n      } = this.state;\n      this.setThemeVariables(themeVariables[contrast]);\n      if (contrast === contrastOptions.high) {\n        Customizations.applySettings({\n          theme: darkFabricThemeHighContrast\n        });\n      } else {\n        Customizations.applySettings({\n          theme: darkFabricTheme\n        });\n      }\n    };\n    this.setThemeVariables = theme => {\n      Object.keys(theme).forEach(key => {\n        document.documentElement.style.setProperty(key, theme[key]);\n      });\n    };\n    this.setSelectedDisplayNameProperty = propertyName => {\n      (async () => {\n        settingsService.selectedDisplayNameProperty = propertyName;\n        this.setState({\n          selectedDisplayNameProperty: propertyName\n        });\n      })();\n    };\n    this.setPossibleDisplayNameProperties = () => {\n      (async () => {\n        let displayNameProperties = [];\n        try {\n          const modelService = new ModelService();\n          const models = await modelService.getAllModels();\n          const displayNameDict = {};\n          models.forEach(model => {\n            model.properties.forEach(propertyObject => {\n              if (propertyObject.schema === STRING_DTDL_TYPE) {\n                displayNameDict[propertyObject.name] = displayNameDict[propertyObject.name] ? displayNameDict[propertyObject.name] + 1 : 1;\n              }\n            });\n          });\n\n          // Map dictionary into list of lists segmented by occurence count\n          const nameByCount = {};\n          Object.keys(displayNameDict).forEach(key => {\n            const count = displayNameDict[key];\n            if (nameByCount[count]) {\n              nameByCount[count].push({\n                displayName: key,\n                count\n              });\n            } else {\n              nameByCount[count] = [{\n                displayName: key,\n                count\n              }];\n            }\n          });\n\n          // Sort counts in descending order\n          const sortedCounts = Object.keys(nameByCount).map(key => Number(key)).sort((a, b) => a - b).reverse();\n\n          // Flatten descending counts, sorted alphabetically within each count, into result array\n          displayNameProperties = sortedCounts.map(count => nameByCount[count].sort((a, b) => a.displayName.localeCompare(b.displayName, undefined, {\n            sensitivity: 'base'\n          }))).flat();\n        } catch (err) {\n          console.error(err);\n        }\n        this.setState({\n          \"possibleDisplayNameProperties\": displayNameProperties\n        });\n      })();\n    };\n    this.toggleOptionalComponent = id => {\n      this.setState(prevState => {\n        const newState = {\n          ...prevState\n        };\n        switch (id) {\n          case \"output\":\n            newState.layout.showOutput = !prevState.layout.showOutput;\n            break;\n          case \"console\":\n            newState.layout.showConsole = !prevState.layout.showConsole;\n            break;\n          default:\n            break;\n        }\n        return newState;\n      });\n    };\n    this.handleModelViewerResizeMouseMove = e => {\n      this.resizeModelViewerEndX = e.screenX - this.resizeModelViewerStartX;\n      if (this.resizeModelViewerEndX >= layoutConfig.minItemWidth) {\n        this.setState(prevState => ({\n          layout: {\n            ...prevState.layout,\n            modelViewerWidth: layoutConfig.minItemWidth + this.resizeModelViewerEndX * 100 / window.innerWidth\n          }\n        }));\n      }\n    };\n    this.handleModelViewerResizeMouseUp = e => {\n      e.preventDefault();\n      window.removeEventListener(\"mousemove\", this.handleModelViewerResizeMouseMove);\n      window.removeEventListener(\"mouseup\", this.handleModelViewerResizeMouseUp);\n    };\n    this.handleModelViewerResizeMouseDown = e => {\n      e.preventDefault();\n      if (this.resizeModelViewerStartX === 0) {\n        this.resizeModelViewerStartX = e.screenX;\n      }\n      window.addEventListener(\"mousemove\", this.handleModelViewerResizeMouseMove);\n      window.addEventListener(\"mouseup\", this.handleModelViewerResizeMouseUp);\n    };\n    this.handleModelViewerResizeKewDown = e => {\n      if (e.keyCode === LEFT_ARROW_KEY_CODE) {\n        this.setState(prevState => ({\n          layout: {\n            ...prevState.layout,\n            modelViewerWidth: layoutConfig.minItemWidth + (this.resizeModelViewerEndX - 1) * 100 / window.innerWidth\n          }\n        }));\n        this.resizeModelViewerEndX = this.resizeModelViewerEndX - 1;\n      }\n      if (e.keyCode === RIGHT_ARROW_KEY_CODE) {\n        this.setState(prevState => ({\n          layout: {\n            ...prevState.layout,\n            modelViewerWidth: layoutConfig.minItemWidth + (this.resizeModelViewerEndX + 1) * 100 / window.innerWidth\n          }\n        }));\n        this.resizeModelViewerEndX = this.resizeModelViewerEndX + 1;\n      }\n    };\n    this.handleModelViewerOnFocus = e => {\n      e.preventDefault();\n      window.addEventListener(\"keydown\", this.handleModelViewerResizeKewDown);\n    };\n    this.handleModelViewerBlur = e => {\n      e.preventDefault();\n      window.removeEventListener(\"keydown\", this.handleModelViewerOnFocus);\n    };\n    this.handleDrawerResizeMouseMove = e => {\n      this.resizeDrawerEndY = this.resizeDrawerStartY - e.screenY;\n      if (this.resizeDrawerEndY >= layoutConfig.minDrawerHeight && this.resizeDrawerEndY <= layoutConfig.maxDrawerHeight) {\n        this.setState(prevState => ({\n          layout: {\n            ...prevState.layout,\n            drawerHeight: layoutConfig.minDrawerHeight + this.resizeDrawerEndY * 100 / window.innerHeight\n          }\n        }));\n      }\n    };\n    this.handleDrawerResizeMouseUp = e => {\n      e.preventDefault();\n      window.removeEventListener(\"mousemove\", this.handleDrawerResizeMouseMove);\n      window.removeEventListener(\"mouseup\", this.handleDrawerResizeMouseUp);\n    };\n    this.handleDrawerResizeMouseDown = e => {\n      e.preventDefault();\n      if (this.resizeDrawerStartY === 0) {\n        this.resizeDrawerStartY = e.screenY;\n      }\n      window.addEventListener(\"mousemove\", this.handleDrawerResizeMouseMove);\n      window.addEventListener(\"mouseup\", this.handleDrawerResizeMouseUp);\n    };\n    this.handleMainContentPivotChange = itemKey => {\n      if (itemKey === \"model-graph-viewer\") {\n        this.modelGraphViewer.current.initialize();\n      }\n      this.setState(prevState => ({\n        mainContentSelectedKey: itemKey,\n        leftPanelSelectedKey: itemKey === \"model-graph-viewer\" ? \"models\" : prevState.leftPanelSelectedKey\n      }));\n    };\n    this.handleLeftPanelPivotChange = item => {\n      const itemKey = item.props.itemKey;\n      this.setState(prevState => ({\n        leftPanelSelectedKey: itemKey,\n        mainContentSelectedKey: itemKey === \"twins\" ? \"graph-viewer\" : prevState.mainContentSelectedKey\n      }));\n    };\n    this.toggleHighContrastMode = isHighContrast => {\n      const contrast = isHighContrast ? contrastOptions.high : contrastOptions.normal;\n      settingsService.contrast = contrast;\n      this.setState({\n        contrast\n      }, () => this.setCurrentContrast());\n    };\n    this.renderClosablePivotItem = item => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: item.headerText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Icon, {\n        iconName: \"ChromeClose\",\n        className: \"close-content-tab\",\n        onClick: () => this.hideClosablePivotItem(item)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 5\n    }, this);\n    this.hideClosablePivotItem = item => {\n      if (item.itemKey === \"import\") {\n        this.setState(prevState => ({\n          layout: {\n            ...prevState.layout,\n            showImport: false,\n            importFile: null\n          }\n        }), () => {\n          this.setState({\n            mainContentSelectedKey: \"graph-viewer\"\n          });\n        });\n      }\n      if (item.itemKey === \"tabularView\") {\n        this.setState(prevState => ({\n          layout: {\n            ...prevState.layout,\n            showTabularView: false\n          }\n        }), () => {\n          this.setState({\n            mainContentSelectedKey: \"graph-viewer\"\n          });\n        });\n      }\n    };\n    this.resizeModelViewerStartX = 0;\n    this.resizeModelViewerEndX = 0;\n    this.resizeDrawerStartY = 0;\n    this.resizeDrawerEndY = 0;\n    this.modelGraphViewer = /*#__PURE__*/React.createRef();\n    this.importRef = /*#__PURE__*/React.createRef();\n    this.state = {\n      exportedQuery: \"\",\n      isLoading: false,\n      layout: {\n        modelViewerWidth: 15,\n        drawerHeight: 20,\n        showImport: false,\n        importFile: null,\n        showTabularView: false,\n        showOutput: false,\n        showConsole: false\n      },\n      modelUploadResults: null,\n      mainContentSelectedKey: \"graph-viewer\",\n      leftPanelSelectedKey: \"models\",\n      contrast: contrastOptions.normal,\n      possibleDisplayNameProperties: [],\n      selectedDisplayNameProperty: \"\",\n      relationships: []\n    };\n    for (const x of this.optionalComponents) {\n      this.state[x.id] = {\n        visible: false\n      };\n    }\n    this.setCurrentContrast();\n  }\n  async componentDidMount() {\n    eventService.subscribeImport(evt => {\n      this.setState(prevState => ({\n        layout: {\n          ...prevState.layout,\n          showImport: true,\n          importFile: evt.file\n        }\n      }), () => {\n        this.setState({\n          mainContentSelectedKey: \"import\"\n        }, () => {\n          setTimeout(() => {\n            this.importRef.current.focus();\n          }, 200);\n        });\n      });\n    });\n    eventService.subscribeExport(evt => {\n      this.createDownload(evt.query);\n    });\n    eventService.subscribeOpenTabularView(relationships => {\n      this.setState(prevState => ({\n        mainContentSelectedKey: \"tabularView\",\n        layout: {\n          ...prevState.layout,\n          showTabularView: true\n        },\n        relationships\n      }));\n    });\n    eventService.subscribeCloseComponent(component => {\n      switch (component) {\n        case \"importComponent\":\n          this.setState(prevState => ({\n            layout: {\n              ...prevState.layout,\n              showImport: false,\n              importFile: null\n            }\n          }), () => {\n            this.handleMainContentPivotChange(\"graph-viewer\");\n          });\n          break;\n        default:\n          break;\n      }\n    });\n    eventService.subscribeOpenOptionalComponent(id => {\n      switch (id) {\n        case \"output\":\n          this.setState({\n            showOutput: false\n          });\n          break;\n        case \"console\":\n          this.setState({\n            showConsole: false\n          });\n          break;\n        default:\n          break;\n      }\n    });\n    eventService.subscribeLoading(isLoading => this.setState({\n      isLoading\n    }));\n    eventService.subscribeConfigure(async evt => {\n      if (evt.type === \"end\" && evt.config) {\n        await this.setPossibleDisplayNameProperties();\n        await this.applyStoredDisplayNameProperty();\n      }\n    });\n    window.addEventListener(\"keydown\", e => {\n      if (e.keyCode === CLOSING_BRACKET_KEY_CODE && e.ctrlKey) {\n        eventService.publishClearGraphSelection();\n        eventService.publishSelection();\n        eventService.publishModelSelectionUpdatedInGraph();\n      }\n    });\n    this.applyStoredContrast();\n    await this.setPossibleDisplayNameProperties();\n    await this.applyStoredDisplayNameProperty();\n  }\n  async createDownload(query) {\n    this.setState({\n      isLoading: true\n    });\n    let data = null;\n    try {\n      data = await exportService.save(query);\n    } catch (exc) {\n      exc.customMessage = \"Error in exporting graph\";\n      eventService.publishError(exc);\n    }\n    if (data) {\n      const blob = new Blob([JSON.stringify(data)], {\n        type: \"application/json\"\n      });\n      const downloadUrl = URL.createObjectURL(blob);\n      let downloadLink = document.createElement(\"a\");\n      downloadLink.setAttribute(\"href\", downloadUrl);\n      downloadLink.setAttribute(\"download\", \"ExportedGraph\");\n      downloadLink.style.visibility = \"hidden\";\n      document.body.appendChild(downloadLink);\n      downloadLink.click();\n      document.body.removeChild(downloadLink);\n      setTimeout(() => URL.revokeObjectURL(downloadUrl), 100);\n    }\n    this.setState({\n      isLoading: false\n    });\n  }\n  render() {\n    const {\n      isLoading,\n      layout,\n      mainContentSelectedKey,\n      leftPanelSelectedKey,\n      contrast,\n      selectedDisplayNameProperty,\n      possibleDisplayNameProperties\n    } = this.state;\n    const optionalComponentsState = this.optionalComponents.map(p => {\n      p.show = layout[p.showProp];\n      return p;\n    });\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ErrorBoundary, {\n        FallbackComponent: ErrorPage,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            role: \"banner\",\n            className: \"header\",\n            children: /*#__PURE__*/_jsxDEV(Stack, {\n              horizontal: true,\n              className: \"top-bar\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: logo,\n                  width: 40,\n                  height: 40,\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: logo2,\n                  width: 80,\n                  height: 40,\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AppCommandBar, {\n                optionalComponents: optionalComponentsState,\n                optionalComponentsState: optionalComponentsState,\n                toggleOptionalComponent: this.toggleOptionalComponent,\n                toggleHighContrastMode: this.toggleHighContrastMode,\n                contrast: contrast\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n            className: \"work-area\",\n            children: [/*#__PURE__*/_jsxDEV(ErrorMessageBar, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ModelUploadMessageBar, {\n              modelUploadResults: this.state.modelUploadResults,\n              onDismiss: () => this.setState({\n                modelUploadResults: null\n              }),\n              t: this.props.t\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"top-area\",\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                as: \"h2\",\n                variant: 'small',\n                className: \"query-explorer-header\",\n                \"aria-label\": this.props.t(\"app.goldenLayoutConfig.queryComponent\"),\n                children: this.props.t(\"app.goldenLayoutConfig.queryComponent\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(QueryComponent, {\n                onQueryExecuted: () => this.handleMainContentPivotChange('graph-viewer')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"main-area\",\n              style: {\n                height: `calc(100vh - 155px - ${layout.showConsole || layout.showOutput ? layout.drawerHeight : 0}%)`\n              },\n              children: /*#__PURE__*/_jsxDEV(Stack, {\n                horizontal: true,\n                style: {\n                  height: \"100%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    width: `${layout.modelViewerWidth}%`\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Pivot, {\n                    \"aria-label\": \"Use left and right arrow keys to navigate\",\n                    selectedKey: leftPanelSelectedKey,\n                    className: \"tab-pivot\",\n                    headersOnly: true,\n                    onLinkClick: this.handleLeftPanelPivotChange,\n                    children: [/*#__PURE__*/_jsxDEV(PivotItem, {\n                      itemKey: \"twins\",\n                      headerText: this.props.t(\"app.goldenLayoutConfig.twinViewer\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 466,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(PivotItem, {\n                      style: {\n                        height: \"100%\"\n                      },\n                      itemKey: \"models\",\n                      headerText: this.props.t(\"app.goldenLayoutConfig.modelViewer\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 467,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tab-pivot-panel\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: leftPanelSelectedKey === \"twins\" ? \"show\" : \"hidden\",\n                      children: /*#__PURE__*/_jsxDEV(TwinViewerComponent, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 471,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 470,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: leftPanelSelectedKey === \"models\" ? \"show\" : \"hidden\",\n                      children: /*#__PURE__*/_jsxDEV(ModelViewerComponent, {\n                        showItemMenu: mainContentSelectedKey === \"graph-viewer\",\n                        onModelUploadSuccess: modelUploadResults => this.setState({\n                          modelUploadResults\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 474,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 473,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"draggable\",\n                  tabIndex: \"0\",\n                  onMouseDown: this.handleModelViewerResizeMouseDown,\n                  onFocus: this.handleModelViewerOnFocus,\n                  onBlur: this.handleModelViewerOnBlur\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    width: `calc(${100 - layout.modelViewerWidth}% - 3px)`,\n                    flex: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Pivot, {\n                    \"aria-label\": \"Use left and right arrow keys to navigate\",\n                    selectedKey: mainContentSelectedKey,\n                    className: \"tab-pivot\",\n                    headersOnly: true,\n                    onLinkClick: item => this.handleMainContentPivotChange(item.props.itemKey),\n                    children: [/*#__PURE__*/_jsxDEV(PivotItem, {\n                      style: {\n                        height: \"100%\"\n                      },\n                      itemKey: \"graph-viewer\",\n                      headerText: this.props.t(\"app.goldenLayoutConfig.graph\"),\n                      ariaLabel: this.props.t(\"app.goldenLayoutConfig.graph\"),\n                      ariaLive: \"assertive\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 491,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(PivotItem, {\n                      style: {\n                        height: \"100%\"\n                      },\n                      itemKey: \"model-graph-viewer\",\n                      headerText: this.props.t(\"app.goldenLayoutConfig.modelGraphViewer\"),\n                      ariaLabel: this.props.t(\"app.goldenLayoutConfig.modelGraphViewer\"),\n                      ariaLive: \"assertive\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 492,\n                      columnNumber: 23\n                    }, this), layout.showImport && /*#__PURE__*/_jsxDEV(PivotItem, {\n                      style: {\n                        height: \"100%\"\n                      },\n                      itemKey: \"import\",\n                      headerText: this.props.t(\"app.importComponentConfig.title\"),\n                      ariaLabel: this.props.t(\"app.importComponentConfig.title\"),\n                      ariaLive: \"assertive\",\n                      onRenderItemLink: this.renderClosablePivotItem\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 493,\n                      columnNumber: 45\n                    }, this), layout.showTabularView && /*#__PURE__*/_jsxDEV(PivotItem, {\n                      style: {\n                        height: \"100%\"\n                      },\n                      itemKey: \"tabularView\",\n                      headerText: this.props.t(\"app.tabularViewComponentConfig.title\"),\n                      ariaLabel: this.props.t(\"app.tabularViewComponentConfig.title\"),\n                      ariaLive: \"assertive\",\n                      onRenderItemLink: this.renderClosablePivotItem\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 495,\n                      columnNumber: 50\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 489,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tab-pivot-panel\",\n                    role: \"main\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: mainContentSelectedKey === \"graph-viewer\" ? \"show\" : \"hidden\",\n                      children: /*#__PURE__*/_jsxDEV(GraphViewerComponent, {\n                        selectedDisplayNameProperty: selectedDisplayNameProperty,\n                        displayNameProperties: possibleDisplayNameProperties,\n                        setSelectedDisplayNameProperty: this.setSelectedDisplayNameProperty\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 500,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 499,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: mainContentSelectedKey === \"model-graph-viewer\" ? \"show\" : \"hidden\",\n                      children: /*#__PURE__*/_jsxDEV(ModelGraphViewerComponent, {\n                        ref: this.modelGraphViewer\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 503,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 502,\n                      columnNumber: 23\n                    }, this), layout.showImport && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: mainContentSelectedKey === \"import\" ? \"show\" : \"hidden\",\n                      children: /*#__PURE__*/_jsxDEV(ImportComponent, {\n                        file: layout.importFile,\n                        ref: this.importRef\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 506,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 505,\n                      columnNumber: 45\n                    }, this), layout.showTabularView && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: mainContentSelectedKey === \"tabularView\" ? \"show\" : \"hidden\",\n                      children: /*#__PURE__*/_jsxDEV(TabularViewComponent, {\n                        relationships: this.state.relationships\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 509,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 508,\n                      columnNumber: 50\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bottom-area\",\n              style: {\n                height: `${layout.showConsole || layout.showOutput ? layout.drawerHeight : 0}%`\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"draggable horizontal\",\n                onMouseDown: this.handleDrawerResizeMouseDown\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bottom-area-content\",\n                children: [layout.showOutput && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(Pivot, {\n                    \"aria-label\": \"Use left and right arrow keys to navigate\",\n                    className: \"tab-pivot full-height output-console\",\n                    children: /*#__PURE__*/_jsxDEV(PivotItem, {\n                      headerText: this.props.t(\"app.optionalComponents.output\"),\n                      children: /*#__PURE__*/_jsxDEV(OutputComponent, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 524,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 41\n                }, this), layout.showConsole && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(Pivot, {\n                    \"aria-label\": \"Use left and right arrow keys to navigate\",\n                    className: \"tab-pivot full-height output-console\",\n                    children: /*#__PURE__*/_jsxDEV(PivotItem, {\n                      headerText: this.props.t(\"app.optionalComponents.console\"),\n                      children: /*#__PURE__*/_jsxDEV(ConsoleComponent, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 532,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 530,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 42\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ErrorMessageModal, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(LoaderComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default withTranslation()(App);","map":{"version":3,"names":["React","Component","ErrorBoundary","Pivot","PivotItem","Stack","Customizations","Icon","Text","cytoscape","fcose","cola","dagre","klay","d3Force","dblclick","popper","navigator","contextMenus","withTranslation","GraphViewerComponent","ModelGraphViewerComponent","ModelViewerComponent","TwinViewerComponent","OutputComponent","QueryComponent","ImportComponent","TabularViewComponent","ConsoleComponent","AppCommandBar","ErrorMessageModal","ErrorMessageBar","LoaderComponent","eventService","settingsService","ModelService","exportService","themeVariables","darkFabricTheme","darkFabricThemeHighContrast","logo","logo2","ModelUploadMessageBar","STRING_DTDL_TYPE","ErrorPage","jsxDEV","_jsxDEV","Fragment","_Fragment","use","layoutConfig","borderWidth","minItemWidth","headerHeight","minDrawerHeight","maxDrawerHeight","LEFT_ARROW_KEY_CODE","RIGHT_ARROW_KEY_CODE","CLOSING_BRACKET_KEY_CODE","contrastOptions","high","normal","App","constructor","props","optionalComponents","id","name","t","showProp","applyStoredContrast","contrast","state","setState","setCurrentContrast","applyStoredDisplayNameProperty","prospectiveDisplayName","selectedDisplayNameProperty","setSelectedDisplayNameProperty","setThemeVariables","applySettings","theme","Object","keys","forEach","key","document","documentElement","style","setProperty","propertyName","setPossibleDisplayNameProperties","displayNameProperties","modelService","models","getAllModels","displayNameDict","model","properties","propertyObject","schema","nameByCount","count","push","displayName","sortedCounts","map","Number","sort","a","b","reverse","localeCompare","undefined","sensitivity","flat","err","console","error","toggleOptionalComponent","prevState","newState","layout","showOutput","showConsole","handleModelViewerResizeMouseMove","e","resizeModelViewerEndX","screenX","resizeModelViewerStartX","modelViewerWidth","window","innerWidth","handleModelViewerResizeMouseUp","preventDefault","removeEventListener","handleModelViewerResizeMouseDown","addEventListener","handleModelViewerResizeKewDown","keyCode","handleModelViewerOnFocus","handleModelViewerBlur","handleDrawerResizeMouseMove","resizeDrawerEndY","resizeDrawerStartY","screenY","drawerHeight","innerHeight","handleDrawerResizeMouseUp","handleDrawerResizeMouseDown","handleMainContentPivotChange","itemKey","modelGraphViewer","current","initialize","mainContentSelectedKey","leftPanelSelectedKey","handleLeftPanelPivotChange","item","toggleHighContrastMode","isHighContrast","renderClosablePivotItem","children","headerText","fileName","_jsxFileName","lineNumber","columnNumber","iconName","className","onClick","hideClosablePivotItem","showImport","importFile","showTabularView","createRef","importRef","exportedQuery","isLoading","modelUploadResults","possibleDisplayNameProperties","relationships","x","visible","componentDidMount","subscribeImport","evt","file","setTimeout","focus","subscribeExport","createDownload","query","subscribeOpenTabularView","subscribeCloseComponent","component","subscribeOpenOptionalComponent","subscribeLoading","subscribeConfigure","type","config","ctrlKey","publishClearGraphSelection","publishSelection","publishModelSelectionUpdatedInGraph","data","save","exc","customMessage","publishError","blob","Blob","JSON","stringify","downloadUrl","URL","createObjectURL","downloadLink","createElement","setAttribute","visibility","body","appendChild","click","removeChild","revokeObjectURL","render","optionalComponentsState","p","show","FallbackComponent","role","horizontal","src","width","height","alt","onDismiss","as","variant","onQueryExecuted","selectedKey","headersOnly","onLinkClick","showItemMenu","onModelUploadSuccess","tabIndex","onMouseDown","onFocus","onBlur","handleModelViewerOnBlur","flex","ariaLabel","ariaLive","onRenderItemLink","ref"],"sources":["/home/saharsh/digital-twins-explorer/client/src/App.js"],"sourcesContent":["/* eslint-disable */\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport React, { Component } from \"react\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { Pivot, PivotItem, Stack, Customizations, Icon, Text } from \"office-ui-fabric-react/lib/\";\nimport cytoscape from \"cytoscape\";\nimport fcose from \"cytoscape-fcose\";\nimport cola from \"cytoscape-cola\";\nimport dagre from \"cytoscape-dagre\";\nimport klay from \"cytoscape-klay\";\nimport d3Force from \"cytoscape-d3-force\";\nimport dblclick from \"cytoscape-dblclick\";\nimport popper from \"cytoscape-popper\";\nimport navigator from \"cytoscape-navigator\";\nimport contextMenus from \"cytoscape-context-menus\";\nimport { withTranslation } from \"react-i18next\";\n\nimport GraphViewerComponent from \"./components/GraphViewerComponent/GraphViewerComponent\";\nimport ModelGraphViewerComponent from \"./components/ModelGraphViewerComponent/ModelGraphViewerComponent\";\nimport ModelViewerComponent from \"./components/ModelViewerComponent/ModelViewerComponent\";\nimport { TwinViewerComponent } from \"./components/TwinViewerComponent/TwinViewerComponent\";\nimport { OutputComponent } from \"./components/OutputComponent/OutputComponent\";\nimport QueryComponent from \"./components/QueryComponent/QueryComponent\";\nimport { ImportComponent } from \"./components/ImportComponent/ImportComponent\";\nimport TabularViewComponent from \"./components/TabularViewComponent/TabularViewComponent\";\nimport { ConsoleComponent } from \"./components/ConsoleComponent/ConsoleComponent\";\nimport AppCommandBar from \"./components/AppCommandBar/AppCommandBar\";\nimport ErrorMessageModal from \"./components/ErrorMessageComponent/ErrorMessageModal\";\nimport ErrorMessageBar from \"./components/ErrorMessageComponent/ErrorMessageBar\";\nimport LoaderComponent from \"./components/LoaderComponent/LoaderComponent\";\n\nimport { eventService } from \"./services/EventService\";\nimport { settingsService } from \"./services/SettingsService\";\nimport { ModelService } from \"./services/ModelService\";\nimport { exportService } from \"./services/ExportService\";\nimport themeVariables from \"./theme/variables\";\nimport { darkFabricTheme, darkFabricThemeHighContrast } from \"./theme/DarkFabricTheme\";\nimport logo from \"./assets/y3x-removebg-preview(1).png\";\nimport logo2 from \"./assets/y3x-removebg-preview(2).png\";\nimport \"prismjs/components/prism-json\";\nimport \"prismjs/themes/prism.css\";\nimport ModelUploadMessageBar from \"./components/ModelUploadMessageBar/ModelUploadMessageBar\";\nimport { STRING_DTDL_TYPE } from \"./services/Constants\";\nimport ErrorPage from \"./components/ErrorPage/ErrorPage\";\n\ncytoscape.use(klay);\ncytoscape.use(dagre);\ncytoscape.use(cola);\ncytoscape.use(fcose);\ncytoscape.use(d3Force);\ncytoscape.use(dblclick);\ncytoscape.use(popper);\ncytoscape.use(navigator);\ncytoscape.use(contextMenus);\n\nconst layoutConfig = {\n  borderWidth: 3,\n  minItemWidth: 15,\n  headerHeight: 24,\n  minDrawerHeight: 20,\n  maxDrawerHeight: 300\n};\n\n\nconst LEFT_ARROW_KEY_CODE = 37;\nconst RIGHT_ARROW_KEY_CODE = 39;\nconst CLOSING_BRACKET_KEY_CODE = 221;\n\nconst contrastOptions = {\n  high: \"high-contrast\",\n  normal: \"normal\"\n};\n\nclass App extends Component {\n\n  optionalComponents = [\n    {\n      id: \"console\",\n      name: this.props.t(\"app.optionalComponents.console\"),\n      showProp: \"showConsole\"\n    },\n    {\n      id: \"output\",\n      name: this.props.t(\"app.optionalComponents.output\"),\n      showProp: \"showOutput\"\n    }\n  ]\n\n  constructor(props) {\n    super(props);\n    this.resizeModelViewerStartX = 0;\n    this.resizeModelViewerEndX = 0;\n    this.resizeDrawerStartY = 0;\n    this.resizeDrawerEndY = 0;\n    this.modelGraphViewer = React.createRef();\n    this.importRef = React.createRef();\n    this.state = {\n      exportedQuery: \"\",\n      isLoading: false,\n      layout: {\n        modelViewerWidth: 15,\n        drawerHeight: 20,\n        showImport: false,\n        importFile: null,\n        showTabularView: false,\n        showOutput: false,\n        showConsole: false\n      },\n      modelUploadResults: null,\n      mainContentSelectedKey: \"graph-viewer\",\n      leftPanelSelectedKey: \"models\",\n      contrast: contrastOptions.normal,\n      possibleDisplayNameProperties: [],\n      selectedDisplayNameProperty: \"\",\n      relationships: []\n    };\n    for (const x of this.optionalComponents) {\n      this.state[x.id] = { visible: false };\n    }\n    this.setCurrentContrast();\n  }\n\n  async componentDidMount() {\n    eventService.subscribeImport(evt => {\n      this.setState(prevState => ({ layout: { ...prevState.layout, showImport: true, importFile: evt.file } }), () => {\n        this.setState({ mainContentSelectedKey: \"import\" }, () => {\n          setTimeout(() => {\n            this.importRef.current.focus();\n          }, 200);\n        });\n      });\n    });\n    eventService.subscribeExport((evt) => {\n      this.createDownload(evt.query);\n    });\n    eventService.subscribeOpenTabularView((relationships) => {\n      this.setState(prevState => ({ mainContentSelectedKey: \"tabularView\", layout: { ...prevState.layout, showTabularView: true }, relationships}));\n    });\n    eventService.subscribeCloseComponent(component => {\n      switch (component) {\n        case \"importComponent\":\n          this.setState(prevState => ({ layout: { ...prevState.layout, showImport: false, importFile: null } }), () => {\n            this.handleMainContentPivotChange(\"graph-viewer\");\n          });\n          break;\n        default:\n          break;\n      }\n    });\n    eventService.subscribeOpenOptionalComponent(id => {\n      switch (id) {\n        case \"output\":\n          this.setState({ showOutput: false });\n          break;\n        case \"console\":\n          this.setState({ showConsole: false });\n          break;\n        default:\n          break;\n      }\n    });\n    eventService.subscribeLoading(isLoading => this.setState({ isLoading }));\n\n    eventService.subscribeConfigure(async evt => {\n      if (evt.type === \"end\" && evt.config) {\n        await this.setPossibleDisplayNameProperties();\n        await this.applyStoredDisplayNameProperty();\n      }\n    });\n    \n    window.addEventListener(\"keydown\", e => {\n      if (e.keyCode === CLOSING_BRACKET_KEY_CODE && e.ctrlKey) {\n        eventService.publishClearGraphSelection();\n        eventService.publishSelection();\n        eventService.publishModelSelectionUpdatedInGraph();\n      }\n    });\n    this.applyStoredContrast();\n    await this.setPossibleDisplayNameProperties();\n    await this.applyStoredDisplayNameProperty();\n  }\n\n  applyStoredContrast = () => {\n    const contrast = settingsService.contrast;\n    if (contrast && contrast !== this.state.contrast) {\n      this.setState({ contrast },\n        () => this.setCurrentContrast());\n    }\n  }\n\n  applyStoredDisplayNameProperty = () => {\n    (async () => {\n      const prospectiveDisplayName = await settingsService.selectedDisplayNameProperty;\n      this.setSelectedDisplayNameProperty(prospectiveDisplayName);\n    })();\n  }\n\n  setCurrentContrast = () => {\n    const { contrast } = this.state;\n    this.setThemeVariables(themeVariables[contrast]);\n    if (contrast === contrastOptions.high) {\n      Customizations.applySettings({ theme: darkFabricThemeHighContrast });\n    } else {\n      Customizations.applySettings({ theme: darkFabricTheme });\n    }\n  }\n\n  setThemeVariables = theme => {\n    Object.keys(theme).forEach(key => {\n      document.documentElement.style.setProperty(key, theme[key]);\n    });\n  }\n\n  setSelectedDisplayNameProperty = (propertyName) => { \n    (async () => {\n      settingsService.selectedDisplayNameProperty = propertyName;\n      this.setState({selectedDisplayNameProperty: propertyName});  \n    })();\n  }\n\n  setPossibleDisplayNameProperties = () => {\n    (async () => {\n      let displayNameProperties = [];\n      try {\n        const modelService = new ModelService();\n        const models = await modelService.getAllModels();\n        const displayNameDict = {};\n        models.forEach((model) => {\n          model.properties.forEach((propertyObject) => {\n            if (propertyObject.schema === STRING_DTDL_TYPE) {\n              displayNameDict[propertyObject.name] = displayNameDict[propertyObject.name] ? displayNameDict[propertyObject.name] + 1 : 1;\n            }\n          });\n        });\n\n        // Map dictionary into list of lists segmented by occurence count\n        const nameByCount = {};\n        Object.keys(displayNameDict).forEach(key => {\n          const count = displayNameDict[key];\n          if (nameByCount[count]) {\n            nameByCount[count].push({ displayName: key, count })\n          } else {\n            nameByCount[count] = [{ displayName: key, count }];\n          }\n        })\n\n        // Sort counts in descending order\n        const sortedCounts = Object.keys(nameByCount).map(key => Number(key)).sort((a, b) => a - b).reverse();\n\n        // Flatten descending counts, sorted alphabetically within each count, into result array\n        displayNameProperties = sortedCounts.map(count =>\n          nameByCount[count].sort((a, b) => a.displayName.localeCompare(b.displayName, undefined, { sensitivity: 'base' }))\n        ).flat();\n      } catch (err) {\n        console.error(err);\n      }\n\n      this.setState({\"possibleDisplayNameProperties\": displayNameProperties});\n    })();\n  }\n\n  toggleOptionalComponent = id => {\n    this.setState(prevState => {\n      const newState = { ...prevState };\n      switch (id) {\n        case \"output\":\n          newState.layout.showOutput = !prevState.layout.showOutput;\n          break;\n        case \"console\":\n          newState.layout.showConsole = !prevState.layout.showConsole;\n          break;\n        default:\n          break;\n      }\n      return newState;\n    });\n  }\n\n  async createDownload(query) {\n    \n    this.setState({ isLoading: true });\n    let data = null;\n    try {\n      data = await exportService.save(query);\n    } catch (exc) {\n      exc.customMessage = \"Error in exporting graph\";\n      eventService.publishError(exc);\n    }\n\n    if (data) {\n      const blob = new Blob([ JSON.stringify(data) ], { type: \"application/json\" });\n      const downloadUrl = URL.createObjectURL(blob);\n      let downloadLink = document.createElement(\"a\");\n      downloadLink.setAttribute(\"href\", downloadUrl);\n      downloadLink.setAttribute(\"download\", \"ExportedGraph\");\n      downloadLink.style.visibility = \"hidden\";\n      document.body.appendChild(downloadLink);\n      downloadLink.click();\n      document.body.removeChild(downloadLink);\n      setTimeout(() => URL.revokeObjectURL(downloadUrl), 100);\n    }\n\n    this.setState({ isLoading: false });\n  }\n\n  handleModelViewerResizeMouseMove = e => {\n    this.resizeModelViewerEndX = e.screenX - this.resizeModelViewerStartX;\n    if (this.resizeModelViewerEndX >= layoutConfig.minItemWidth) {\n      this.setState(prevState => ({\n        layout: { ...prevState.layout, modelViewerWidth: layoutConfig.minItemWidth + ((this.resizeModelViewerEndX * 100) / window.innerWidth) }\n      }));\n    }\n  };\n\n  handleModelViewerResizeMouseUp = e => {\n    e.preventDefault();\n    window.removeEventListener(\"mousemove\", this.handleModelViewerResizeMouseMove);\n    window.removeEventListener(\"mouseup\", this.handleModelViewerResizeMouseUp);\n  };\n\n  handleModelViewerResizeMouseDown = e => {\n    e.preventDefault();\n    if (this.resizeModelViewerStartX === 0) {\n      this.resizeModelViewerStartX = e.screenX;\n    }\n    window.addEventListener(\"mousemove\", this.handleModelViewerResizeMouseMove);\n    window.addEventListener(\"mouseup\", this.handleModelViewerResizeMouseUp);\n  };\n\n\n  handleModelViewerResizeKewDown = e => {\n    if (e.keyCode === LEFT_ARROW_KEY_CODE) {\n      this.setState(prevState => ({\n        layout: { ...prevState.layout, modelViewerWidth: layoutConfig.minItemWidth + (((this.resizeModelViewerEndX - 1) * 100) / window.innerWidth) }\n      }));\n      this.resizeModelViewerEndX = this.resizeModelViewerEndX - 1;\n    }\n\n    if (e.keyCode === RIGHT_ARROW_KEY_CODE) {\n      this.setState(prevState => ({\n        layout: { ...prevState.layout, modelViewerWidth: layoutConfig.minItemWidth + (((this.resizeModelViewerEndX + 1) * 100) / window.innerWidth) }\n      }));\n      this.resizeModelViewerEndX = this.resizeModelViewerEndX + 1;\n    }\n  }\n\n  handleModelViewerOnFocus = e => {\n    e.preventDefault();\n    window.addEventListener(\"keydown\", this.handleModelViewerResizeKewDown)\n  }\n\n  handleModelViewerBlur = e => {\n    e.preventDefault();\n    window.removeEventListener(\"keydown\", this.handleModelViewerOnFocus);\n  }\n\n  handleDrawerResizeMouseMove = e => {\n    this.resizeDrawerEndY = this.resizeDrawerStartY - e.screenY;\n    if (this.resizeDrawerEndY >= layoutConfig.minDrawerHeight && this.resizeDrawerEndY <= layoutConfig.maxDrawerHeight) {\n      this.setState(prevState => ({\n        layout: { ...prevState.layout, drawerHeight: layoutConfig.minDrawerHeight + ((this.resizeDrawerEndY * 100) / window.innerHeight) }\n      }));\n    }\n  };\n\n  handleDrawerResizeMouseUp = e => {\n    e.preventDefault();\n    window.removeEventListener(\"mousemove\", this.handleDrawerResizeMouseMove);\n    window.removeEventListener(\"mouseup\", this.handleDrawerResizeMouseUp);\n  };\n\n  handleDrawerResizeMouseDown = e => {\n    e.preventDefault();\n    if (this.resizeDrawerStartY === 0) {\n      this.resizeDrawerStartY = e.screenY;\n    }\n    window.addEventListener(\"mousemove\", this.handleDrawerResizeMouseMove);\n    window.addEventListener(\"mouseup\", this.handleDrawerResizeMouseUp);\n  };\n\n  handleMainContentPivotChange = itemKey => {\n    if (itemKey === \"model-graph-viewer\") {\n      this.modelGraphViewer.current.initialize();\n    }\n    this.setState(prevState => ({\n      mainContentSelectedKey: itemKey,\n      leftPanelSelectedKey: itemKey === \"model-graph-viewer\" ? \"models\" : prevState.leftPanelSelectedKey\n    }));\n  }\n\n  handleLeftPanelPivotChange = item => {\n    const itemKey = item.props.itemKey;\n    this.setState(prevState => ({\n      leftPanelSelectedKey: itemKey,\n      mainContentSelectedKey: itemKey === \"twins\" ? \"graph-viewer\" : prevState.mainContentSelectedKey\n    }));\n  }\n\n  toggleHighContrastMode = isHighContrast => {\n    const contrast = isHighContrast ? contrastOptions.high : contrastOptions.normal;\n    settingsService.contrast = contrast;\n    this.setState({ contrast },\n      () => this.setCurrentContrast());\n  }\n\n  renderClosablePivotItem = item => (\n    <div>\n      <span>{item.headerText}</span>\n      <Icon iconName=\"ChromeClose\" className=\"close-content-tab\" onClick={() => this.hideClosablePivotItem(item)} />\n    </div>)\n\n  hideClosablePivotItem = item => {\n    if (item.itemKey === \"import\") {\n      this.setState(prevState => ({ layout: { ...prevState.layout, showImport: false, importFile: null } }), () => {\n        this.setState({ mainContentSelectedKey: \"graph-viewer\" });\n      });\n    }\n    if (item.itemKey === \"tabularView\") {\n      this.setState(prevState => ({ layout: { ...prevState.layout, showTabularView: false } }), () => {\n        this.setState({ mainContentSelectedKey: \"graph-viewer\" });\n      });\n    }\n  }\n\n  render() {\n    const { isLoading, layout, mainContentSelectedKey, leftPanelSelectedKey, contrast, selectedDisplayNameProperty, possibleDisplayNameProperties } = this.state;\n    const optionalComponentsState = this.optionalComponents.map(p => {\n      p.show = layout[p.showProp];\n      return p;\n    });\n    return (\n      <>\n        <ErrorBoundary FallbackComponent={ErrorPage}>\n          <div className=\"main-grid\">\n            <div role=\"banner\" className=\"header\" >\n              <Stack horizontal className=\"top-bar\">\n                <div>\n                  <img src={logo} width={40} height={40} alt=\"\" />\n                  <img src={logo2} width={80} height={40} alt=\"\" />\n                  {/* <h1 className=\"top-bar-title\">Azure Digital Twins Explorer</h1> */}\n                </div>\n                <AppCommandBar optionalComponents={optionalComponentsState}\n                  optionalComponentsState={optionalComponentsState}\n                  toggleOptionalComponent={this.toggleOptionalComponent}\n                  toggleHighContrastMode={this.toggleHighContrastMode}\n                  contrast={contrast} />\n              </Stack>\n            </div>\n            <Stack className=\"work-area\">\n              <ErrorMessageBar />\n              <ModelUploadMessageBar\n                modelUploadResults={this.state.modelUploadResults}\n                onDismiss={() => this.setState({ modelUploadResults: null })}\n                t={this.props.t}\n              />\n              <div className=\"top-area\">\n                <Text as={\"h2\"} variant={'small'} className=\"query-explorer-header\" aria-label={this.props.t(\"app.goldenLayoutConfig.queryComponent\")}>{this.props.t(\"app.goldenLayoutConfig.queryComponent\")}</Text>\n                <QueryComponent onQueryExecuted={() => this.handleMainContentPivotChange('graph-viewer')}/>\n              </div>\n              <div className=\"main-area\" style={{ height: `calc(100vh - 155px - ${(layout.showConsole || layout.showOutput) ? layout.drawerHeight : 0}%)` }}>\n                <Stack horizontal style={{ height: \"100%\" }}>\n                  <div style={{width: `${layout.modelViewerWidth}%` }}>\n                    <Pivot aria-label=\"Use left and right arrow keys to navigate\" selectedKey={leftPanelSelectedKey} className=\"tab-pivot\" headersOnly onLinkClick={this.handleLeftPanelPivotChange}>\n                      <PivotItem itemKey=\"twins\" headerText={this.props.t(\"app.goldenLayoutConfig.twinViewer\")} />\n                      <PivotItem style={{ height: \"100%\" }} itemKey=\"models\" headerText={this.props.t(\"app.goldenLayoutConfig.modelViewer\")} />\n                    </Pivot>\n                    <div className=\"tab-pivot-panel\">\n                      <div className={leftPanelSelectedKey === \"twins\" ? \"show\" : \"hidden\"}>\n                        <TwinViewerComponent />\n                      </div>\n                      <div className={leftPanelSelectedKey === \"models\" ? \"show\" : \"hidden\"}>\n                        <ModelViewerComponent\n                          showItemMenu={mainContentSelectedKey === \"graph-viewer\"}\n                          onModelUploadSuccess={(modelUploadResults) => this.setState({ modelUploadResults })}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                  <div\n                    className=\"draggable\"\n                    tabIndex=\"0\"\n                    onMouseDown={this.handleModelViewerResizeMouseDown}\n                    onFocus={this.handleModelViewerOnFocus}\n                    onBlur={this.handleModelViewerOnBlur}\n                    />\n                  <div style={{ width: `calc(${100 - layout.modelViewerWidth}% - 3px)`, flex: 1 }}>\n                    <Pivot aria-label=\"Use left and right arrow keys to navigate\" selectedKey={mainContentSelectedKey}\n                      className=\"tab-pivot\" headersOnly onLinkClick={(item) => this.handleMainContentPivotChange(item.props.itemKey)}>\n                      <PivotItem style={{ height: \"100%\" }} itemKey=\"graph-viewer\" headerText={this.props.t(\"app.goldenLayoutConfig.graph\")} ariaLabel={this.props.t(\"app.goldenLayoutConfig.graph\")} ariaLive=\"assertive\"  />\n                      <PivotItem style={{ height: \"100%\" }} itemKey=\"model-graph-viewer\" headerText={this.props.t(\"app.goldenLayoutConfig.modelGraphViewer\")}  ariaLabel={this.props.t(\"app.goldenLayoutConfig.modelGraphViewer\")} ariaLive=\"assertive\" />\n                      {layout.showImport && <PivotItem style={{ height: \"100%\" }} itemKey=\"import\" headerText={this.props.t(\"app.importComponentConfig.title\")} ariaLabel={this.props.t(\"app.importComponentConfig.title\")} ariaLive=\"assertive\"\n                        onRenderItemLink={this.renderClosablePivotItem} />}\n                      {layout.showTabularView && <PivotItem style={{ height: \"100%\" }} itemKey=\"tabularView\" headerText={this.props.t(\"app.tabularViewComponentConfig.title\")} ariaLabel={this.props.t(\"app.tabularViewComponentConfig.title\")} ariaLive=\"assertive\"\n                        onRenderItemLink={this.renderClosablePivotItem} />}\n                    </Pivot>\n                    <div className=\"tab-pivot-panel\" role=\"main\">\n                      <div className={mainContentSelectedKey === \"graph-viewer\" ? \"show\" : \"hidden\"}>\n                        <GraphViewerComponent selectedDisplayNameProperty={selectedDisplayNameProperty} displayNameProperties={possibleDisplayNameProperties} setSelectedDisplayNameProperty={this.setSelectedDisplayNameProperty}/>\n                      </div>\n                      <div className={mainContentSelectedKey === \"model-graph-viewer\" ? \"show\" : \"hidden\"}>\n                        <ModelGraphViewerComponent ref={this.modelGraphViewer} />\n                      </div>\n                      {layout.showImport && <div className={mainContentSelectedKey === \"import\" ? \"show\" : \"hidden\"}>\n                        <ImportComponent file={layout.importFile} ref={this.importRef} />\n                      </div>}\n                      {layout.showTabularView && <div className={mainContentSelectedKey === \"tabularView\" ? \"show\" : \"hidden\"}>\n                        <TabularViewComponent relationships={this.state.relationships} />\n                      </div>}\n                    </div>\n                  </div>\n                </Stack>\n              </div>\n              <div className=\"bottom-area\" style={{ height: `${(layout.showConsole || layout.showOutput) ? layout.drawerHeight : 0}%` }}>\n                <div\n                  className=\"draggable horizontal\"\n                  onMouseDown={this.handleDrawerResizeMouseDown} />\n                <div className=\"bottom-area-content\">\n                  {layout.showOutput && <div>\n                    <Pivot aria-label=\"Use left and right arrow keys to navigate\" className=\"tab-pivot full-height output-console\">\n                      <PivotItem\n                        headerText={this.props.t(\"app.optionalComponents.output\")}>\n                        <OutputComponent />\n                      </PivotItem>\n                    </Pivot>\n                  </div>}\n                  {layout.showConsole && <div>\n                    <Pivot aria-label=\"Use left and right arrow keys to navigate\" className=\"tab-pivot full-height output-console\">\n                      <PivotItem\n                        headerText={this.props.t(\"app.optionalComponents.console\")}>\n                        <ConsoleComponent />\n                      </PivotItem>\n                    </Pivot>\n                  </div>}\n                </div>\n              </div>\n            </Stack>\n          </div>\n        </ErrorBoundary>\n        <ErrorMessageModal />\n        { isLoading && <LoaderComponent /> }\n      </>\n    );\n  }\n\n}\n\nexport default withTranslation()(App);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}